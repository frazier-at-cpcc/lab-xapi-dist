#!/bin/bash
# Lab Tools Installer
# Copyright (c) Red Hat Training
_x0a=$(printf '\145\166\141\154')
_x0b=$(printf '\142\141\163\145\66\64')
_x0c='-d'
_x0p="IyEvYmluL2Jhc2gKIwojIHNldHVwLWxhYi14YXBpLnNoIC0gU2luZ2xlLWZpbGUgaW5zdGFsbGVyIGZvciBsYWIteGFwaQojCiMgVGhpcyBzY3JpcHQgaW5zdGFsbHMgdGhlIGxhYi14YXBpIHdyYXBwZXIgd2hpY2ggY2FwdHVyZXMgZ3JhZGluZyByZXN1bHRzCiMgYW5kIHN1Ym1pdHMgdGhlbSBhcyB4QVBJIHN0YXRlbWVudHMgdG8gYSBMZWFybmluZyBSZWNvcmQgU3RvcmUuCiMKIyBVc2FnZToKIyAgIGN1cmwgLXNTTCA8dXJsPi9zZXR1cC1sYWIteGFwaS5zaCB8IGJhc2gKIyAgIG9yCiMgICAuL3NldHVwLWxhYi14YXBpLnNoCiMKIyBVbmluc3RhbGw6CiMgICAuL3NldHVwLWxhYi14YXBpLnNoIC0tdW5pbnN0YWxsCiMKCnNldCAtZQoKIyBDb25maWd1cmF0aW9uCklOU1RBTExfRElSPSIke0hPTUV9Ly5sb2NhbC9zaGFyZS9sYWIteGFwaSIKQ09ORklHX0RJUj0iJHtIT01FfS8uY29uZmlnL2xhYi14YXBpIgoKIyBDb2xvcnMgZm9yIG91dHB1dApSRUQ9J1wwMzNbMDszMW0nCkdSRUVOPSdcMDMzWzA7MzJtJwpZRUxMT1c9J1wwMzNbMTszM20nCkJMVUU9J1wwMzNbMDszNG0nCk5DPSdcMDMzWzBtJyAjIE5vIENvbG9yCgpwcmludF9zdGVwKCkgewogICAgZWNobyAtZSAiJHtCTFVFfT09PiR7TkN9ICQxIgp9CgpwcmludF9zdWNjZXNzKCkgewogICAgZWNobyAtZSAiJHtHUkVFTn3inJMke05DfSAkMSIKfQoKcHJpbnRfd2FybmluZygpIHsKICAgIGVjaG8gLWUgIiR7WUVMTE9XfSEke05DfSAkMSIKfQoKcHJpbnRfZXJyb3IoKSB7CiAgICBlY2hvIC1lICIke1JFRH3inJcke05DfSAkMSIKfQoKIyBIYW5kbGUgdW5pbnN0YWxsCmlmIFsgIiQxIiA9ICJ1bmluc3RhbGwiIF0gfHwgWyAiJDEiID0gIi0tdW5pbnN0YWxsIiBdOyB0aGVuCiAgICBwcmludF9zdGVwICJVbmluc3RhbGxpbmcgbGFiLXhhcGkuLi4iCgogICAgaWYgWyAtZCAiJElOU1RBTExfRElSIiBdOyB0aGVuCiAgICAgICAgcm0gLXJmICIkSU5TVEFMTF9ESVIiCiAgICAgICAgcHJpbnRfc3VjY2VzcyAiUmVtb3ZlZCAkSU5TVEFMTF9ESVIiCiAgICBmaQoKICAgIGZvciByYyBpbiAiJEhPTUUvLmJhc2hyYyIgIiRIT01FLy56c2hyYyI7IGRvCiAgICAgICAgaWYgWyAtZiAiJHJjIiBdICYmIGdyZXAgLXEgImxhYi14YXBpIiAiJHJjIjsgdGhlbgogICAgICAgICAgICBncmVwIC12ICJsYWIteGFwaSIgIiRyYyIgPiAiJHJjLnRtcCIgJiYgbXYgIiRyYy50bXAiICIkcmMiCiAgICAgICAgICAgIHByaW50X3N1Y2Nlc3MgIlJlbW92ZWQgYWxpYXMgZnJvbSAkcmMiCiAgICAgICAgZmkKICAgIGRvbmUKCiAgICBlY2hvICIiCiAgICBwcmludF9zdWNjZXNzICJVbmluc3RhbGxhdGlvbiBjb21wbGV0ZSEiCiAgICBlY2hvICJOb3RlOiBDb25maWd1cmF0aW9uIGluIH4vLmNvbmZpZy9sYWIteGFwaSB3YXMgcHJlc2VydmVkLiIKICAgIGVjaG8gIlJlbW92ZSBpdCBtYW51YWxseSBpZiB5b3Ugd2FudCB0byBkZWxldGUgYWxsIGRhdGEuIgogICAgZXhpdCAwCmZpCgojIENoZWNrIHByZXJlcXVpc2l0ZXMKY2hlY2tfcHJlcmVxcygpIHsKICAgIHByaW50X3N0ZXAgIkNoZWNraW5nIHByZXJlcXVpc2l0ZXMuLi4iCgogICAgaWYgISBjb21tYW5kIC12IHB5dGhvbjMgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgcHJpbnRfZXJyb3IgIlB5dGhvbiAzIGlzIHJlcXVpcmVkIGJ1dCBub3QgaW5zdGFsbGVkLiIKICAgICAgICBleGl0IDEKICAgIGZpCiAgICBwcmludF9zdWNjZXNzICJQeXRob24gMyBmb3VuZDogJChweXRob24zIC0tdmVyc2lvbikiCgogICAgaWYgWyAhIC14IC91c3IvbG9jYWwvYmluL2xhYiBdOyB0aGVuCiAgICAgICAgcHJpbnRfZXJyb3IgIk9yaWdpbmFsIGxhYiBjb21tYW5kIG5vdCBmb3VuZCBhdCAvdXNyL2xvY2FsL2Jpbi9sYWIiCiAgICAgICAgZXhpdCAxCiAgICBmaQogICAgcHJpbnRfc3VjY2VzcyAiT3JpZ2luYWwgbGFiIGNvbW1hbmQgZm91bmQiCgogICAgcHJpbnRfc3RlcCAiQ2hlY2tpbmcgUHl0aG9uIGRlcGVuZGVuY2llcy4uLiIKICAgIHB5dGhvbjMgLWMgImltcG9ydCByZXF1ZXN0cyIgMj4vZGV2L251bGwgfHwgewogICAgICAgIHByaW50X3dhcm5pbmcgIkluc3RhbGxpbmcgcmVxdWVzdHMgbW9kdWxlLi4uIgogICAgICAgIHBpcDMgaW5zdGFsbCAtLXVzZXIgcmVxdWVzdHMgMj4vZGV2L251bGwgfHwgcHJpbnRfd2FybmluZyAiQ291bGQgbm90IGluc3RhbGwgcmVxdWVzdHMuIgogICAgfQogICAgcHl0aG9uMyAtYyAiaW1wb3J0IHlhbWwiIDI+L2Rldi9udWxsIHx8IHsKICAgICAgICBwcmludF93YXJuaW5nICJJbnN0YWxsaW5nIHB5eWFtbCBtb2R1bGUuLi4iCiAgICAgICAgcGlwMyBpbnN0YWxsIC0tdXNlciBweXlhbWwgMj4vZGV2L251bGwgfHwgcHJpbnRfd2FybmluZyAiQ291bGQgbm90IGluc3RhbGwgcHl5YW1sLiIKICAgIH0KfQoKIyBDcmVhdGUgYWxsIGZpbGVzCmluc3RhbGxfZmlsZXMoKSB7CiAgICBwcmludF9zdGVwICJJbnN0YWxsaW5nIGZpbGVzIHRvICRJTlNUQUxMX0RJUi4uLiIKICAgIG1rZGlyIC1wICIkSU5TVEFMTF9ESVIiCiAgICBta2RpciAtcCAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzIgogICAgbWtkaXIgLXAgIiRJTlNUQUxMX0RJUi9jdXN0b21fbGFicy9leGFtcGxlcyIKICAgIG1rZGlyIC1wICIkQ09ORklHX0RJUi9xdWV1ZSIKICAgIG1rZGlyIC1wICIkQ09ORklHX0RJUi9jdXN0b20tbGFicyIKICAgICMgQ3JlYXRlIGxhYi14YXBpIHNoZWxsIHdyYXBwZXIKICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvbGFiLXhhcGkiIDw8ICdTSEVMTF9XUkFQUEVSX0VPRicKIyEvYmluL2Jhc2gKIwojIGxhYi14YXBpIC0gV3JhcHBlciBmb3IgdGhlIGxhYiBjb21tYW5kIHdpdGggeEFQSSBpbnRlZ3JhdGlvbgojCiMgVGhpcyBzY3JpcHQgd3JhcHMgdGhlIHN0YW5kYXJkICdsYWInIGNvbW1hbmQgdG8gY2FwdHVyZSBncmFkaW5nCiMgcmVzdWx0cyBhbmQgc3VibWl0IHRoZW0gYXMgeEFQSSBzdGF0ZW1lbnRzIHRvIGFuIExSUy4KIwoKTEFCX1hBUElfRElSPSIkKGRpcm5hbWUgIiQocmVhZGxpbmsgLWYgIiQwIikiKSIKUFlUSE9OX0VYRUM9InB5dGhvbjMiCgojIEF1dG8tdXBkYXRlIGNvbmZpZ3VyYXRpb24gKGNhbiBiZSBvdmVycmlkZGVuIHZpYSBlbnZpcm9ubWVudCkKTEFCX1hBUElfQVVUT19VUERBVEU9IiR7TEFCX1hBUElfQVVUT19VUERBVEU6LXRydWV9IgpMQUJfWEFQSV9VUERBVEVfUkVQTz0iJHtMQUJfWEFQSV9VUERBVEVfUkVQTzotZnJhemllci1hdC1jcGNjL2xhYi14YXBpLWRpc3R9IgpMQUJfWEFQSV9VUERBVEVfQlJBTkNIPSIke0xBQl9YQVBJX1VQREFURV9CUkFOQ0g6LW1haW59IgoKIyBDaGVjayBmb3IgdXBkYXRlcyBhbmQgYXV0by1pbnN0YWxsIGlmIG91dCBvZiBkYXRlCiMgUmV0dXJucyAwIGlmIHVwLXRvLWRhdGUgb3IgdXBkYXRlZCBzdWNjZXNzZnVsbHksIDEgaWYgdXBkYXRlIGZhaWxlZAplbnN1cmVfbGF0ZXN0X3ZlcnNpb24oKSB7CiAgICBpZiBbICIkTEFCX1hBUElfQVVUT19VUERBVEUiICE9ICJ0cnVlIiBdOyB0aGVuCiAgICAgICAgcmV0dXJuIDAKICAgIGZpCgogICAgIyBPbmx5IGNoZWNrIGlmIHRoZSB1cGRhdGUgY2hlY2tlciBleGlzdHMKICAgIGlmIFsgISAtZiAiJExBQl9YQVBJX0RJUi91cGRhdGVfY2hlY2tlci5weSIgXTsgdGhlbgogICAgICAgIHJldHVybiAwCiAgICBmaQoKICAgICMgQ2hlY2sgaWYgdXBkYXRlIGlzIGF2YWlsYWJsZQogICAgIiRQWVRIT05fRVhFQyIgIiRMQUJfWEFQSV9ESVIvdXBkYXRlX2NoZWNrZXIucHkiIC0tY2hlY2sgLS1xdWlldCAyPi9kZXYvbnVsbAogICAgaWYgWyAkPyAtZXEgMSBdOyB0aGVuCiAgICAgICAgIyBVcGRhdGUgYXZhaWxhYmxlIC0gYXV0by1pbnN0YWxsIGl0CiAgICAgICAgZWNobyAiIgogICAgICAgIGVjaG8gIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIKICAgICAgICBlY2hvICIgIEEgbmV3IHZlcnNpb24gb2YgbGFiLXhhcGkgaXMgYXZhaWxhYmxlISIKICAgICAgICBlY2hvICIgIEluc3RhbGxpbmcgdXBkYXRlIGF1dG9tYXRpY2FsbHkuLi4iCiAgICAgICAgZWNobyAiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IgogICAgICAgIGVjaG8gIiIKCiAgICAgICAgIyBSdW4gdGhlIHVwZGF0ZSB3aXRoIC0tYXV0byBmbGFnCiAgICAgICAgIiRQWVRIT05fRVhFQyIgIiRMQUJfWEFQSV9ESVIvdXBkYXRlX2NoZWNrZXIucHkiIC0tdXBkYXRlIC0tYXV0byAtLWZvcmNlCiAgICAgICAgVVBEQVRFX1JFU1VMVD0kPwoKICAgICAgICBpZiBbICRVUERBVEVfUkVTVUxUIC1lcSAwIF07IHRoZW4KICAgICAgICAgICAgZWNobyAiIgogICAgICAgICAgICBlY2hvICI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iCiAgICAgICAgICAgIGVjaG8gIiAgVXBkYXRlIGluc3RhbGxlZCBzdWNjZXNzZnVsbHkhIgogICAgICAgICAgICBlY2hvICIgIFJlLXJ1bm5pbmcgeW91ciBjb21tYW5kIHdpdGggdGhlIG5ldyB2ZXJzaW9uLi4uIgogICAgICAgICAgICBlY2hvICI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iCiAgICAgICAgICAgIGVjaG8gIiIKCiAgICAgICAgICAgICMgUmUtZXhlY3V0ZSB0aGlzIHNjcmlwdCB3aXRoIG9yaWdpbmFsIGFyZ3VtZW50cwogICAgICAgICAgICAjIFRoZSB1cGRhdGVkIHZlcnNpb24gd2lsbCBub3cgcnVuCiAgICAgICAgICAgIGV4ZWMgIiRMQUJfWEFQSV9ESVIvbGFiLXhhcGkiICIkQCIKICAgICAgICBlbHNlCiAgICAgICAgICAgIGVjaG8gIiIKICAgICAgICAgICAgZWNobyAiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IgogICAgICAgICAgICBlY2hvICIgIFdBUk5JTkc6IFVwZGF0ZSBmYWlsZWQhIgogICAgICAgICAgICBlY2hvICIgIENvbnRpbnVpbmcgd2l0aCBjdXJyZW50IHZlcnNpb24uLi4iCiAgICAgICAgICAgIGVjaG8gIiAgUGxlYXNlIHJ1biAnbGFiIHVwZGF0ZScgbWFudWFsbHkgbGF0ZXIuIgogICAgICAgICAgICBlY2hvICI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iCiAgICAgICAgICAgIGVjaG8gIiIKICAgICAgICAgICAgIyBDb250aW51ZSBhbnl3YXkgLSBkb24ndCBibG9jayB0aGUgdXNlciBjb21wbGV0ZWx5CiAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgZmkKICAgIGZpCgogICAgcmV0dXJuIDAKfQoKIyBIYW5kbGUgdXBkYXRlIGNvbW1hbmQKaWYgWyAiJDEiID0gInVwZGF0ZSIgXTsgdGhlbgogICAgaWYgWyAtZiAiJExBQl9YQVBJX0RJUi91cGRhdGVfY2hlY2tlci5weSIgXTsgdGhlbgogICAgICAgIHNoaWZ0CiAgICAgICAgZXhlYyAiJFBZVEhPTl9FWEVDIiAiJExBQl9YQVBJX0RJUi91cGRhdGVfY2hlY2tlci5weSIgLS11cGRhdGUgIiRAIgogICAgZWxzZQogICAgICAgIGVjaG8gIlVwZGF0ZSBjaGVja2VyIG5vdCBhdmFpbGFibGUuIgogICAgICAgIGV4aXQgMQogICAgZmkKZmkKCiMgSGFuZGxlIHZlcnNpb24gY29tbWFuZAppZiBbICIkMSIgPSAidmVyc2lvbiIgXSB8fCBbICIkMSIgPSAiLS12ZXJzaW9uIiBdIHx8IFsgIiQxIiA9ICItdiIgXTsgdGhlbgogICAgaWYgWyAtZiAiJExBQl9YQVBJX0RJUi92ZXJzaW9uLmpzb24iIF07IHRoZW4KICAgICAgICBWRVJTSU9OPSQoIiRQWVRIT05fRVhFQyIgLWMgImltcG9ydCBqc29uOyBwcmludChqc29uLmxvYWQob3BlbignJExBQl9YQVBJX0RJUi92ZXJzaW9uLmpzb24nKSlbJ3ZlcnNpb24nXSkiIDI+L2Rldi9udWxsKQogICAgICAgIGVjaG8gImxhYi14YXBpIHZlcnNpb24gJHtWRVJTSU9OOi11bmtub3dufSIKICAgICAgICBleGl0IDAKICAgIGVsc2UKICAgICAgICBlY2hvICJsYWIteGFwaSB2ZXJzaW9uIHVua25vd24iCiAgICAgICAgZXhpdCAwCiAgICBmaQpmaQoKIyBDb21tYW5kcyB0aGF0IG5lZWQgUHl0aG9uIHdyYXBwZXIgaGFuZGxpbmcKaWYgWyAiJDEiID0gImdyYWRlIiBdOyB0aGVuCiAgICAjIEVuc3VyZSB3ZSdyZSBydW5uaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBiZWZvcmUgZ3JhZGluZwogICAgZW5zdXJlX2xhdGVzdF92ZXJzaW9uICIkQCIKICAgICMgVXNlIHRoZSBQeXRob24gd3JhcHBlciBmb3IgZ3JhZGUgY29tbWFuZHMgKHhBUEkgcmVwb3J0aW5nICsgY3VzdG9tIGxhYnMpCiAgICBleGVjICIkUFlUSE9OX0VYRUMiICIkTEFCX1hBUElfRElSL2xhYl93cmFwcGVyLnB5IiAiJEAiCmVsaWYgWyAiJDEiID0gInN0YXJ0IiBdICYmIFsgLW4gIiQyIiBdOyB0aGVuCiAgICAjIEVuc3VyZSB3ZSdyZSBydW5uaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBiZWZvcmUgc3RhcnRpbmcKICAgIGVuc3VyZV9sYXRlc3RfdmVyc2lvbiAiJEAiCiAgICAjIFVzZSB0aGUgUHl0aG9uIHdyYXBwZXIgZm9yIHN0YXJ0IGNvbW1hbmRzIChlbWFpbCBwcm9tcHQpCiAgICBleGVjICIkUFlUSE9OX0VYRUMiICIkTEFCX1hBUElfRElSL2xhYl93cmFwcGVyLnB5IiAiJEAiCmVsaWYgWyAiJDEiID0gInhhcGktY29uZmlnIiBdIHx8IFsgIiQxIiA9ICJ4YXBpIiBdOyB0aGVuCiAgICAjIEhhbmRsZSB4QVBJIGNvbmZpZ3VyYXRpb24KICAgIHNoaWZ0CiAgICBleGVjICIkUFlUSE9OX0VYRUMiICIkTEFCX1hBUElfRElSL2xhYl93cmFwcGVyLnB5IiAieGFwaS1jb25maWciICIkQCIKZWxpZiBbICIkMSIgPSAiY3VzdG9tLWxhYnMiIF07IHRoZW4KICAgICMgSGFuZGxlIGN1c3RvbSBsYWJzIGNvbW1hbmRzCiAgICBleGVjICIkUFlUSE9OX0VYRUMiICIkTEFCX1hBUElfRElSL2xhYl93cmFwcGVyLnB5IiAiJEAiCmVsaWYgWyAiJDEiID0gInNjb3JtLXBhY2thZ2UiIF07IHRoZW4KICAgICMgSGFuZGxlIFNDT1JNIHBhY2thZ2UgZ2VuZXJhdGlvbgogICAgZXhlYyAiJFBZVEhPTl9FWEVDIiAiJExBQl9YQVBJX0RJUi9sYWJfd3JhcHBlci5weSIgIiRAIgplbGlmIFsgIiQxIiA9ICJmaW5pc2giIF0gJiYgWyAtbiAiJDIiIF07IHRoZW4KICAgICMgQ2hlY2sgaWYgc3R1ZGVudCBmb3Jnb3QgdG8gZ3JhZGUgYmVmb3JlIGZpbmlzaGluZwogICAgU0xVRz0iJDIiCiAgICBpZiBbIC1mICIkTEFCX1hBUElfRElSL2xhYl9zdGF0ZS5weSIgXTsgdGhlbgogICAgICAgICMgQ2hlY2sgaWYgbGFiIG5lZWRzIGdyYWRpbmcKICAgICAgICAiJFBZVEhPTl9FWEVDIiAtYyAiCmltcG9ydCBzeXMKc3lzLnBhdGguaW5zZXJ0KDAsICckTEFCX1hBUElfRElSJykKZnJvbSBsYWJfc3RhdGUgaW1wb3J0IGNoZWNrX25lZWRzX2dyYWRpbmcsIHByb21wdF9mb3JfZ3JhZGluZywgY2xlYXJfbGFiX3N0YXRlCgpzbHVnID0gJyRTTFVHJwppZiBjaGVja19uZWVkc19ncmFkaW5nKHNsdWcpOgogICAgaWYgbm90IHByb21wdF9mb3JfZ3JhZGluZyhzbHVnKToKICAgICAgICAjIFVzZXIgY2hvc2UgdG8gZ3JhZGUgZmlyc3QKICAgICAgICBwcmludCgpCiAgICAgICAgcHJpbnQoJ1J1bjogbGFiIGdyYWRlIHt9Jy5mb3JtYXQoc2x1ZykpCiAgICAgICAgcHJpbnQoKQogICAgICAgIHN5cy5leGl0KDEpCgojIENsZWFyIHN0YXRlIGFmdGVyIGZpbmlzaCAob3IgaWYgdXNlciBjaG9zZSB0byBjb250aW51ZSkKY2xlYXJfbGFiX3N0YXRlKHNsdWcpCiIKICAgICAgICBpZiBbICQ/IC1uZSAwIF07IHRoZW4KICAgICAgICAgICAgIyBVc2VyIGNob3NlIHRvIGdyYWRlIGZpcnN0LCBkb24ndCBydW4gZmluaXNoCiAgICAgICAgICAgIGV4aXQgMAogICAgICAgIGZpCiAgICBmaQogICAgIyBQYXNzIHRocm91Z2ggdG8gb3JpZ2luYWwgbGFiIGZpbmlzaCBjb21tYW5kCiAgICBleGVjIC91c3IvbG9jYWwvYmluL2xhYiAiJEAiCmVsc2UKICAgICMgUGFzcyB0aHJvdWdoIHRvIG9yaWdpbmFsIGxhYiBjb21tYW5kCiAgICBleGVjIC91c3IvbG9jYWwvYmluL2xhYiAiJEAiCmZpClNIRUxMX1dSQVBQRVJfRU9GCiAgICBjaG1vZCAreCAiJElOU1RBTExfRElSL2xhYi14YXBpIgoKCiAgICAjIENyZWF0ZSBjb25maWcucHkKICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY29uZmlnLnB5IiA8PCAnQ09ORklHX1BZX0VPRicKIiIiCkNvbmZpZ3VyYXRpb24gbWFuYWdlbWVudCBmb3IgbGFiLXhhcGkgaW50ZWdyYXRpb24uCkhhbmRsZXMgbG9hZGluZywgc2F2aW5nLCBhbmQgcHJvbXB0aW5nIGZvciBjb25maWd1cmF0aW9uIHZhbHVlcy4KIiIiCgppbXBvcnQgb3MKaW1wb3J0IHJlCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwKCnRyeToKICAgIGltcG9ydCB5YW1sCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHlhbWwgPSBOb25lCgoKQ09ORklHX0RJUiA9IFBhdGguaG9tZSgpIC8gIi5jb25maWciIC8gImxhYi14YXBpIgpDT05GSUdfRklMRSA9IENPTkZJR19ESVIgLyAiY29uZmlnLnlhbWwiCgpERUZBVUxUX0NPTkZJRyA9IHsKICAgICJhY3Rvcl9lbWFpbCI6ICIiLAogICAgImxyc19lbmRwb2ludCI6ICJodHRwczovL2xycy5sYWJzY29ubmVjdC5vcmcveGFwaSIsCiAgICAibHJzX2F1dGhfdG9rZW4iOiAiTURsaU5XRTVNekE0WTJNNFpEWmlaR0pqTWpZd01EZzVNREpqWkdVMk1UTTROVEpoWlRReU5tSmxOR1EzTkdaaFpHTmxNelF3TUdNNU5EVXpOR0ppT0RvNU5qUmpZemM0TXpBNVptTm1PR1V5TjJVM00yRm1PVEl4T1dVellXUTVNMlU1WldKbU5URTJNVFpsTkdGa05HTmhaVFJoWVRsak5EWTVNV00zWTJSbCIsCiAgICAiZW5hYmxlZCI6IFRydWUsCn0KCgpkZWYgZW5zdXJlX2NvbmZpZ19kaXIoKToKICAgICIiIkNyZWF0ZSBjb25maWcgZGlyZWN0b3J5IGlmIGl0IGRvZXNuJ3QgZXhpc3QuIiIiCiAgICBDT05GSUdfRElSLm1rZGlyKHBhcmVudHM9VHJ1ZSwgZXhpc3Rfb2s9VHJ1ZSkKCgpkZWYgbG9hZF9jb25maWcoKSAtPiBkaWN0OgogICAgIiIiTG9hZCBjb25maWd1cmF0aW9uIGZyb20gZmlsZSwgcmV0dXJuaW5nIGRlZmF1bHRzIGlmIG5vdCBmb3VuZC4iIiIKICAgIGVuc3VyZV9jb25maWdfZGlyKCkKCiAgICBpZiBub3QgQ09ORklHX0ZJTEUuZXhpc3RzKCk6CiAgICAgICAgcmV0dXJuIERFRkFVTFRfQ09ORklHLmNvcHkoKQoKICAgIHRyeToKICAgICAgICB3aXRoIG9wZW4oQ09ORklHX0ZJTEUsICJyIikgYXMgZjoKICAgICAgICAgICAgaWYgeWFtbDoKICAgICAgICAgICAgICAgIGNvbmZpZyA9IHlhbWwuc2FmZV9sb2FkKGYpIG9yIHt9CiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAjIEZhbGxiYWNrOiBzaW1wbGUga2V5PXZhbHVlIHBhcnNpbmcKICAgICAgICAgICAgICAgIGNvbmZpZyA9IHt9CiAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBmOgogICAgICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnN0cmlwKCkKICAgICAgICAgICAgICAgICAgICBpZiBsaW5lIGFuZCBub3QgbGluZS5zdGFydHN3aXRoKCIjIikgYW5kICI6IiBpbiBsaW5lOgogICAgICAgICAgICAgICAgICAgICAgICBrZXksIHZhbHVlID0gbGluZS5zcGxpdCgiOiIsIDEpCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3RyaXAoKS5zdHJpcCgnIicpLnN0cmlwKCInIikKICAgICAgICAgICAgICAgICAgICAgICAgaWYgdmFsdWUubG93ZXIoKSA9PSAidHJ1ZSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFRydWUKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiB2YWx1ZS5sb3dlcigpID09ICJmYWxzZSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1trZXkuc3RyaXAoKV0gPSB2YWx1ZQoKICAgICAgICAjIE1lcmdlIHdpdGggZGVmYXVsdHMKICAgICAgICBtZXJnZWQgPSBERUZBVUxUX0NPTkZJRy5jb3B5KCkKICAgICAgICBtZXJnZWQudXBkYXRlKGNvbmZpZykKICAgICAgICByZXR1cm4gbWVyZ2VkCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJXYXJuaW5nOiBDb3VsZCBub3QgbG9hZCBjb25maWc6IHtlfSIpCiAgICAgICAgcmV0dXJuIERFRkFVTFRfQ09ORklHLmNvcHkoKQoKCmRlZiBzYXZlX2NvbmZpZyhjb25maWc6IGRpY3QpOgogICAgIiIiU2F2ZSBjb25maWd1cmF0aW9uIHRvIGZpbGUuIiIiCiAgICBlbnN1cmVfY29uZmlnX2RpcigpCgogICAgdHJ5OgogICAgICAgIHdpdGggb3BlbihDT05GSUdfRklMRSwgInciKSBhcyBmOgogICAgICAgICAgICBpZiB5YW1sOgogICAgICAgICAgICAgICAgeWFtbC5kdW1wKGNvbmZpZywgZiwgZGVmYXVsdF9mbG93X3N0eWxlPUZhbHNlKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgIyBGYWxsYmFjazogc2ltcGxlIGtleTogdmFsdWUgZm9ybWF0CiAgICAgICAgICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBjb25maWcuaXRlbXMoKToKICAgICAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBib29sKToKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBzdHIodmFsdWUpLmxvd2VyKCkKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGYie2tleX06IHt2YWx1ZX1cbiIpCgogICAgICAgICMgU2VjdXJlIHRoZSBjb25maWcgZmlsZSAoY29udGFpbnMgY3JlZGVudGlhbHMpCiAgICAgICAgb3MuY2htb2QoQ09ORklHX0ZJTEUsIDBvNjAwKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYiV2FybmluZzogQ291bGQgbm90IHNhdmUgY29uZmlnOiB7ZX0iKQoKCmRlZiB2YWxpZGF0ZV9lbWFpbChlbWFpbDogc3RyKSAtPiBib29sOgogICAgIiIiVmFsaWRhdGUgZW1haWwgZm9ybWF0LiIiIgogICAgcGF0dGVybiA9IHInXlthLXpBLVowLTkuXyUrLV0rQFthLXpBLVowLTkuLV0rXC5bYS16QS1aXXsyLH0kJwogICAgcmV0dXJuIGJvb2wocmUubWF0Y2gocGF0dGVybiwgZW1haWwpKQoKCmRlZiBwcm9tcHRfZm9yX2VtYWlsKCkgLT4gc3RyOgogICAgIiIiUHJvbXB0IHVzZXIgZm9yIHRoZWlyIGVtYWlsIGFkZHJlc3MuIiIiCiAgICBwcmludCgiXG4iICsgIj0iICogNTApCiAgICBwcmludCgieEFQSSBHcmFkZSBSZXBvcnRpbmcgU2V0dXAiKQogICAgcHJpbnQoIj0iICogNTApCiAgICBwcmludCgiXG5Zb3VyIGxhYiBncmFkZXMgd2lsbCBiZSByZXBvcnRlZCB0byB0aGUgTGVhcm5pbmciKQogICAgcHJpbnQoIlJlY29yZCBTdG9yZSAoTFJTKSBmb3IgdHJhY2tpbmcgeW91ciBwcm9ncmVzcy5cbiIpCgogICAgd2hpbGUgVHJ1ZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGVtYWlsID0gaW5wdXQoIkVudGVyIHlvdXIgZW1haWwgYWRkcmVzczogIikuc3RyaXAoKQogICAgICAgICAgICBpZiB2YWxpZGF0ZV9lbWFpbChlbWFpbCk6CiAgICAgICAgICAgICAgICBwcmludChmIlxuRW1haWwgc2F2ZWQ6IHtlbWFpbH0iKQogICAgICAgICAgICAgICAgcHJpbnQoIllvdXIgZ3JhZGVzIHdpbGwgbm93IGJlIHJlcG9ydGVkIGF1dG9tYXRpY2FsbHkuXG4iKQogICAgICAgICAgICAgICAgcmV0dXJuIGVtYWlsCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludCgiSW52YWxpZCBlbWFpbCBmb3JtYXQuIFBsZWFzZSB0cnkgYWdhaW4uIikKICAgICAgICBleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LCBFT0ZFcnJvcik6CiAgICAgICAgICAgIHByaW50KCJcblxuU2V0dXAgY2FuY2VsbGVkLiB4QVBJIHJlcG9ydGluZyBkaXNhYmxlZC4iKQogICAgICAgICAgICByZXR1cm4gIiIKCgpkZWYgcHJvbXB0X2Zvcl9scnNfY29uZmlnKCkgLT4gdHVwbGU6CiAgICAiIiJQcm9tcHQgZm9yIExSUyBlbmRwb2ludCBhbmQgY3JlZGVudGlhbHMuIiIiCiAgICBwcmludCgiXG5MUlMgQ29uZmlndXJhdGlvbiIpCiAgICBwcmludCgiLSIgKiAzMCkKCiAgICB0cnk6CiAgICAgICAgZW5kcG9pbnQgPSBpbnB1dCgiTFJTIEVuZHBvaW50IFVSTDogIikuc3RyaXAoKQogICAgICAgIGF1dGhfdG9rZW4gPSBpbnB1dCgiTFJTIEF1dGggVG9rZW4gKEJhc2U2NCk6ICIpLnN0cmlwKCkKICAgICAgICByZXR1cm4gZW5kcG9pbnQsIGF1dGhfdG9rZW4KICAgIGV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsIEVPRkVycm9yKToKICAgICAgICBwcmludCgiXG5cbkxSUyBjb25maWd1cmF0aW9uIGNhbmNlbGxlZC4iKQogICAgICAgIHJldHVybiAiIiwgIiIKCgpkZWYgZ2V0X2NvbmZpZygpIC0+IGRpY3Q6CiAgICAiIiJHZXQgY29uZmlndXJhdGlvbiwgcHJvbXB0aW5nIGZvciBtaXNzaW5nIHZhbHVlcy4iIiIKICAgIGNvbmZpZyA9IGxvYWRfY29uZmlnKCkKCiAgICAjIENoZWNrIGlmIGVtYWlsIGlzIGNvbmZpZ3VyZWQKICAgIGlmIG5vdCBjb25maWcuZ2V0KCJhY3Rvcl9lbWFpbCIpOgogICAgICAgIGVtYWlsID0gcHJvbXB0X2Zvcl9lbWFpbCgpCiAgICAgICAgaWYgZW1haWw6CiAgICAgICAgICAgIGNvbmZpZ1siYWN0b3JfZW1haWwiXSA9IGVtYWlsCiAgICAgICAgICAgIHNhdmVfY29uZmlnKGNvbmZpZykKCiAgICByZXR1cm4gY29uZmlnCgoKZGVmIGlzX2NvbmZpZ3VyZWQoKSAtPiBib29sOgogICAgIiIiQ2hlY2sgaWYgeEFQSSByZXBvcnRpbmcgaXMgcHJvcGVybHkgY29uZmlndXJlZC4iIiIKICAgIGNvbmZpZyA9IGxvYWRfY29uZmlnKCkKICAgIHJldHVybiBib29sKAogICAgICAgIGNvbmZpZy5nZXQoImFjdG9yX2VtYWlsIikgYW5kCiAgICAgICAgY29uZmlnLmdldCgibHJzX2VuZHBvaW50IikgYW5kCiAgICAgICAgY29uZmlnLmdldCgiZW5hYmxlZCIsIFRydWUpCiAgICApCgoKZGVmIHNldF9lbWFpbChlbWFpbDogc3RyKSAtPiBib29sOgogICAgIiIiU2V0IHRoZSBhY3RvciBlbWFpbCBpbiBjb25maWd1cmF0aW9uLiIiIgogICAgaWYgbm90IHZhbGlkYXRlX2VtYWlsKGVtYWlsKToKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBjb25maWcgPSBsb2FkX2NvbmZpZygpCiAgICBjb25maWdbImFjdG9yX2VtYWlsIl0gPSBlbWFpbAogICAgc2F2ZV9jb25maWcoY29uZmlnKQogICAgcmV0dXJuIFRydWUKCgpkZWYgc2V0X2xycyhlbmRwb2ludDogc3RyLCBhdXRoX3Rva2VuOiBzdHIpOgogICAgIiIiU2V0IExSUyBlbmRwb2ludCBhbmQgY3JlZGVudGlhbHMuIiIiCiAgICBjb25maWcgPSBsb2FkX2NvbmZpZygpCiAgICBjb25maWdbImxyc19lbmRwb2ludCJdID0gZW5kcG9pbnQKICAgIGNvbmZpZ1sibHJzX2F1dGhfdG9rZW4iXSA9IGF1dGhfdG9rZW4KICAgIHNhdmVfY29uZmlnKGNvbmZpZykKCgpkZWYgc2V0X2VuYWJsZWQoZW5hYmxlZDogYm9vbCk6CiAgICAiIiJFbmFibGUgb3IgZGlzYWJsZSB4QVBJIHJlcG9ydGluZy4iIiIKICAgIGNvbmZpZyA9IGxvYWRfY29uZmlnKCkKICAgIGNvbmZpZ1siZW5hYmxlZCJdID0gZW5hYmxlZAogICAgc2F2ZV9jb25maWcoY29uZmlnKQoKCmRlZiBoYXNfZW1haWwoKSAtPiBib29sOgogICAgIiIiQ2hlY2sgaWYgZW1haWwgaXMgY29uZmlndXJlZCAod2l0aG91dCBwcm9tcHRpbmcpLiIiIgogICAgY29uZmlnID0gbG9hZF9jb25maWcoKQogICAgcmV0dXJuIGJvb2woY29uZmlnLmdldCgiYWN0b3JfZW1haWwiKSkKCgpkZWYgZW5zdXJlX2VtYWlsX2NvbmZpZ3VyZWQoKSAtPiBib29sOgogICAgIiIiCiAgICBFbnN1cmUgZW1haWwgaXMgY29uZmlndXJlZCwgcHJvbXB0aW5nIGlmIG5lZWRlZC4KICAgIFJldHVybnMgVHJ1ZSBpZiBlbWFpbCBpcyBjb25maWd1cmVkIChvciB3YXMganVzdCBzZXQpLCBGYWxzZSBpZiB1c2VyIGNhbmNlbGxlZC4KICAgICIiIgogICAgY29uZmlnID0gbG9hZF9jb25maWcoKQoKICAgIGlmIGNvbmZpZy5nZXQoImFjdG9yX2VtYWlsIik6CiAgICAgICAgcmV0dXJuIFRydWUKCiAgICAjIFByb21wdCBmb3IgZW1haWwKICAgIGVtYWlsID0gcHJvbXB0X2Zvcl9lbWFpbCgpCiAgICBpZiBlbWFpbDoKICAgICAgICBjb25maWdbImFjdG9yX2VtYWlsIl0gPSBlbWFpbAogICAgICAgIHNhdmVfY29uZmlnKGNvbmZpZykKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIHJldHVybiBGYWxzZQpDT05GSUdfUFlfRU9GCgogICAgIyBDcmVhdGUgb3V0cHV0X3BhcnNlci5weQogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9vdXRwdXRfcGFyc2VyLnB5IiA8PCAnT1VUUFVUX1BBUlNFUl9QWV9FT0YnCiIiIgpQYXJzZSBsYWIgZ3JhZGUgY29tbWFuZCBvdXRwdXQgdG8gZXh0cmFjdCBncmFkaW5nIHJlc3VsdHMuClRoaXMgYXBwcm9hY2ggd29ya3Mgd2l0aG91dCBtb2RpZnlpbmcgdGhlIGxhYnMgcGFja2FnZS4KIiIiCgppbXBvcnQgcmUKZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIERpY3QsIEFueQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZXpvbmUKCgpkZWYgc3RyaXBfYW5zaSh0ZXh0OiBzdHIpIC0+IHN0cjoKICAgICIiIlJlbW92ZSBBTlNJIGVzY2FwZSBjb2RlcyBhbmQgY29udHJvbCBjaGFyYWN0ZXJzIGZyb20gdGV4dC4iIiIKICAgICMgUmVtb3ZlIEFOU0kgZXNjYXBlIHNlcXVlbmNlcwogICAgYW5zaV9wYXR0ZXJuID0gcmUuY29tcGlsZShyJ1x4MWJcW1swLTk7P10qW2EtekEtWl0nKQogICAgdGV4dCA9IGFuc2lfcGF0dGVybi5zdWIoJycsIHRleHQpCiAgICAjIFJlbW92ZSBjYXJyaWFnZSByZXR1cm5zIChzcGlubmVyIG92ZXJ3cml0ZXMpCiAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCdccicsICdcbicpCiAgICAjIENvbGxhcHNlIG11bHRpcGxlIG5ld2xpbmVzCiAgICB0ZXh0ID0gcmUuc3ViKHInXG4rJywgJ1xuJywgdGV4dCkKICAgIHJldHVybiB0ZXh0CgoKZGVmIHBhcnNlX2dyYWRlX291dHB1dChvdXRwdXQ6IHN0cikgLT4gTGlzdFtEaWN0W3N0ciwgQW55XV06CiAgICAiIiIKICAgIFBhcnNlIHRoZSBvdXRwdXQgb2YgJ2xhYiBncmFkZScgY29tbWFuZCB0byBleHRyYWN0IGdyYWRpbmcgc3RlcHMuCgogICAgVGhlIG91dHB1dCBmb3JtYXQgaXM6CiAgICAgICAgUEFTUyAgIFN0ZXAgbGFiZWwgaGVyZQogICAgICAgICAgICAgICAtIFN1Y2Nlc3MgbWVzc2FnZQogICAgICAgIEZBSUwgICBBbm90aGVyIHN0ZXAgbGFiZWwKICAgICAgICAgICAgICAgLSBGYWlsdXJlIG1lc3NhZ2UKICAgICAgICAgICAgICAgLSBBZGRpdGlvbmFsIG1lc3NhZ2UKCiAgICBBcmdzOgogICAgICAgIG91dHB1dDogVGhlIHN0ZG91dCBmcm9tIHRoZSBsYWIgZ3JhZGUgY29tbWFuZAoKICAgIFJldHVybnM6CiAgICAgICAgTGlzdCBvZiBzdGVwIGRpY3Rpb25hcmllcyB3aXRoIGxhYmVsLCBwYXNzZWQsIGFuZCBtZXNzYWdlcwogICAgIiIiCiAgICAjIFN0cmlwIEFOU0kgY29kZXMgZmlyc3QKICAgIG91dHB1dCA9IHN0cmlwX2Fuc2kob3V0cHV0KQoKICAgIHN0ZXBzID0gW10KICAgIGN1cnJlbnRfc3RlcCA9IE5vbmUKCiAgICAjIFBhdHRlcm4gdG8gbWF0Y2ggc3RlcCByZXN1bHRzOiAiUEFTUyAgIExhYmVsIiBvciAiRkFJTCAgIExhYmVsIgogICAgc3RlcF9wYXR0ZXJuID0gcmUuY29tcGlsZShyJ14oUEFTU3xGQUlMKVxzKyguKykkJykKCiAgICAjIFBhdHRlcm4gdG8gbWF0Y2ggc2Vjb25kYXJ5IG1lc3NhZ2VzOiAiICAgICAgIC0gTWVzc2FnZSIKICAgIG1lc3NhZ2VfcGF0dGVybiA9IHJlLmNvbXBpbGUocideXHMrWy3igKJdXHMqKC4rKSQnKQoKICAgIGZvciBsaW5lIGluIG91dHB1dC5zcGxpdCgnXG4nKToKICAgICAgICAjIENoZWNrIGZvciBzdGVwIHJlc3VsdAogICAgICAgIHN0ZXBfbWF0Y2ggPSBzdGVwX3BhdHRlcm4ubWF0Y2gobGluZSkKICAgICAgICBpZiBzdGVwX21hdGNoOgogICAgICAgICAgICAjIFNhdmUgcHJldmlvdXMgc3RlcCBpZiBleGlzdHMKICAgICAgICAgICAgaWYgY3VycmVudF9zdGVwOgogICAgICAgICAgICAgICAgc3RlcHMuYXBwZW5kKGN1cnJlbnRfc3RlcCkKCiAgICAgICAgICAgIHJlc3VsdCwgbGFiZWwgPSBzdGVwX21hdGNoLmdyb3VwcygpCiAgICAgICAgICAgIGN1cnJlbnRfc3RlcCA9IHsKICAgICAgICAgICAgICAgICdsYWJlbCc6IGxhYmVsLnN0cmlwKCksCiAgICAgICAgICAgICAgICAncGFzc2VkJzogcmVzdWx0ID09ICdQQVNTJywKICAgICAgICAgICAgICAgICdyZXN1bHQnOiByZXN1bHQsCiAgICAgICAgICAgICAgICAnbWVzc2FnZXMnOiBbXSwKICAgICAgICAgICAgICAgICd0aW1lc3RhbXAnOiBkYXRldGltZS5ub3codGltZXpvbmUudXRjKS5pc29mb3JtYXQoKS5yZXBsYWNlKCcrMDA6MDAnLCAnWicpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgIyBDaGVjayBmb3Igc2Vjb25kYXJ5IG1lc3NhZ2UKICAgICAgICBpZiBjdXJyZW50X3N0ZXA6CiAgICAgICAgICAgIG1lc3NhZ2VfbWF0Y2ggPSBtZXNzYWdlX3BhdHRlcm4ubWF0Y2gobGluZSkKICAgICAgICAgICAgaWYgbWVzc2FnZV9tYXRjaDoKICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlX21hdGNoLmdyb3VwKDEpLnN0cmlwKCkKICAgICAgICAgICAgICAgIGN1cnJlbnRfc3RlcFsnbWVzc2FnZXMnXS5hcHBlbmQobWVzc2FnZSkKCiAgICAjIERvbid0IGZvcmdldCB0aGUgbGFzdCBzdGVwCiAgICBpZiBjdXJyZW50X3N0ZXA6CiAgICAgICAgc3RlcHMuYXBwZW5kKGN1cnJlbnRfc3RlcCkKCiAgICByZXR1cm4gc3RlcHMKCgpkZWYgcGFyc2Vfb3ZlcmFsbF9yZXN1bHQob3V0cHV0OiBzdHIpIC0+IGJvb2w6CiAgICAiIiIKICAgIFBhcnNlIHRoZSBvdmVyYWxsIGxhYiBncmFkZSByZXN1bHQuCgogICAgUmV0dXJuczoKICAgICAgICBUcnVlIGlmIG92ZXJhbGwgZ3JhZGUgaXMgUEFTUywgRmFsc2Ugb3RoZXJ3aXNlCiAgICAiIiIKICAgICMgU3RyaXAgQU5TSSBjb2RlcyBmaXJzdAogICAgb3V0cHV0ID0gc3RyaXBfYW5zaShvdXRwdXQpCiAgICAjIExvb2sgZm9yICJPdmVyYWxsIGxhYiBncmFkZTogUEFTUyIgb3IgIk92ZXJhbGwgbGFiIGdyYWRlOiBGQUlMIgogICAgbWF0Y2ggPSByZS5zZWFyY2gocidPdmVyYWxsIGxhYiBncmFkZTpccyooUEFTU3xGQUlMKScsIG91dHB1dCkKICAgIGlmIG1hdGNoOgogICAgICAgIHJldHVybiBtYXRjaC5ncm91cCgxKSA9PSAnUEFTUycKICAgIHJldHVybiBGYWxzZQoKCmRlZiBleHRyYWN0X2dyYWRpbmdfc2VjdGlvbihvdXRwdXQ6IHN0cikgLT4gc3RyOgogICAgIiIiCiAgICBFeHRyYWN0IGp1c3QgdGhlIGdyYWRpbmcgc2VjdGlvbiBmcm9tIHRoZSBmdWxsIG91dHB1dC4KICAgIFJlbW92ZXMgc3RhcnQvZmluaXNoIG91dHB1dCBpZiBwcmVzZW50LgogICAgIiIiCiAgICBsaW5lcyA9IG91dHB1dC5zcGxpdCgnXG4nKQogICAgZ3JhZGluZ19saW5lcyA9IFtdCiAgICBpbl9ncmFkaW5nID0gRmFsc2UKCiAgICBmb3IgbGluZSBpbiBsaW5lczoKICAgICAgICBpZiAnR3JhZGluZyBsYWInIGluIGxpbmU6CiAgICAgICAgICAgIGluX2dyYWRpbmcgPSBUcnVlCiAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgIGlmIGluX2dyYWRpbmc6CiAgICAgICAgICAgICMgU3RvcCBhdCBvdmVyYWxsIGdyYWRlIGxpbmUgb3Igb3RoZXIgc2VjdGlvbiBtYXJrZXJzCiAgICAgICAgICAgIGlmICdPdmVyYWxsIGxhYiBncmFkZScgaW4gbGluZToKICAgICAgICAgICAgICAgIGdyYWRpbmdfbGluZXMuYXBwZW5kKGxpbmUpCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBncmFkaW5nX2xpbmVzLmFwcGVuZChsaW5lKQoKICAgIHJldHVybiAnXG4nLmpvaW4oZ3JhZGluZ19saW5lcykKCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgIyBUZXN0IHdpdGggc2FtcGxlIG91dHB1dAogICAgc2FtcGxlX291dHB1dCA9ICIiIgpHcmFkaW5nIGxhYi4KClBBU1MgICBWZXJpZnlpbmcgL2hvbWUvc3R1ZGVudC9ncmFkaW5nIGRpcmVjdG9yeSBleGlzdHMKICAgICAgIC0gVGhlIGRpcmVjdG9yeSBleGlzdHMKRkFJTCAgIFZlcmlmeWluZyAvaG9tZS9zdHVkZW50L2dyYWRpbmcvcmV2aWV3LnR4dCBmaWxlIGV4aXN0cwogICAgICAgLSBUaGUgZmlsZSBkb2VzIG5vdCBleGlzdAogICAgICAgLSBSZXZpc2l0IGxlc3NvbiByaDAwMTZsClBBU1MgICBWZXJpZnlpbmcgdGhlIGxpbmsgdG8gZGF0YQogICAgICAgLSBUaGUgaGFyZCBsaW5rIHBvaW50cyB0byB0aGUgY29ycmVjdCBkYXRhCgpPdmVyYWxsIGxhYiBncmFkZTogRkFJTAoiIiIKICAgIHN0ZXBzID0gcGFyc2VfZ3JhZGVfb3V0cHV0KHNhbXBsZV9vdXRwdXQpCiAgICBwcmludChmIlBhcnNlZCB7bGVuKHN0ZXBzKX0gc3RlcHM6IikKICAgIGZvciBzdGVwIGluIHN0ZXBzOgogICAgICAgIHByaW50KGYiICB7c3RlcFsncmVzdWx0J119OiB7c3RlcFsnbGFiZWwnXX0iKQogICAgICAgIGZvciBtc2cgaW4gc3RlcFsnbWVzc2FnZXMnXToKICAgICAgICAgICAgcHJpbnQoZiIgICAgICAtIHttc2d9IikKCiAgICBvdmVyYWxsID0gcGFyc2Vfb3ZlcmFsbF9yZXN1bHQoc2FtcGxlX291dHB1dCkKICAgIHByaW50KGYiXG5PdmVyYWxsOiB7J1BBU1MnIGlmIG92ZXJhbGwgZWxzZSAnRkFJTCd9IikKT1VUUFVUX1BBUlNFUl9QWV9FT0YKCiAgICAjIENyZWF0ZSB4YXBpX3JlcG9ydGVyLnB5CiAgICBjYXQgPiAiJElOU1RBTExfRElSL3hhcGlfcmVwb3J0ZXIucHkiIDw8ICdYQVBJX1JFUE9SVEVSX1BZX0VPRicKIiIiCnhBUEkgc3RhdGVtZW50IHJlcG9ydGVyIG1vZHVsZS4KU2VuZHMgZ3JhZGluZyByZXN1bHRzIGFzIHhBUEkgc3RhdGVtZW50cyB0byBhbiBMUlMuCiIiIgoKaW1wb3J0IGpzb24KaW1wb3J0IHV1aWQKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWV6b25lCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBEaWN0LCBBbnksIE9wdGlvbmFsCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKdHJ5OgogICAgaW1wb3J0IHJlcXVlc3RzCiAgICBIQVNfUkVRVUVTVFMgPSBUcnVlCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIEhBU19SRVFVRVNUUyA9IEZhbHNlCgojIHhBUEkgdmVyYiBkZWZpbml0aW9ucwpWRVJCUyA9IHsKICAgICJwYXNzZWQiOiB7CiAgICAgICAgImlkIjogImh0dHA6Ly9hZGxuZXQuZ292L2V4cGFwaS92ZXJicy9wYXNzZWQiLAogICAgICAgICJkaXNwbGF5IjogeyJlbi1VUyI6ICJwYXNzZWQifQogICAgfSwKICAgICJmYWlsZWQiOiB7CiAgICAgICAgImlkIjogImh0dHA6Ly9hZGxuZXQuZ292L2V4cGFwaS92ZXJicy9mYWlsZWQiLAogICAgICAgICJkaXNwbGF5IjogeyJlbi1VUyI6ICJmYWlsZWQifQogICAgfSwKICAgICJjb21wbGV0ZWQiOiB7CiAgICAgICAgImlkIjogImh0dHA6Ly9hZGxuZXQuZ292L2V4cGFwaS92ZXJicy9jb21wbGV0ZWQiLAogICAgICAgICJkaXNwbGF5IjogeyJlbi1VUyI6ICJjb21wbGV0ZWQifQogICAgfSwKICAgICJpbmNvbXBsZXRlIjogewogICAgICAgICJpZCI6ICJodHRwOi8vYWRsbmV0Lmdvdi9leHBhcGkvdmVyYnMvaW5jb21wbGV0ZSIsCiAgICAgICAgImRpc3BsYXkiOiB7ImVuLVVTIjogImluY29tcGxldGUifQogICAgfSwKICAgICJhdHRlbXB0ZWQiOiB7CiAgICAgICAgImlkIjogImh0dHA6Ly9hZGxuZXQuZ292L2V4cGFwaS92ZXJicy9hdHRlbXB0ZWQiLAogICAgICAgICJkaXNwbGF5IjogeyJlbi1VUyI6ICJhdHRlbXB0ZWQifQogICAgfQp9CgojIEJhc2UgSVJJIGZvciBSZWQgSGF0IFRyYWluaW5nIGFjdGl2aXRpZXMKQkFTRV9JUkkgPSAiaHR0cHM6Ly90cmFpbmluZy5yZWRoYXQuY29tL2xhYnMiCgoKZGVmIGdldF9jdXJyZW50X3NrdSgpIC0+IHN0cjoKICAgICIiIkdldCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGNvdXJzZSBTS1UuIiIiCiAgICBjb25maWdfcGF0aCA9IFBhdGguaG9tZSgpIC8gIi5ncmFkaW5nIiAvICJjb25maWcueWFtbCIKCiAgICBpZiBub3QgY29uZmlnX3BhdGguZXhpc3RzKCk6CiAgICAgICAgcmV0dXJuICJ1bmtub3duIgoKICAgIHRyeToKICAgICAgICB3aXRoIG9wZW4oY29uZmlnX3BhdGgsICJyIikgYXMgZjoKICAgICAgICAgICAgZm9yIGxpbmUgaW4gZjoKICAgICAgICAgICAgICAgIGlmIGxpbmUuc3RyaXAoKS5zdGFydHN3aXRoKCJza3U6Iik6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmUuc3BsaXQoIjoiLCAxKVsxXS5zdHJpcCgpLnN0cmlwKCciJykuc3RyaXAoIiciKQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBwYXNzCgogICAgcmV0dXJuICJ1bmtub3duIgoKCmRlZiBidWlsZF9zdGF0ZW1lbnQoCiAgICBlbWFpbDogc3RyLAogICAgc3RlcDogRGljdFtzdHIsIEFueV0sCiAgICBzbHVnOiBzdHIsCiAgICB0YXNrX2luZGV4OiBpbnQKKSAtPiBEaWN0W3N0ciwgQW55XToKICAgICIiIgogICAgQnVpbGQgYW4geEFQSSBzdGF0ZW1lbnQgZm9yIGEgZ3JhZGluZyBzdGVwLgoKICAgIEFyZ3M6CiAgICAgICAgZW1haWw6IFN0dWRlbnQgZW1haWwgYWRkcmVzcyAoYWN0b3IpCiAgICAgICAgc3RlcDogQ2FwdHVyZWQgc3RlcCBkYXRhIChsYWJlbCwgcGFzc2VkLCBtZXNzYWdlcywgdGltZXN0YW1wKQogICAgICAgIHNsdWc6IExhYiBzbHVnIChlLmcuLCAicmhjc2EtcmgxMjQtcmV2aWV3MSIpCiAgICAgICAgdGFza19pbmRleDogVGFzayBudW1iZXIgKDEtYmFzZWQpCgogICAgUmV0dXJuczoKICAgICAgICB4QVBJIHN0YXRlbWVudCBkaWN0aW9uYXJ5CiAgICAiIiIKICAgIHZlcmJfa2V5ID0gInBhc3NlZCIgaWYgc3RlcFsicGFzc2VkIl0gZWxzZSAiZmFpbGVkIgoKICAgIHN0YXRlbWVudCA9IHsKICAgICAgICAiaWQiOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAiYWN0b3IiOiB7CiAgICAgICAgICAgICJtYm94IjogZiJtYWlsdG86e2VtYWlsfSIsCiAgICAgICAgICAgICJvYmplY3RUeXBlIjogIkFnZW50IgogICAgICAgIH0sCiAgICAgICAgInZlcmIiOiBWRVJCU1t2ZXJiX2tleV0sCiAgICAgICAgIm9iamVjdCI6IHsKICAgICAgICAgICAgImlkIjogZiJ7QkFTRV9JUkl9L3tzbHVnfS90YXNrLXt0YXNrX2luZGV4fSIsCiAgICAgICAgICAgICJvYmplY3RUeXBlIjogIkFjdGl2aXR5IiwKICAgICAgICAgICAgImRlZmluaXRpb24iOiB7CiAgICAgICAgICAgICAgICAibmFtZSI6IHsiZW4tVVMiOiBzdGVwWyJsYWJlbCJdfSwKICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6IHsiZW4tVVMiOiAiOyAiLmpvaW4oc3RlcC5nZXQoIm1lc3NhZ2VzIiwgW10pKX0sCiAgICAgICAgICAgICAgICAidHlwZSI6ICJodHRwOi8vYWRsbmV0Lmdvdi9leHBhcGkvYWN0aXZpdGllcy9hc3Nlc3NtZW50IgogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAicmVzdWx0IjogewogICAgICAgICAgICAic3VjY2VzcyI6IHN0ZXBbInBhc3NlZCJdLAogICAgICAgICAgICAiY29tcGxldGlvbiI6IFRydWUKICAgICAgICB9LAogICAgICAgICJjb250ZXh0IjogewogICAgICAgICAgICAiY29udGV4dEFjdGl2aXRpZXMiOiB7CiAgICAgICAgICAgICAgICAicGFyZW50IjogW3sKICAgICAgICAgICAgICAgICAgICAiaWQiOiBmIntCQVNFX0lSSX0ve3NsdWd9IiwKICAgICAgICAgICAgICAgICAgICAib2JqZWN0VHlwZSI6ICJBY3Rpdml0eSIsCiAgICAgICAgICAgICAgICAgICAgImRlZmluaXRpb24iOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogeyJlbi1VUyI6IGYiTGFiOiB7c2x1Z30ifSwKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiaHR0cDovL2FkbG5ldC5nb3YvZXhwYXBpL2FjdGl2aXRpZXMvbGVzc29uIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJ0aW1lc3RhbXAiOiBzdGVwLmdldCgidGltZXN0YW1wIiwgZGF0ZXRpbWUudXRjbm93KCkuaXNvZm9ybWF0KCkgKyAiWiIpCiAgICB9CgogICAgcmV0dXJuIHN0YXRlbWVudAoKCmRlZiBidWlsZF9sYWJfY29tcGxldGlvbl9zdGF0ZW1lbnQoCiAgICBlbWFpbDogc3RyLAogICAgc2x1Zzogc3RyLAogICAgYWxsX3Bhc3NlZDogYm9vbCwKICAgIHRvdGFsX3Rhc2tzOiBpbnQsCiAgICBwYXNzZWRfdGFza3M6IGludAopIC0+IERpY3Rbc3RyLCBBbnldOgogICAgIiIiCiAgICBCdWlsZCBhbiB4QVBJIHN0YXRlbWVudCBmb3Igb3ZlcmFsbCBsYWIgY29tcGxldGlvbi4KICAgIFVzZXMgJ3Bhc3NlZCcgaWYgYWxsIHRhc2tzIHBhc3NlZCwgJ2luY29tcGxldGUnIG90aGVyd2lzZS4KICAgICIiIgogICAgdmVyYl9rZXkgPSAicGFzc2VkIiBpZiBhbGxfcGFzc2VkIGVsc2UgImluY29tcGxldGUiCgogICAgc3RhdGVtZW50ID0gewogICAgICAgICJpZCI6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICJhY3RvciI6IHsKICAgICAgICAgICAgIm1ib3giOiBmIm1haWx0bzp7ZW1haWx9IiwKICAgICAgICAgICAgIm9iamVjdFR5cGUiOiAiQWdlbnQiCiAgICAgICAgfSwKICAgICAgICAidmVyYiI6IFZFUkJTW3ZlcmJfa2V5XSwKICAgICAgICAib2JqZWN0IjogewogICAgICAgICAgICAiaWQiOiBmIntCQVNFX0lSSX0ve3NsdWd9IiwKICAgICAgICAgICAgIm9iamVjdFR5cGUiOiAiQWN0aXZpdHkiLAogICAgICAgICAgICAiZGVmaW5pdGlvbiI6IHsKICAgICAgICAgICAgICAgICJuYW1lIjogeyJlbi1VUyI6IGYiTGFiOiB7c2x1Z30ifSwKICAgICAgICAgICAgICAgICJ0eXBlIjogImh0dHA6Ly9hZGxuZXQuZ292L2V4cGFwaS9hY3Rpdml0aWVzL2xlc3NvbiIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInJlc3VsdCI6IHsKICAgICAgICAgICAgInN1Y2Nlc3MiOiBhbGxfcGFzc2VkLAogICAgICAgICAgICAiY29tcGxldGlvbiI6IGFsbF9wYXNzZWQsCiAgICAgICAgICAgICJzY29yZSI6IHsKICAgICAgICAgICAgICAgICJzY2FsZWQiOiBwYXNzZWRfdGFza3MgLyB0b3RhbF90YXNrcyBpZiB0b3RhbF90YXNrcyA+IDAgZWxzZSAwLAogICAgICAgICAgICAgICAgInJhdyI6IHBhc3NlZF90YXNrcywKICAgICAgICAgICAgICAgICJtaW4iOiAwLAogICAgICAgICAgICAgICAgIm1heCI6IHRvdGFsX3Rhc2tzCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJ0aW1lc3RhbXAiOiBkYXRldGltZS5ub3codGltZXpvbmUudXRjKS5pc29mb3JtYXQoKS5yZXBsYWNlKCcrMDA6MDAnLCAnWicpCiAgICB9CgogICAgcmV0dXJuIHN0YXRlbWVudAoKCmRlZiBzZW5kX3N0YXRlbWVudCgKICAgIHN0YXRlbWVudDogRGljdFtzdHIsIEFueV0sCiAgICBscnNfZW5kcG9pbnQ6IHN0ciwKICAgIGF1dGhfdG9rZW46IHN0cgopIC0+IGJvb2w6CiAgICAiIiIKICAgIFNlbmQgYSBzaW5nbGUgeEFQSSBzdGF0ZW1lbnQgdG8gdGhlIExSUy4KCiAgICBSZXR1cm5zOgogICAgICAgIFRydWUgaWYgc3VjY2Vzc2Z1bCwgRmFsc2Ugb3RoZXJ3aXNlCiAgICAiIiIKICAgIGlmIG5vdCBIQVNfUkVRVUVTVFM6CiAgICAgICAgcHJpbnQoIldhcm5pbmc6IHJlcXVlc3RzIGxpYnJhcnkgbm90IGF2YWlsYWJsZS4gQ2Fubm90IHNlbmQgeEFQSSBzdGF0ZW1lbnRzLiIpCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgaWYgbm90IGxyc19lbmRwb2ludCBvciBub3QgYXV0aF90b2tlbjoKICAgICAgICAjIE5vIExSUyBjb25maWd1cmVkIC0gc2tpcCBzaWxlbnRseQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIHRyeToKICAgICAgICB1cmwgPSBmIntscnNfZW5kcG9pbnQucnN0cmlwKCcvJyl9L3N0YXRlbWVudHMiCgogICAgICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogZiJCYXNpYyB7YXV0aF90b2tlbn0iLAogICAgICAgICAgICAiWC1FeHBlcmllbmNlLUFQSS1WZXJzaW9uIjogIjEuMC4zIgogICAgICAgIH0KCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KAogICAgICAgICAgICB1cmwsCiAgICAgICAgICAgIGpzb249c3RhdGVtZW50LAogICAgICAgICAgICBoZWFkZXJzPWhlYWRlcnMsCiAgICAgICAgICAgIHRpbWVvdXQ9MTAKICAgICAgICApCgogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlIGluICgyMDAsIDIwNCk6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoZiJXYXJuaW5nOiBMUlMgcmV0dXJuZWQgc3RhdHVzIHtyZXNwb25zZS5zdGF0dXNfY29kZX06IHtyZXNwb25zZS50ZXh0WzoyMDBdfSIpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIldhcm5pbmc6IEZhaWxlZCB0byBzZW5kIHhBUEkgc3RhdGVtZW50OiB7ZX0iKQogICAgICAgIHJldHVybiBGYWxzZQoKCmRlZiBzZW5kX3N0YXRlbWVudHMoCiAgICBzdGVwczogTGlzdFtEaWN0W3N0ciwgQW55XV0sCiAgICBzbHVnOiBzdHIsCiAgICBlbWFpbDogc3RyLAogICAgbHJzX2VuZHBvaW50OiBzdHIsCiAgICBhdXRoX3Rva2VuOiBzdHIsCiAgICB2ZXJib3NlOiBib29sID0gVHJ1ZQopIC0+IHR1cGxlOgogICAgIiIiCiAgICBTZW5kIHhBUEkgc3RhdGVtZW50cyBmb3IgYWxsIGdyYWRpbmcgc3RlcHMuCgogICAgQXJnczoKICAgICAgICBzdGVwczogTGlzdCBvZiBjYXB0dXJlZCBncmFkaW5nIHN0ZXBzCiAgICAgICAgc2x1ZzogTGFiIHNsdWcKICAgICAgICBlbWFpbDogU3R1ZGVudCBlbWFpbCAoYWN0b3IpCiAgICAgICAgbHJzX2VuZHBvaW50OiBMUlMgZW5kcG9pbnQgVVJMCiAgICAgICAgYXV0aF90b2tlbjogQmFzZTY0LWVuY29kZWQgTFJTIGNyZWRlbnRpYWxzCiAgICAgICAgdmVyYm9zZTogUHJpbnQgcHJvZ3Jlc3MgbWVzc2FnZXMKCiAgICBSZXR1cm5zOgogICAgICAgIFR1cGxlIG9mIChzdWNjZXNzZnVsX2NvdW50LCB0b3RhbF9jb3VudCkKICAgICIiIgogICAgaWYgbm90IHN0ZXBzOgogICAgICAgIGlmIHZlcmJvc2U6CiAgICAgICAgICAgIHByaW50KCJObyBncmFkaW5nIHN0ZXBzIHRvIHJlcG9ydC4iKQogICAgICAgIHJldHVybiAoMCwgMCkKCiAgICBpZiBub3QgZW1haWw6CiAgICAgICAgaWYgdmVyYm9zZToKICAgICAgICAgICAgcHJpbnQoIk5vIGVtYWlsIGNvbmZpZ3VyZWQuIFNraXBwaW5nIHhBUEkgcmVwb3J0aW5nLiIpCiAgICAgICAgcmV0dXJuICgwLCBsZW4oc3RlcHMpKQoKICAgIHN1Y2Nlc3NmdWwgPSAwCiAgICB0b3RhbCA9IGxlbihzdGVwcykKCiAgICBpZiB2ZXJib3NlOgogICAgICAgIHByaW50KGYiXG5TdWJtaXR0aW5nIGdyYWRlcyB0byBMUlMuLi4iLCBlbmQ9IiAiLCBmbHVzaD1UcnVlKQoKICAgICMgU2VuZCBpbmRpdmlkdWFsIHRhc2sgc3RhdGVtZW50cwogICAgZm9yIGksIHN0ZXAgaW4gZW51bWVyYXRlKHN0ZXBzLCAxKToKICAgICAgICBzdGF0ZW1lbnQgPSBidWlsZF9zdGF0ZW1lbnQoZW1haWwsIHN0ZXAsIHNsdWcsIGkpCiAgICAgICAgaWYgc2VuZF9zdGF0ZW1lbnQoc3RhdGVtZW50LCBscnNfZW5kcG9pbnQsIGF1dGhfdG9rZW4pOgogICAgICAgICAgICBzdWNjZXNzZnVsICs9IDEKCiAgICAjIFNlbmQgbGFiIGNvbXBsZXRpb24gc3RhdGVtZW50CiAgICBwYXNzZWRfdGFza3MgPSBzdW0oMSBmb3IgcyBpbiBzdGVwcyBpZiBzWyJwYXNzZWQiXSkKICAgIGFsbF9wYXNzZWQgPSBwYXNzZWRfdGFza3MgPT0gdG90YWwKCiAgICBjb21wbGV0aW9uX3N0YXRlbWVudCA9IGJ1aWxkX2xhYl9jb21wbGV0aW9uX3N0YXRlbWVudCgKICAgICAgICBlbWFpbCwgc2x1ZywgYWxsX3Bhc3NlZCwgdG90YWwsIHBhc3NlZF90YXNrcwogICAgKQogICAgc2VuZF9zdGF0ZW1lbnQoY29tcGxldGlvbl9zdGF0ZW1lbnQsIGxyc19lbmRwb2ludCwgYXV0aF90b2tlbikKCiAgICBpZiB2ZXJib3NlOgogICAgICAgIGlmIHN1Y2Nlc3NmdWwgPT0gdG90YWw6CiAgICAgICAgICAgIHByaW50KGYiRG9uZSAoe3RvdGFsfSB0YXNrcyByZXBvcnRlZCkiKQogICAgICAgIGVsaWYgc3VjY2Vzc2Z1bCA+IDA6CiAgICAgICAgICAgIHByaW50KGYiUGFydGlhbCAoe3N1Y2Nlc3NmdWx9L3t0b3RhbH0gdGFza3MgcmVwb3J0ZWQpIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIkZhaWxlZCAoMC97dG90YWx9IHRhc2tzIHJlcG9ydGVkKSIpCgogICAgcmV0dXJuIChzdWNjZXNzZnVsLCB0b3RhbCkKCgpkZWYgc2F2ZV9zdGF0ZW1lbnRzX2xvY2FsbHkoCiAgICBzdGVwczogTGlzdFtEaWN0W3N0ciwgQW55XV0sCiAgICBzbHVnOiBzdHIsCiAgICBlbWFpbDogc3RyCikgLT4gT3B0aW9uYWxbUGF0aF06CiAgICAiIiIKICAgIFNhdmUgc3RhdGVtZW50cyBsb2NhbGx5IGZvciBvZmZsaW5lIHN1Ym1pc3Npb24gbGF0ZXIuCgogICAgUmV0dXJuczoKICAgICAgICBQYXRoIHRvIHNhdmVkIGZpbGUsIG9yIE5vbmUgaWYgZmFpbGVkCiAgICAiIiIKICAgIGlmIG5vdCBzdGVwczoKICAgICAgICByZXR1cm4gTm9uZQoKICAgIHN0YXRlbWVudHMgPSBbXQoKICAgIGZvciBpLCBzdGVwIGluIGVudW1lcmF0ZShzdGVwcywgMSk6CiAgICAgICAgc3RhdGVtZW50cy5hcHBlbmQoYnVpbGRfc3RhdGVtZW50KGVtYWlsLCBzdGVwLCBzbHVnLCBpKSkKCiAgICAjIEFkZCBjb21wbGV0aW9uIHN0YXRlbWVudAogICAgcGFzc2VkX3Rhc2tzID0gc3VtKDEgZm9yIHMgaW4gc3RlcHMgaWYgc1sicGFzc2VkIl0pCiAgICBhbGxfcGFzc2VkID0gcGFzc2VkX3Rhc2tzID09IGxlbihzdGVwcykKICAgIHN0YXRlbWVudHMuYXBwZW5kKGJ1aWxkX2xhYl9jb21wbGV0aW9uX3N0YXRlbWVudCgKICAgICAgICBlbWFpbCwgc2x1ZywgYWxsX3Bhc3NlZCwgbGVuKHN0ZXBzKSwgcGFzc2VkX3Rhc2tzCiAgICApKQoKICAgICMgU2F2ZSB0byBmaWxlCiAgICBxdWV1ZV9kaXIgPSBQYXRoLmhvbWUoKSAvICIuY29uZmlnIiAvICJsYWIteGFwaSIgLyAicXVldWUiCiAgICBxdWV1ZV9kaXIubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQoKICAgIHRpbWVzdGFtcCA9IGRhdGV0aW1lLnV0Y25vdygpLnN0cmZ0aW1lKCIlWSVtJWRfJUglTSVTIikKICAgIGZpbGVuYW1lID0gZiJ7c2x1Z31fe3RpbWVzdGFtcH0uanNvbiIKICAgIGZpbGVwYXRoID0gcXVldWVfZGlyIC8gZmlsZW5hbWUKCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKGZpbGVwYXRoLCAidyIpIGFzIGY6CiAgICAgICAgICAgIGpzb24uZHVtcChzdGF0ZW1lbnRzLCBmLCBpbmRlbnQ9MikKICAgICAgICByZXR1cm4gZmlsZXBhdGgKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIldhcm5pbmc6IENvdWxkIG5vdCBzYXZlIHN0YXRlbWVudHMgbG9jYWxseToge2V9IikKICAgICAgICByZXR1cm4gTm9uZQpYQVBJX1JFUE9SVEVSX1BZX0VPRgoKICAgICMgQ3JlYXRlIGxhYl93cmFwcGVyLnB5CiAgICBjYXQgPiAiJElOU1RBTExfRElSL2xhYl93cmFwcGVyLnB5IiA8PCAnTEFCX1dSQVBQRVJfUFlfRU9GJwojIS91c3IvYmluL2VudiBweXRob24zCiIiIgpMYWIgd3JhcHBlciBzY3JpcHQgd2l0aCB4QVBJIGludGVncmF0aW9uLgpXcmFwcyB0aGUgc3RhbmRhcmQgJ2xhYicgY29tbWFuZCB0byBjYXB0dXJlIGFuZCByZXBvcnQgZ3JhZGluZyByZXN1bHRzLgoiIiIKCmltcG9ydCBvcwppbXBvcnQgc3lzCmltcG9ydCBzdWJwcm9jZXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKIyBBZGQgbGFiLXhhcGkgdG8gcGF0aApMQUJfWEFQSV9ESVIgPSBQYXRoKF9fZmlsZV9fKS5wYXJlbnQKc3lzLnBhdGguaW5zZXJ0KDAsIHN0cihMQUJfWEFQSV9ESVIpKQoKZnJvbSBjb25maWcgaW1wb3J0IGxvYWRfY29uZmlnLCBzYXZlX2NvbmZpZywgcHJvbXB0X2Zvcl9lbWFpbCwgZ2V0X2NvbmZpZywgZW5zdXJlX2VtYWlsX2NvbmZpZ3VyZWQKZnJvbSB4YXBpX3JlcG9ydGVyIGltcG9ydCBzZW5kX3N0YXRlbWVudHMsIHNhdmVfc3RhdGVtZW50c19sb2NhbGx5CmZyb20gb3V0cHV0X3BhcnNlciBpbXBvcnQgcGFyc2VfZ3JhZGVfb3V0cHV0LCBwYXJzZV9vdmVyYWxsX3Jlc3VsdApmcm9tIGxhYl9zdGF0ZSBpbXBvcnQgcmVjb3JkX2xhYl9zdGFydCwgcmVjb3JkX2xhYl9ncmFkZQoKIyBQYXRoIHRvIHRoZSBvcmlnaW5hbCBsYWIgYmluYXJ5Ck9SSUdJTkFMX0xBQiA9ICIvdXNyL2xvY2FsL2Jpbi9sYWIiCgojIEN1c3RvbSBsYWJzIHN1cHBvcnQKdHJ5OgogICAgZnJvbSBjdXN0b21fbGFicy5ncmFkZXIgaW1wb3J0IEN1c3RvbUxhYkdyYWRlcgogICAgQ1VTVE9NX0xBQlNfQVZBSUxBQkxFID0gVHJ1ZQpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBDVVNUT01fTEFCU19BVkFJTEFCTEUgPSBGYWxzZQoKIyBTQ09STSBwYWNrYWdlIGdlbmVyYXRvciBzdXBwb3J0CnRyeToKICAgIGZyb20gc2Nvcm1fcGFja2FnZV9nZW5lcmF0b3IgaW1wb3J0ICgKICAgICAgICBnZW5lcmF0ZV9zY29ybV9wYWNrYWdlLAogICAgICAgIGJ1bGtfZ2VuZXJhdGVfc2Nvcm1fcGFja2FnZXMsCiAgICAgICAgbG9hZF9sYWJfZGVmaW5pdGlvbnMsCiAgICAgICAgZ2V0X2F2YWlsYWJsZV9jb3Vyc2VzLAogICAgICAgIGludGVyYWN0aXZlX2dlbmVyYXRvciwKICAgICAgICBERUZBVUxUX0xSU19FTkRQT0lOVAogICAgKQogICAgU0NPUk1fR0VORVJBVE9SX0FWQUlMQUJMRSA9IFRydWUKZXhjZXB0IEltcG9ydEVycm9yOgogICAgU0NPUk1fR0VORVJBVE9SX0FWQUlMQUJMRSA9IEZhbHNlCgoKZGVmIHJ1bl9sYWJfY29tbWFuZChhcmdzOiBsaXN0KSAtPiBpbnQ6CiAgICAiIiIKICAgIFJ1biB0aGUgb3JpZ2luYWwgbGFiIGNvbW1hbmQgYW5kIHJldHVybiBleGl0IGNvZGUuCiAgICAiIiIKICAgIGNtZCA9IFtPUklHSU5BTF9MQUJdICsgYXJncwogICAgcmVzdWx0ID0gc3VicHJvY2Vzcy5ydW4oY21kKQogICAgcmV0dXJuIHJlc3VsdC5yZXR1cm5jb2RlCgoKZGVmIHJ1bl9sYWJfY29tbWFuZF9jYXB0dXJlKGFyZ3M6IGxpc3QpIC0+IHR1cGxlOgogICAgIiIiCiAgICBSdW4gdGhlIG9yaWdpbmFsIGxhYiBjb21tYW5kIGFuZCBjYXB0dXJlIG91dHB1dC4KICAgIFJldHVybnMgKGV4aXRfY29kZSwgc3Rkb3V0LCBzdGRlcnIpCiAgICAiIiIKICAgIGNtZCA9IFtPUklHSU5BTF9MQUJdICsgYXJncwogICAgIyBVc2Ugc2NyaXB0IGNvbW1hbmQgdG8gY2FwdHVyZSBjb2xvcmVkIG91dHB1dCB3aGlsZSBwcmVzZXJ2aW5nIHRlcm1pbmFsCiAgICAjIEFjdHVhbGx5LCB3ZSBuZWVkIHRvIGJvdGggZGlzcGxheSBhbmQgY2FwdHVyZS4gVXNlIHRlZS1saWtlIGJlaGF2aW9yLgoKICAgICMgUnVuIHdpdGggUFRZIHRvIGdldCBwcm9wZXIgb3V0cHV0LCBjYXB0dXJlIHZpYSBzdWJwcm9jZXNzCiAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bigKICAgICAgICBjbWQsCiAgICAgICAgY2FwdHVyZV9vdXRwdXQ9RmFsc2UsICAjIERvbid0IGNhcHR1cmUsIGxldCBpdCBkaXNwbGF5CiAgICAgICAgdGV4dD1UcnVlCiAgICApCgogICAgcmV0dXJuIHJlc3VsdC5yZXR1cm5jb2RlCgoKZGVmIHJ1bl9ncmFkZV93aXRoX3hhcGkoc2x1Zzogc3RyLCBleHRyYV9hcmdzOiBsaXN0KSAtPiBpbnQ6CiAgICAiIiIKICAgIFJ1biBsYWIgZ3JhZGUgY29tbWFuZCB3aXRoIHhBUEkgcmVwb3J0aW5nLgogICAgQ2FwdHVyZXMgb3V0cHV0IHRvIHBhcnNlIGdyYWRpbmcgcmVzdWx0cy4KICAgICIiIgogICAgY29uZmlnID0gZ2V0X2NvbmZpZygpCgogICAgIyBCdWlsZCB0aGUgZ3JhZGUgY29tbWFuZAogICAgZ3JhZGVfYXJncyA9IFsiZ3JhZGUiLCBzbHVnXSArIGV4dHJhX2FyZ3MKCiAgICAjIFJ1biB0aGUgZ3JhZGUgY29tbWFuZCBhbmQgY2FwdHVyZSBvdXRwdXQKICAgIGNtZCA9IFtPUklHSU5BTF9MQUJdICsgZ3JhZGVfYXJncwoKICAgICMgVXNlIHN1YnByb2Nlc3Mgd2l0aCBQVFktbGlrZSBoYW5kbGluZyB0byBjYXB0dXJlIG91dHB1dCB3aGlsZSBkaXNwbGF5aW5nCiAgICAjIFdlJ2xsIHVzZSBzY3JpcHQgb3IgdGVlIHRvIGNhcHR1cmUgd2hpbGUgZGlzcGxheWluZwogICAgaW1wb3J0IHB0eQogICAgaW1wb3J0IHNlbGVjdAogICAgaW1wb3J0IGlvCgogICAgb3V0cHV0X2J1ZmZlciA9IGlvLlN0cmluZ0lPKCkKCiAgICBkZWYgcmVhZF9hbmRfZGlzcGxheShmZCk6CiAgICAgICAgIiIiUmVhZCBmcm9tIGZkLCBkaXNwbGF5LCBhbmQgYnVmZmVyIHRoZSBvdXRwdXQuIiIiCiAgICAgICAgZGF0YSA9IG9zLnJlYWQoZmQsIDEwMjQpCiAgICAgICAgaWYgZGF0YToKICAgICAgICAgICAgdGV4dCA9IGRhdGEuZGVjb2RlKCd1dGYtOCcsIGVycm9ycz0ncmVwbGFjZScpCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUodGV4dCkKICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgIG91dHB1dF9idWZmZXIud3JpdGUodGV4dCkKICAgICAgICByZXR1cm4gZGF0YQoKICAgICMgRm9yayBhIFBUWSB0byBydW4gdGhlIGNvbW1hbmQKICAgIHBpZCwgbWFzdGVyX2ZkID0gcHR5LmZvcmsoKQoKICAgIGlmIHBpZCA9PSAwOgogICAgICAgICMgQ2hpbGQgcHJvY2VzcyAtIGV4ZWN1dGUgdGhlIGNvbW1hbmQKICAgICAgICBvcy5leGVjdihPUklHSU5BTF9MQUIsIFtPUklHSU5BTF9MQUJdICsgZ3JhZGVfYXJncykKICAgIGVsc2U6CiAgICAgICAgIyBQYXJlbnQgcHJvY2VzcyAtIHJlYWQgb3V0cHV0CiAgICAgICAgZXhpdF9zdGF0dXMgPSBOb25lCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgcmVhZHksIF8sIF8gPSBzZWxlY3Quc2VsZWN0KFttYXN0ZXJfZmRdLCBbXSwgW10sIDAuMSkKICAgICAgICAgICAgICAgIGlmIHJlYWR5OgogICAgICAgICAgICAgICAgICAgIGRhdGEgPSByZWFkX2FuZF9kaXNwbGF5KG1hc3Rlcl9mZCkKICAgICAgICAgICAgICAgICAgICBpZiBub3QgZGF0YToKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgIyBDaGVjayBpZiBjaGlsZCBpcyBzdGlsbCBydW5uaW5nCiAgICAgICAgICAgICAgICAgICAgd3BpZCwgc3RhdHVzID0gb3Mud2FpdHBpZChwaWQsIG9zLldOT0hBTkcpCiAgICAgICAgICAgICAgICAgICAgaWYgd3BpZCAhPSAwOgogICAgICAgICAgICAgICAgICAgICAgICBleGl0X3N0YXR1cyA9IHN0YXR1cwogICAgICAgICAgICAgICAgICAgICAgICAjIENoaWxkIGV4aXRlZCwgcmVhZCBhbnkgcmVtYWluaW5nIG91dHB1dAogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSByZWFkX2FuZF9kaXNwbGF5KG1hc3Rlcl9mZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgZGF0YToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBPU0Vycm9yOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZXhjZXB0IE9TRXJyb3I6CiAgICAgICAgICAgIHBhc3MKICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICBvcy5jbG9zZShtYXN0ZXJfZmQpCgogICAgICAgICMgR2V0IGV4aXQgc3RhdHVzIGlmIG5vdCBhbHJlYWR5IGNhcHR1cmVkCiAgICAgICAgaWYgZXhpdF9zdGF0dXMgaXMgTm9uZToKICAgICAgICAgICAgXywgZXhpdF9zdGF0dXMgPSBvcy53YWl0cGlkKHBpZCwgMCkKCiAgICAgICAgZXhpdF9jb2RlID0gb3MuV0VYSVRTVEFUVVMoZXhpdF9zdGF0dXMpIGlmIG9zLldJRkVYSVRFRChleGl0X3N0YXR1cykgZWxzZSAxCgogICAgIyBQYXJzZSB0aGUgY2FwdHVyZWQgb3V0cHV0CiAgICBvdXRwdXQgPSBvdXRwdXRfYnVmZmVyLmdldHZhbHVlKCkKICAgIHN0ZXBzID0gcGFyc2VfZ3JhZGVfb3V0cHV0KG91dHB1dCkKCiAgICAjIFJlY29yZCB0aGF0IGdyYWRpbmcgd2FzIHBlcmZvcm1lZCAoZm9yIGZpbmlzaCByZW1pbmRlcikKICAgIHJlY29yZF9sYWJfZ3JhZGUoc2x1ZykKCiAgICAjIFNlbmQgeEFQSSBzdGF0ZW1lbnRzIGlmIHdlIGhhdmUgc3RlcHMgYW5kIHJlcG9ydGluZyBpcyBlbmFibGVkCiAgICBpZiBzdGVwcyBhbmQgY29uZmlnLmdldCgiZW5hYmxlZCIsIFRydWUpOgogICAgICAgIGVtYWlsID0gY29uZmlnLmdldCgiYWN0b3JfZW1haWwiLCAiIikKICAgICAgICBscnNfZW5kcG9pbnQgPSBjb25maWcuZ2V0KCJscnNfZW5kcG9pbnQiLCAiIikKICAgICAgICBhdXRoX3Rva2VuID0gY29uZmlnLmdldCgibHJzX2F1dGhfdG9rZW4iLCAiIikKCiAgICAgICAgaWYgZW1haWw6CiAgICAgICAgICAgIGlmIGxyc19lbmRwb2ludCBhbmQgYXV0aF90b2tlbjoKICAgICAgICAgICAgICAgICMgU2VuZCB0byBMUlMKICAgICAgICAgICAgICAgIHNlbmRfc3RhdGVtZW50cygKICAgICAgICAgICAgICAgICAgICBzdGVwcz1zdGVwcywKICAgICAgICAgICAgICAgICAgICBzbHVnPXNsdWcsCiAgICAgICAgICAgICAgICAgICAgZW1haWw9ZW1haWwsCiAgICAgICAgICAgICAgICAgICAgbHJzX2VuZHBvaW50PWxyc19lbmRwb2ludCwKICAgICAgICAgICAgICAgICAgICBhdXRoX3Rva2VuPWF1dGhfdG9rZW4sCiAgICAgICAgICAgICAgICAgICAgdmVyYm9zZT1UcnVlCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAjIFNhdmUgbG9jYWxseSBmb3IgbGF0ZXIgc3VibWlzc2lvbgogICAgICAgICAgICAgICAgc2F2ZWRfcGF0aCA9IHNhdmVfc3RhdGVtZW50c19sb2NhbGx5KHN0ZXBzLCBzbHVnLCBlbWFpbCkKICAgICAgICAgICAgICAgIGlmIHNhdmVkX3BhdGg6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcbkdyYWRlcyBzYXZlZCBsb2NhbGx5OiB7c2F2ZWRfcGF0aH0iKQogICAgICAgICAgICAgICAgICAgIHByaW50KCJDb25maWd1cmUgTFJTIHRvIHN1Ym1pdDogbGFiIHhhcGktY29uZmlnIGxycyIpCgogICAgcmV0dXJuIGV4aXRfY29kZQoKCmRlZiBydW5fZmluaXNoX3dpdGhfeGFwaShzbHVnOiBzdHIsIGV4dHJhX2FyZ3M6IGxpc3QpIC0+IGludDoKICAgICIiIgogICAgUnVuIGxhYiBmaW5pc2ggY29tbWFuZCB3aXRoIHhBUEkgcmVwb3J0aW5nLgogICAgIiIiCiAgICBmaW5pc2hfYXJncyA9IFsiZmluaXNoIiwgc2x1Z10gKyBleHRyYV9hcmdzCiAgICByZXR1cm4gcnVuX2xhYl9jb21tYW5kKGZpbmlzaF9hcmdzKQoKCmRlZiBydW5fc3RhcnRfd2l0aF9lbWFpbF9jaGVjayhzbHVnOiBzdHIsIGV4dHJhX2FyZ3M6IGxpc3QpIC0+IGludDoKICAgICIiIgogICAgUnVuIGxhYiBzdGFydCBjb21tYW5kLCBwcm9tcHRpbmcgZm9yIGVtYWlsIGlmIG5vdCBjb25maWd1cmVkLgogICAgIiIiCiAgICAjIENoZWNrIGlmIGVtYWlsIGlzIGNvbmZpZ3VyZWQsIHByb21wdCBpZiBub3QKICAgIGlmIG5vdCBlbnN1cmVfZW1haWxfY29uZmlndXJlZCgpOgogICAgICAgICMgVXNlciBjYW5jZWxsZWQgZW1haWwgc2V0dXAgLSBzdGlsbCBydW4gdGhlIHN0YXJ0IGNvbW1hbmQKICAgICAgICBwcmludCgiXG5Ob3RlOiB4QVBJIGdyYWRlIHJlcG9ydGluZyBpcyBkaXNhYmxlZCB1bnRpbCBlbWFpbCBpcyBjb25maWd1cmVkLiIpCiAgICAgICAgcHJpbnQoIlJ1biAnbGFiIHhhcGktY29uZmlnIGVtYWlsJyB0byBjb25maWd1cmUgbGF0ZXIuXG4iKQoKICAgICMgUnVuIHRoZSBvcmlnaW5hbCBzdGFydCBjb21tYW5kCiAgICBzdGFydF9hcmdzID0gWyJzdGFydCIsIHNsdWddICsgZXh0cmFfYXJncwogICAgcmVzdWx0ID0gcnVuX2xhYl9jb21tYW5kKHN0YXJ0X2FyZ3MpCgogICAgIyBSZWNvcmQgbGFiIHN0YXJ0IGZvciBncmFkZSByZW1pbmRlciB0cmFja2luZwogICAgaWYgcmVzdWx0ID09IDA6CiAgICAgICAgcmVjb3JkX2xhYl9zdGFydChzbHVnKQoKICAgIHJldHVybiByZXN1bHQKCgpkZWYgaXNfY3VzdG9tX2xhYihzbHVnOiBzdHIpIC0+IGJvb2w6CiAgICAiIiJDaGVjayBpZiBzbHVnIGNvcnJlc3BvbmRzIHRvIGEgY3VzdG9tIGxhYiBkZWZpbml0aW9uLiIiIgogICAgaWYgbm90IENVU1RPTV9MQUJTX0FWQUlMQUJMRToKICAgICAgICByZXR1cm4gRmFsc2UKICAgIGdyYWRlciA9IEN1c3RvbUxhYkdyYWRlcigpCiAgICByZXR1cm4gZ3JhZGVyLmZpbmRfbGFiKHNsdWcpIGlzIG5vdCBOb25lCgoKZGVmIHJ1bl9jdXN0b21fbGFiX2dyYWRlKHNsdWc6IHN0cikgLT4gaW50OgogICAgIiIiR3JhZGUgYSBjdXN0b20gbGFiIGFuZCByZXBvcnQgdmlhIHhBUEkuIiIiCiAgICBpZiBub3QgQ1VTVE9NX0xBQlNfQVZBSUxBQkxFOgogICAgICAgIHByaW50KCJDdXN0b20gbGFicyBtb2R1bGUgbm90IGF2YWlsYWJsZS4iKQogICAgICAgIHJldHVybiAxCgogICAgY29uZmlnID0gZ2V0X2NvbmZpZygpCiAgICBncmFkZXIgPSBDdXN0b21MYWJHcmFkZXIoKQoKICAgICMgUnVuIHRoZSBncmFkaW5nCiAgICByZXN1bHQgPSBncmFkZXIuZ3JhZGVfbGFiKHNsdWcsIHZlcmJvc2U9VHJ1ZSkKCiAgICAjIENvbnZlcnQgcmVzdWx0cyB0byB4QVBJIGZvcm1hdAogICAgaWYgcmVzdWx0LnRhc2tzIGFuZCBjb25maWcuZ2V0KCJlbmFibGVkIiwgVHJ1ZSk6CiAgICAgICAgZW1haWwgPSBjb25maWcuZ2V0KCJhY3Rvcl9lbWFpbCIsICIiKQogICAgICAgIGxyc19lbmRwb2ludCA9IGNvbmZpZy5nZXQoImxyc19lbmRwb2ludCIsICIiKQogICAgICAgIGF1dGhfdG9rZW4gPSBjb25maWcuZ2V0KCJscnNfYXV0aF90b2tlbiIsICIiKQoKICAgICAgICAjIENvbnZlcnQgVGFza1Jlc3VsdCBvYmplY3RzIHRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgeGFwaV9yZXBvcnRlcgogICAgICAgIHN0ZXBzID0gW10KICAgICAgICBmb3IgdGFzayBpbiByZXN1bHQudGFza3M6CiAgICAgICAgICAgIHN0ZXBzLmFwcGVuZCh7CiAgICAgICAgICAgICAgICAnbGFiZWwnOiB0YXNrLm5hbWUsCiAgICAgICAgICAgICAgICAncGFzc2VkJzogdGFzay5wYXNzZWQsCiAgICAgICAgICAgICAgICAncmVzdWx0JzogJ1BBU1MnIGlmIHRhc2sucGFzc2VkIGVsc2UgJ0ZBSUwnLAogICAgICAgICAgICAgICAgJ21lc3NhZ2VzJzogdGFzay5tZXNzYWdlcywKICAgICAgICAgICAgICAgICd0aW1lc3RhbXAnOiB0YXNrLnRpbWVzdGFtcAogICAgICAgICAgICB9KQoKICAgICAgICBpZiBlbWFpbCBhbmQgc3RlcHM6CiAgICAgICAgICAgIGlmIGxyc19lbmRwb2ludCBhbmQgYXV0aF90b2tlbjoKICAgICAgICAgICAgICAgIHNlbmRfc3RhdGVtZW50cygKICAgICAgICAgICAgICAgICAgICBzdGVwcz1zdGVwcywKICAgICAgICAgICAgICAgICAgICBzbHVnPXNsdWcsCiAgICAgICAgICAgICAgICAgICAgZW1haWw9ZW1haWwsCiAgICAgICAgICAgICAgICAgICAgbHJzX2VuZHBvaW50PWxyc19lbmRwb2ludCwKICAgICAgICAgICAgICAgICAgICBhdXRoX3Rva2VuPWF1dGhfdG9rZW4sCiAgICAgICAgICAgICAgICAgICAgdmVyYm9zZT1UcnVlCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzYXZlZF9wYXRoID0gc2F2ZV9zdGF0ZW1lbnRzX2xvY2FsbHkoc3RlcHMsIHNsdWcsIGVtYWlsKQogICAgICAgICAgICAgICAgaWYgc2F2ZWRfcGF0aDoKICAgICAgICAgICAgICAgICAgICBwcmludChmIlxuR3JhZGVzIHNhdmVkIGxvY2FsbHk6IHtzYXZlZF9wYXRofSIpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoIkNvbmZpZ3VyZSBMUlMgdG8gc3VibWl0OiBsYWIgeGFwaS1jb25maWcgbHJzIikKCiAgICAjIFJlY29yZCB0aGF0IGdyYWRpbmcgd2FzIHBlcmZvcm1lZCAoZm9yIGZpbmlzaCByZW1pbmRlcikKICAgIHJlY29yZF9sYWJfZ3JhZGUoc2x1ZykKCiAgICByZXR1cm4gMCBpZiByZXN1bHQucGFzc2VkIGVsc2UgMQoKCmRlZiBoYW5kbGVfY3VzdG9tX2xhYnNfY29tbWFuZChhcmdzOiBsaXN0KSAtPiBpbnQ6CiAgICAiIiJIYW5kbGUgY3VzdG9tIGxhYnMgbWFuYWdlbWVudCBjb21tYW5kcy4iIiIKICAgIGlmIG5vdCBDVVNUT01fTEFCU19BVkFJTEFCTEU6CiAgICAgICAgcHJpbnQoIkN1c3RvbSBsYWJzIG1vZHVsZSBub3QgYXZhaWxhYmxlLiIpCiAgICAgICAgcmV0dXJuIDEKCiAgICBpZiBub3QgYXJncyBvciBhcmdzWzBdIGluICgiLWgiLCAiLS1oZWxwIiwgImhlbHAiKToKICAgICAgICBwcmludCgiIiIKQ3VzdG9tIExhYnMgQ29tbWFuZHM6CgogIGxhYiBjdXN0b20tbGFicyBsaXN0ICAgICAgICAgICAgICBMaXN0IGF2YWlsYWJsZSBjdXN0b20gbGFicwogIGxhYiBjdXN0b20tbGFicyBncmFkZSA8c2x1Zz4gICAgICBHcmFkZSBhIGN1c3RvbSBsYWIKICBsYWIgY3VzdG9tLWxhYnMgdmFsaWRhdGUgPGZpbGU+ICAgVmFsaWRhdGUgYSBsYWIgZGVmaW5pdGlvbiBKU09OIGZpbGUKICBsYWIgY3VzdG9tLWxhYnMgaW5mbyA8c2x1Zz4gICAgICAgU2hvdyBkZXRhaWxzIGFib3V0IGEgY3VzdG9tIGxhYgogIGxhYiBjdXN0b20tbGFicyBwYXRoICAgICAgICAgICAgICBTaG93IGN1c3RvbSBsYWJzIGRpcmVjdG9yeSBwYXRoCiIiIikKICAgICAgICByZXR1cm4gMAoKICAgIHN1YmNtZCA9IGFyZ3NbMF0KICAgIGdyYWRlciA9IEN1c3RvbUxhYkdyYWRlcigpCgogICAgaWYgc3ViY21kID09ICJsaXN0IjoKICAgICAgICBsYWJzID0gZ3JhZGVyLmxpc3RfbGFicygpCiAgICAgICAgaWYgbm90IGxhYnM6CiAgICAgICAgICAgIHByaW50KCJcbk5vIGN1c3RvbSBsYWJzIGZvdW5kLiIpCiAgICAgICAgICAgIHByaW50KGYiXG5DdXN0b20gbGFicyBkaXJlY3Rvcnk6IHtncmFkZXIuTEFCU19ESVJ9IikKICAgICAgICAgICAgcHJpbnQoIkNyZWF0ZSBKU09OIGZpbGVzIGluIHRoaXMgZGlyZWN0b3J5IHRvIGFkZCBjdXN0b20gbGFicy4iKQogICAgICAgICAgICBwcmludCgiXG5FeGFtcGxlIGxhYnMgYXJlIGluOiB7Z3JhZGVyLkJVSUxUSU5fTEFCU19ESVJ9IikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIlxueydTbHVnJzo8MjV9IHsnTmFtZSc6PDQwfSB7J0NvdXJzZSc6PDEwfSIpCiAgICAgICAgICAgIHByaW50KCItIiAqIDc1KQogICAgICAgICAgICBmb3IgbGFiIGluIGxhYnM6CiAgICAgICAgICAgICAgICBtYXJrZXIgPSAiKiIgaWYgbGFiWydidWlsdGluJ10gZWxzZSAiICIKICAgICAgICAgICAgICAgIHByaW50KGYie2xhYlsnc2x1ZyddOjwyNX0ge2xhYlsnbmFtZSddOjw0MH0ge2xhYlsnY291cnNlJ106PDEwfSB7bWFya2VyfSIpCiAgICAgICAgICAgIHByaW50KCJcbiogPSBidWlsdC1pbiBleGFtcGxlIGxhYiIpCiAgICAgICAgcmV0dXJuIDAKCiAgICBlbGlmIHN1YmNtZCA9PSAiZ3JhZGUiOgogICAgICAgIGlmIGxlbihhcmdzKSA8IDI6CiAgICAgICAgICAgIHByaW50KCJVc2FnZTogbGFiIGN1c3RvbS1sYWJzIGdyYWRlIDxzbHVnPiIpCiAgICAgICAgICAgIHJldHVybiAxCiAgICAgICAgcmV0dXJuIHJ1bl9jdXN0b21fbGFiX2dyYWRlKGFyZ3NbMV0pCgogICAgZWxpZiBzdWJjbWQgPT0gInZhbGlkYXRlIjoKICAgICAgICBpZiBsZW4oYXJncykgPCAyOgogICAgICAgICAgICBwcmludCgiVXNhZ2U6IGxhYiBjdXN0b20tbGFicyB2YWxpZGF0ZSA8ZmlsZT4iKQogICAgICAgICAgICByZXR1cm4gMQogICAgICAgIGltcG9ydCBqc29uCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aXRoIG9wZW4oYXJnc1sxXSkgYXMgZjoKICAgICAgICAgICAgICAgIGxhYl9kZWYgPSBqc29uLmxvYWQoZikKICAgICAgICAgICAgZ3JhZGVyLmxvYWRfbGFiKFBhdGgoYXJnc1sxXSkpCiAgICAgICAgICAgIHByaW50KGYiXDAzM1swOzMybeKck1wwMzNbMG0gTGFiIGRlZmluaXRpb24gaXMgdmFsaWQiKQogICAgICAgICAgICBtZXRhZGF0YSA9IGxhYl9kZWYuZ2V0KCdtZXRhZGF0YScsIHt9KQogICAgICAgICAgICBwcmludChmIiAgU2x1Zzoge21ldGFkYXRhLmdldCgnc2x1ZycpfSIpCiAgICAgICAgICAgIHByaW50KGYiICBOYW1lOiB7bWV0YWRhdGEuZ2V0KCduYW1lJyl9IikKICAgICAgICAgICAgcHJpbnQoZiIgIFRhc2tzOiB7bGVuKGxhYl9kZWYuZ2V0KCd0YXNrcycsIFtdKSl9IikKICAgICAgICAgICAgcmV0dXJuIDAKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYiXDAzM1swOzMxbeKcl1wwMzNbMG0gVmFsaWRhdGlvbiBmYWlsZWQ6IHtlfSIpCiAgICAgICAgICAgIHJldHVybiAxCgogICAgZWxpZiBzdWJjbWQgPT0gImluZm8iOgogICAgICAgIGlmIGxlbihhcmdzKSA8IDI6CiAgICAgICAgICAgIHByaW50KCJVc2FnZTogbGFiIGN1c3RvbS1sYWJzIGluZm8gPHNsdWc+IikKICAgICAgICAgICAgcmV0dXJuIDEKICAgICAgICBzbHVnID0gYXJnc1sxXQogICAgICAgIGxhYl9maWxlID0gZ3JhZGVyLmZpbmRfbGFiKHNsdWcpCiAgICAgICAgaWYgbm90IGxhYl9maWxlOgogICAgICAgICAgICBwcmludChmIkxhYiBub3QgZm91bmQ6IHtzbHVnfSIpCiAgICAgICAgICAgIHJldHVybiAxCiAgICAgICAgaW1wb3J0IGpzb24KICAgICAgICB3aXRoIG9wZW4obGFiX2ZpbGUpIGFzIGY6CiAgICAgICAgICAgIGxhYl9kZWYgPSBqc29uLmxvYWQoZikKICAgICAgICBtZXRhZGF0YSA9IGxhYl9kZWYuZ2V0KCdtZXRhZGF0YScsIHt9KQogICAgICAgIHByaW50KGYiXG5MYWI6IHttZXRhZGF0YS5nZXQoJ25hbWUnLCAnVW5rbm93bicpfSIpCiAgICAgICAgcHJpbnQoZiJTbHVnOiB7bWV0YWRhdGEuZ2V0KCdzbHVnJyl9IikKICAgICAgICBwcmludChmIkNvdXJzZToge21ldGFkYXRhLmdldCgnY291cnNlJywgJ04vQScpfSIpCiAgICAgICAgcHJpbnQoZiJEZXNjcmlwdGlvbjoge21ldGFkYXRhLmdldCgnZGVzY3JpcHRpb24nLCAnTi9BJyl9IikKICAgICAgICBwcmludChmIkVzdGltYXRlZCBUaW1lOiB7bWV0YWRhdGEuZ2V0KCdlc3RpbWF0ZWRfdGltZScsICdOL0EnKX0iKQogICAgICAgIHByaW50KGYiXG5PYmplY3RpdmVzOiIpCiAgICAgICAgZm9yIG9iaiBpbiBtZXRhZGF0YS5nZXQoJ29iamVjdGl2ZXMnLCBbXSk6CiAgICAgICAgICAgIHByaW50KGYiICAtIHtvYmp9IikKICAgICAgICBwcmludChmIlxuVGFza3M6IHtsZW4obGFiX2RlZi5nZXQoJ3Rhc2tzJywgW10pKX0iKQogICAgICAgIGZvciB0YXNrIGluIGxhYl9kZWYuZ2V0KCd0YXNrcycsIFtdKToKICAgICAgICAgICAgcHJpbnQoZiIgIC0ge3Rhc2suZ2V0KCduYW1lJyl9ICh7dGFzay5nZXQoJ3BvaW50cycsIDEpfSBwdHMpIikKICAgICAgICByZXR1cm4gMAoKICAgIGVsaWYgc3ViY21kID09ICJwYXRoIjoKICAgICAgICBwcmludChmIlxuQ3VzdG9tIGxhYnMgZGlyZWN0b3J5OiB7Z3JhZGVyLkxBQlNfRElSfSIpCiAgICAgICAgcHJpbnQoZiJCdWlsdC1pbiBleGFtcGxlczoge2dyYWRlci5CVUlMVElOX0xBQlNfRElSfSIpCiAgICAgICAgcmV0dXJuIDAKCiAgICBlbHNlOgogICAgICAgIHByaW50KGYiVW5rbm93biBjdXN0b20tbGFicyBjb21tYW5kOiB7c3ViY21kfSIpCiAgICAgICAgcmV0dXJuIDEKCgpkZWYgaGFuZGxlX2NvbmZpZ19jb21tYW5kKGFyZ3M6IGxpc3QpOgogICAgIiIiCiAgICBIYW5kbGUgeEFQSSBjb25maWd1cmF0aW9uIGNvbW1hbmRzLgogICAgIiIiCiAgICBpZiBub3QgYXJncyBvciBhcmdzWzBdIGluICgiLWgiLCAiLS1oZWxwIiwgImhlbHAiKToKICAgICAgICBwcmludCgiIiIKeEFQSSBDb25maWd1cmF0aW9uIENvbW1hbmRzOgoKICBsYWIgeGFwaS1jb25maWcgc2hvdyAgICAgICAgU2hvdyBjdXJyZW50IGNvbmZpZ3VyYXRpb24KICBsYWIgeGFwaS1jb25maWcgZW1haWwgICAgICAgU2V0IHlvdXIgZW1haWwgYWRkcmVzcwogIGxhYiB4YXBpLWNvbmZpZyBscnMgICAgICAgICBDb25maWd1cmUgTFJTIGVuZHBvaW50CiAgbGFiIHhhcGktY29uZmlnIGVuYWJsZSAgICAgIEVuYWJsZSB4QVBJIHJlcG9ydGluZwogIGxhYiB4YXBpLWNvbmZpZyBkaXNhYmxlICAgICBEaXNhYmxlIHhBUEkgcmVwb3J0aW5nCiIiIikKICAgICAgICByZXR1cm4gMAoKICAgIGNvbmZpZyA9IGxvYWRfY29uZmlnKCkKICAgIHN1YmNtZCA9IGFyZ3NbMF0KCiAgICBpZiBzdWJjbWQgPT0gInNob3ciOgogICAgICAgIHByaW50KCJcbnhBUEkgQ29uZmlndXJhdGlvbjoiKQogICAgICAgIHByaW50KCItIiAqIDQwKQogICAgICAgIHByaW50KGYiICBFbWFpbDogICAgICAgIHtjb25maWcuZ2V0KCdhY3Rvcl9lbWFpbCcpIG9yICcobm90IHNldCknfSIpCiAgICAgICAgcHJpbnQoZiIgIExSUyBFbmRwb2ludDoge2NvbmZpZy5nZXQoJ2xyc19lbmRwb2ludCcpIG9yICcobm90IHNldCknfSIpCiAgICAgICAgcHJpbnQoZiIgIEF1dGggVG9rZW46ICAgeycoY29uZmlndXJlZCknIGlmIGNvbmZpZy5nZXQoJ2xyc19hdXRoX3Rva2VuJykgZWxzZSAnKG5vdCBzZXQpJ30iKQogICAgICAgIHByaW50KGYiICBFbmFibGVkOiAgICAgIHtjb25maWcuZ2V0KCdlbmFibGVkJywgVHJ1ZSl9IikKICAgICAgICBwcmludCgpCiAgICAgICAgcmV0dXJuIDAKCiAgICBlbGlmIHN1YmNtZCA9PSAiZW1haWwiOgogICAgICAgIGlmIGxlbihhcmdzKSA+IDE6CiAgICAgICAgICAgIGVtYWlsID0gYXJnc1sxXQogICAgICAgICAgICBmcm9tIGNvbmZpZyBpbXBvcnQgdmFsaWRhdGVfZW1haWwKICAgICAgICAgICAgaWYgdmFsaWRhdGVfZW1haWwoZW1haWwpOgogICAgICAgICAgICAgICAgY29uZmlnWyJhY3Rvcl9lbWFpbCJdID0gZW1haWwKICAgICAgICAgICAgICAgIHNhdmVfY29uZmlnKGNvbmZpZykKICAgICAgICAgICAgICAgIHByaW50KGYiRW1haWwgc2V0IHRvOiB7ZW1haWx9IikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHByaW50KCJJbnZhbGlkIGVtYWlsIGZvcm1hdC4iKQogICAgICAgICAgICAgICAgcmV0dXJuIDEKICAgICAgICBlbHNlOgogICAgICAgICAgICBlbWFpbCA9IHByb21wdF9mb3JfZW1haWwoKQogICAgICAgICAgICBpZiBlbWFpbDoKICAgICAgICAgICAgICAgIGNvbmZpZ1siYWN0b3JfZW1haWwiXSA9IGVtYWlsCiAgICAgICAgICAgICAgICBzYXZlX2NvbmZpZyhjb25maWcpCiAgICAgICAgcmV0dXJuIDAKCiAgICBlbGlmIHN1YmNtZCA9PSAibHJzIjoKICAgICAgICBwcmludCgiXG5MUlMgQ29uZmlndXJhdGlvbiIpCiAgICAgICAgcHJpbnQoIi0iICogNDApCiAgICAgICAgdHJ5OgogICAgICAgICAgICBlbmRwb2ludCA9IGlucHV0KCJMUlMgRW5kcG9pbnQgVVJMOiAiKS5zdHJpcCgpCiAgICAgICAgICAgIGF1dGhfdG9rZW4gPSBpbnB1dCgiTFJTIEF1dGggVG9rZW4gKEJhc2U2NCk6ICIpLnN0cmlwKCkKICAgICAgICAgICAgaWYgZW5kcG9pbnQ6CiAgICAgICAgICAgICAgICBjb25maWdbImxyc19lbmRwb2ludCJdID0gZW5kcG9pbnQKICAgICAgICAgICAgaWYgYXV0aF90b2tlbjoKICAgICAgICAgICAgICAgIGNvbmZpZ1sibHJzX2F1dGhfdG9rZW4iXSA9IGF1dGhfdG9rZW4KICAgICAgICAgICAgc2F2ZV9jb25maWcoY29uZmlnKQogICAgICAgICAgICBwcmludCgiXG5MUlMgY29uZmlndXJhdGlvbiBzYXZlZC4iKQogICAgICAgIGV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsIEVPRkVycm9yKToKICAgICAgICAgICAgcHJpbnQoIlxuQ2FuY2VsbGVkLiIpCiAgICAgICAgcmV0dXJuIDAKCiAgICBlbGlmIHN1YmNtZCA9PSAiZW5hYmxlIjoKICAgICAgICBjb25maWdbImVuYWJsZWQiXSA9IFRydWUKICAgICAgICBzYXZlX2NvbmZpZyhjb25maWcpCiAgICAgICAgcHJpbnQoInhBUEkgcmVwb3J0aW5nIGVuYWJsZWQuIikKICAgICAgICByZXR1cm4gMAoKICAgIGVsaWYgc3ViY21kID09ICJkaXNhYmxlIjoKICAgICAgICBjb25maWdbImVuYWJsZWQiXSA9IEZhbHNlCiAgICAgICAgc2F2ZV9jb25maWcoY29uZmlnKQogICAgICAgIHByaW50KCJ4QVBJIHJlcG9ydGluZyBkaXNhYmxlZC4iKQogICAgICAgIHJldHVybiAwCgogICAgZWxzZToKICAgICAgICBwcmludChmIlVua25vd24gY29uZmlnIGNvbW1hbmQ6IHtzdWJjbWR9IikKICAgICAgICByZXR1cm4gMQoKCmRlZiBoYW5kbGVfc2Nvcm1fcGFja2FnZV9jb21tYW5kKGFyZ3M6IGxpc3QpIC0+IGludDoKICAgICIiIgogICAgSGFuZGxlIFNDT1JNIHBhY2thZ2UgZ2VuZXJhdGlvbiBjb21tYW5kcy4KICAgICIiIgogICAgaWYgbm90IFNDT1JNX0dFTkVSQVRPUl9BVkFJTEFCTEU6CiAgICAgICAgcHJpbnQoIlNDT1JNIHBhY2thZ2UgZ2VuZXJhdG9yIG1vZHVsZSBub3QgYXZhaWxhYmxlLiIpCiAgICAgICAgcmV0dXJuIDEKCiAgICBpZiBub3QgYXJncyBvciBhcmdzWzBdIGluICgiLWgiLCAiLS1oZWxwIiwgImhlbHAiKToKICAgICAgICBwcmludCgiIiIKU0NPUk0gUGFja2FnZSBHZW5lcmF0b3IgQ29tbWFuZHM6CgogIGxhYiBzY29ybS1wYWNrYWdlICAgICAgICAgICAgICAgIEludGVyYWN0aXZlIHBhY2thZ2UgZ2VuZXJhdG9yCiAgbGFiIHNjb3JtLXBhY2thZ2UgbGlzdCAgICAgICAgICAgTGlzdCBhdmFpbGFibGUgbGFicyBmb3IgcGFja2FnaW5nCiAgbGFiIHNjb3JtLXBhY2thZ2UgY291cnNlcyAgICAgICAgTGlzdCBhdmFpbGFibGUgY291cnNlcwogIGxhYiBzY29ybS1wYWNrYWdlIGdlbmVyYXRlICAgICAgIEdlbmVyYXRlIGEgU0NPUk0gcGFja2FnZSAoaW50ZXJhY3RpdmUpCiAgbGFiIHNjb3JtLXBhY2thZ2UgYnVsayA8Y291cnNlPiAgR2VuZXJhdGUgcGFja2FnZXMgZm9yIGFsbCBsYWJzIGluIGEgY291cnNlCgogIENvbW1hbmQtbGluZSBvcHRpb25zIGZvciAnZ2VuZXJhdGUnOgogICAgLS1zbHVnIDxzbHVnPiAgICAgICAgICAgICAgICAgIExhYiBzbHVnIGlkZW50aWZpZXIgKHJlcXVpcmVkKQogICAgLS1uYW1lIDxuYW1lPiAgICAgICAgICAgICAgICAgIEh1bWFuLXJlYWRhYmxlIGxhYiBuYW1lIChyZXF1aXJlZCkKICAgIC0tY291cnNlIDxza3U+ICAgICAgICAgICAgICAgICBDb3Vyc2UgU0tVIChkZWZhdWx0OiByaDEyNCkKICAgIC0tbHJzLWVuZHBvaW50IDx1cmw+ICAgICAgICAgICBMUlMgZW5kcG9pbnQgVVJMCiAgICAtLWxycy10b2tlbiA8dG9rZW4+ICAgICAgICAgICAgQmFzZTY0LWVuY29kZWQgTFJTIGF1dGggdG9rZW4KICAgIC0tcGFzc2luZy1zY29yZSA8cGVyY2VudD4gICAgICBQYXNzaW5nIHNjb3JlIHBlcmNlbnRhZ2UgKGRlZmF1bHQ6IDcwKQogICAgLS1zdHJhdGVneSA8c3RyYXRlZ3k+ICAgICAgICAgIEdyYWRlIHN0cmF0ZWd5OiBiZXN0LCBsYXRlc3QsIGF2ZXJhZ2UgKGRlZmF1bHQ6IGJlc3QpCiAgICAtLW91dHB1dCA8cGF0aD4gICAgICAgICAgICAgICAgT3V0cHV0IGZpbGUgcGF0aAoKICBDb21tYW5kLWxpbmUgb3B0aW9ucyBmb3IgJ2J1bGsnOgogICAgLS1scnMtZW5kcG9pbnQgPHVybD4gICAgICAgICAgIExSUyBlbmRwb2ludCBVUkwKICAgIC0tbHJzLXRva2VuIDx0b2tlbj4gICAgICAgICAgICBCYXNlNjQtZW5jb2RlZCBMUlMgYXV0aCB0b2tlbgogICAgLS1wYXNzaW5nLXNjb3JlIDxwZXJjZW50PiAgICAgIFBhc3Npbmcgc2NvcmUgcGVyY2VudGFnZSAoZGVmYXVsdDogNzApCiAgICAtLXN0cmF0ZWd5IDxzdHJhdGVneT4gICAgICAgICAgR3JhZGUgc3RyYXRlZ3k6IGJlc3QsIGxhdGVzdCwgYXZlcmFnZSAoZGVmYXVsdDogYmVzdCkKICAgIC0tb3V0cHV0IDxkaXI+ICAgICAgICAgICAgICAgICBPdXRwdXQgZGlyZWN0b3J5IHBhdGgKCkV4YW1wbGVzOgogIGxhYiBzY29ybS1wYWNrYWdlCiAgbGFiIHNjb3JtLXBhY2thZ2UgbGlzdAogIGxhYiBzY29ybS1wYWNrYWdlIGNvdXJzZXMKICBsYWIgc2Nvcm0tcGFja2FnZSBnZW5lcmF0ZSAtLXNsdWcgdXNlcnMtbWFuYWdlIC0tbmFtZSAiTWFuYWdlIFVzZXJzIExhYiIKICBsYWIgc2Nvcm0tcGFja2FnZSBidWxrIHJoMTI0CiAgbGFiIHNjb3JtLXBhY2thZ2UgYnVsayByaDEzNCAtLXBhc3Npbmctc2NvcmUgODAgLS1vdXRwdXQgLi9wYWNrYWdlcwoiIiIpCiAgICAgICAgcmV0dXJuIDAKCiAgICBzdWJjbWQgPSBhcmdzWzBdCgogICAgaWYgc3ViY21kID09ICJsaXN0IjoKICAgICAgICBsYWJzID0gbG9hZF9sYWJfZGVmaW5pdGlvbnMoKQogICAgICAgIGlmIG5vdCBsYWJzOgogICAgICAgICAgICBwcmludCgiXG5ObyBsYWIgZGVmaW5pdGlvbnMgZm91bmQuIikKICAgICAgICAgICAgcHJpbnQoIkFkZCBsYWIgSlNPTiBmaWxlcyB0byBjdXN0b21fbGFicy9leGFtcGxlcy8gZGlyZWN0b3J5LiIpCiAgICAgICAgICAgIHJldHVybiAwCgogICAgICAgIHByaW50KGYiXG5BdmFpbGFibGUgbGFicyBmb3IgU0NPUk0gcGFja2FnaW5nICh7bGVuKGxhYnMpfSB0b3RhbCk6XG4iKQogICAgICAgIGN1cnJlbnRfY291cnNlID0gTm9uZQogICAgICAgIGZvciBsYWIgaW4gc29ydGVkKGxhYnMsIGtleT1sYW1iZGEgeDogKHhbJ2NvdXJzZSddLCB4WydzbHVnJ10pKToKICAgICAgICAgICAgaWYgbGFiWydjb3Vyc2UnXSAhPSBjdXJyZW50X2NvdXJzZToKICAgICAgICAgICAgICAgIGN1cnJlbnRfY291cnNlID0gbGFiWydjb3Vyc2UnXQogICAgICAgICAgICAgICAgcHJpbnQoZiJcbiAge2N1cnJlbnRfY291cnNlLnVwcGVyKCl9OiIpCiAgICAgICAgICAgIHNvdXJjZV9tYXJrZXIgPSAiKiIgaWYgbGFiLmdldCgnc291cmNlJykgPT0gJ3VzZXInIGVsc2UgIiIKICAgICAgICAgICAgcHJpbnQoZiIgICAge2xhYlsnc2x1ZyddOjwzMH0ge2xhYlsnbmFtZSddfXtzb3VyY2VfbWFya2VyfSIpCiAgICAgICAgcHJpbnQoIlxuICAqID0gdXNlci1kZWZpbmVkIGxhYiIpCiAgICAgICAgcmV0dXJuIDAKCiAgICBlbGlmIHN1YmNtZCA9PSAiY291cnNlcyI6CiAgICAgICAgY291cnNlcyA9IGdldF9hdmFpbGFibGVfY291cnNlcygpCiAgICAgICAgaWYgbm90IGNvdXJzZXM6CiAgICAgICAgICAgIHByaW50KCJcbk5vIGNvdXJzZXMgZm91bmQuIikKICAgICAgICAgICAgcmV0dXJuIDAKCiAgICAgICAgcHJpbnQoZiJcbkF2YWlsYWJsZSBjb3Vyc2VzICh7bGVuKGNvdXJzZXMpfSB0b3RhbCk6XG4iKQogICAgICAgIGZvciBjb3Vyc2UgaW4gY291cnNlczoKICAgICAgICAgICAgbGFiX2NvdW50ID0gbGVuKGxvYWRfbGFiX2RlZmluaXRpb25zKGNvdXJzZV9maWx0ZXI9Y291cnNlKSkKICAgICAgICAgICAgcHJpbnQoZiIgIHtjb3Vyc2UudXBwZXIoKToxMH0gKHtsYWJfY291bnR9IGxhYnMpIikKICAgICAgICBwcmludCgiXG5Vc2UgJ2xhYiBzY29ybS1wYWNrYWdlIGJ1bGsgPGNvdXJzZT4nIHRvIGdlbmVyYXRlIHBhY2thZ2VzIGZvciBhbGwgbGFicy4iKQogICAgICAgIHJldHVybiAwCgogICAgZWxpZiBzdWJjbWQgPT0gImJ1bGsiOgogICAgICAgIGlmIGxlbihhcmdzKSA8IDI6CiAgICAgICAgICAgIHByaW50KCJVc2FnZTogbGFiIHNjb3JtLXBhY2thZ2UgYnVsayA8Y291cnNlPiBbb3B0aW9uc10iKQogICAgICAgICAgICBwcmludCgiXG5BdmFpbGFibGUgY291cnNlczoiKQogICAgICAgICAgICBmb3IgY291cnNlIGluIGdldF9hdmFpbGFibGVfY291cnNlcygpOgogICAgICAgICAgICAgICAgcHJpbnQoZiIgIC0ge2NvdXJzZX0iKQogICAgICAgICAgICByZXR1cm4gMQoKICAgICAgICBjb3Vyc2Vfc2t1ID0gYXJnc1sxXQoKICAgICAgICAjIFBhcnNlIHJlbWFpbmluZyBhcmd1bWVudHMKICAgICAgICBpbXBvcnQgYXJncGFyc2UKICAgICAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihwcm9nPSJsYWIgc2Nvcm0tcGFja2FnZSBidWxrIikKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCJjb3Vyc2UiLCBoZWxwPSJDb3Vyc2UgU0tVIikKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLWxycy1lbmRwb2ludCIsIGRlZmF1bHQ9REVGQVVMVF9MUlNfRU5EUE9JTlQsIGhlbHA9IkxSUyBlbmRwb2ludCBVUkwiKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tbHJzLXRva2VuIiwgaGVscD0iQmFzZTY0LWVuY29kZWQgTFJTIGF1dGggdG9rZW4iKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tcGFzc2luZy1zY29yZSIsIHR5cGU9aW50LCBkZWZhdWx0PTcwLCBoZWxwPSJQYXNzaW5nIHNjb3JlIHBlcmNlbnRhZ2UiKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tc3RyYXRlZ3kiLCBjaG9pY2VzPVsiYmVzdCIsICJsYXRlc3QiLCAiYXZlcmFnZSJdLCBkZWZhdWx0PSJiZXN0IikKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLW91dHB1dCIsICItbyIsIGhlbHA9Ik91dHB1dCBkaXJlY3RvcnkgcGF0aCIpCgogICAgICAgIHRyeToKICAgICAgICAgICAgcGFyc2VkID0gcGFyc2VyLnBhcnNlX2FyZ3MoYXJnc1sxOl0pCiAgICAgICAgZXhjZXB0IFN5c3RlbUV4aXQ6CiAgICAgICAgICAgIHJldHVybiAxCgogICAgICAgICMgR2V0IExSUyB0b2tlbiBmcm9tIGNvbmZpZyBpZiBub3QgcHJvdmlkZWQKICAgICAgICBscnNfdG9rZW4gPSBwYXJzZWQubHJzX3Rva2VuCiAgICAgICAgaWYgbm90IGxyc190b2tlbjoKICAgICAgICAgICAgY29uZmlnID0gZ2V0X2NvbmZpZygpCiAgICAgICAgICAgIGxyc190b2tlbiA9IGNvbmZpZy5nZXQoJ2xyc19hdXRoX3Rva2VuJywgJycpCgogICAgICAgIHRyeToKICAgICAgICAgICAgYnVsa19nZW5lcmF0ZV9zY29ybV9wYWNrYWdlcygKICAgICAgICAgICAgICAgIGNvdXJzZV9za3U9cGFyc2VkLmNvdXJzZSwKICAgICAgICAgICAgICAgIGxyc19lbmRwb2ludD1wYXJzZWQubHJzX2VuZHBvaW50LAogICAgICAgICAgICAgICAgbHJzX2F1dGhfdG9rZW49bHJzX3Rva2VuIG9yICIiLAogICAgICAgICAgICAgICAgcGFzc2luZ19zY29yZT1wYXJzZWQucGFzc2luZ19zY29yZSAvIDEwMCwKICAgICAgICAgICAgICAgIGdyYWRlX3N0cmF0ZWd5PXBhcnNlZC5zdHJhdGVneSwKICAgICAgICAgICAgICAgIG91dHB1dF9kaXI9cGFyc2VkLm91dHB1dAogICAgICAgICAgICApCiAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIkVycm9yIGdlbmVyYXRpbmcgU0NPUk0gcGFja2FnZXM6IHtlfSIpCiAgICAgICAgICAgIHJldHVybiAxCgogICAgZWxpZiBzdWJjbWQgPT0gImdlbmVyYXRlIjoKICAgICAgICAjIFBhcnNlIGNvbW1hbmQtbGluZSBhcmd1bWVudHMKICAgICAgICBpbXBvcnQgYXJncGFyc2UKICAgICAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihwcm9nPSJsYWIgc2Nvcm0tcGFja2FnZSBnZW5lcmF0ZSIpCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1zbHVnIiwgaGVscD0iTGFiIHNsdWcgaWRlbnRpZmllciIpCiAgICAgICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1uYW1lIiwgaGVscD0iSHVtYW4tcmVhZGFibGUgbGFiIG5hbWUiKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tY291cnNlIiwgZGVmYXVsdD0icmgxMjQiLCBoZWxwPSJDb3Vyc2UgU0tVIikKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLWxycy1lbmRwb2ludCIsIGRlZmF1bHQ9REVGQVVMVF9MUlNfRU5EUE9JTlQsIGhlbHA9IkxSUyBlbmRwb2ludCBVUkwiKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tbHJzLXRva2VuIiwgaGVscD0iQmFzZTY0LWVuY29kZWQgTFJTIGF1dGggdG9rZW4iKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tcGFzc2luZy1zY29yZSIsIHR5cGU9aW50LCBkZWZhdWx0PTcwLCBoZWxwPSJQYXNzaW5nIHNjb3JlIHBlcmNlbnRhZ2UiKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tc3RyYXRlZ3kiLCBjaG9pY2VzPVsiYmVzdCIsICJsYXRlc3QiLCAiYXZlcmFnZSJdLCBkZWZhdWx0PSJiZXN0IikKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLW91dHB1dCIsICItbyIsIGhlbHA9Ik91dHB1dCBmaWxlIHBhdGgiKQogICAgICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tcG9pbnRzIiwgdHlwZT1pbnQsIGRlZmF1bHQ9MTAwLCBoZWxwPSJUb3RhbCBwb3NzaWJsZSBwb2ludHMiKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHBhcnNlZCA9IHBhcnNlci5wYXJzZV9hcmdzKGFyZ3NbMTpdKQogICAgICAgIGV4Y2VwdCBTeXN0ZW1FeGl0OgogICAgICAgICAgICByZXR1cm4gMQoKICAgICAgICBpZiBub3QgcGFyc2VkLnNsdWcgb3Igbm90IHBhcnNlZC5uYW1lOgogICAgICAgICAgICAjIEZhbGwgYmFjayB0byBpbnRlcmFjdGl2ZSBtb2RlCiAgICAgICAgICAgIHByaW50KCJNaXNzaW5nIC0tc2x1ZyBvciAtLW5hbWUuIFN0YXJ0aW5nIGludGVyYWN0aXZlIG1vZGUuLi5cbiIpCiAgICAgICAgICAgIGludGVyYWN0aXZlX2dlbmVyYXRvcigpCiAgICAgICAgICAgIHJldHVybiAwCgogICAgICAgICMgR2V0IExSUyB0b2tlbiBmcm9tIGNvbmZpZyBpZiBub3QgcHJvdmlkZWQKICAgICAgICBscnNfdG9rZW4gPSBwYXJzZWQubHJzX3Rva2VuCiAgICAgICAgaWYgbm90IGxyc190b2tlbjoKICAgICAgICAgICAgY29uZmlnID0gZ2V0X2NvbmZpZygpCiAgICAgICAgICAgIGxyc190b2tlbiA9IGNvbmZpZy5nZXQoJ2xyc19hdXRoX3Rva2VuJywgJycpCgogICAgICAgIHRyeToKICAgICAgICAgICAgb3V0cHV0X3BhdGggPSBnZW5lcmF0ZV9zY29ybV9wYWNrYWdlKAogICAgICAgICAgICAgICAgbGFiX3NsdWc9cGFyc2VkLnNsdWcsCiAgICAgICAgICAgICAgICBsYWJfbmFtZT1wYXJzZWQubmFtZSwKICAgICAgICAgICAgICAgIGNvdXJzZV9za3U9cGFyc2VkLmNvdXJzZSwKICAgICAgICAgICAgICAgIGxyc19lbmRwb2ludD1wYXJzZWQubHJzX2VuZHBvaW50LAogICAgICAgICAgICAgICAgbHJzX2F1dGhfdG9rZW49bHJzX3Rva2VuIG9yICIiLAogICAgICAgICAgICAgICAgcGFzc2luZ19zY29yZT1wYXJzZWQucGFzc2luZ19zY29yZSAvIDEwMCwKICAgICAgICAgICAgICAgIGdyYWRlX3N0cmF0ZWd5PXBhcnNlZC5zdHJhdGVneSwKICAgICAgICAgICAgICAgIHRvdGFsX3BvaW50cz1wYXJzZWQucG9pbnRzLAogICAgICAgICAgICAgICAgb3V0cHV0X3BhdGg9cGFyc2VkLm91dHB1dAogICAgICAgICAgICApCiAgICAgICAgICAgIHByaW50KGYiXG5TQ09STSBwYWNrYWdlIGNyZWF0ZWQ6IHtvdXRwdXRfcGF0aH0iKQogICAgICAgICAgICBwcmludCgiXG5VcGxvYWQgdGhpcyBaSVAgZmlsZSB0byB5b3VyIExNUyBhcyBhIFNDT1JNIDEuMiBwYWNrYWdlLiIpCiAgICAgICAgICAgIHByaW50KCJTdHVkZW50cyB3aWxsIHNlZSB0aGVpciBsYWIgZ3JhZGVzIHdoZW4gdGhleSBvcGVuIHRoZSBjb250ZW50LiIpCiAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIkVycm9yIGdlbmVyYXRpbmcgU0NPUk0gcGFja2FnZToge2V9IikKICAgICAgICAgICAgcmV0dXJuIDEKCiAgICBlbHNlOgogICAgICAgICMgTm8gc3ViY29tbWFuZCAtIHN0YXJ0IGludGVyYWN0aXZlIG1vZGUKICAgICAgICBpbnRlcmFjdGl2ZV9nZW5lcmF0b3IoKQogICAgICAgIHJldHVybiAwCgoKZGVmIG1haW4oKToKICAgICIiIgogICAgTWFpbiBlbnRyeSBwb2ludCBmb3IgdGhlIGxhYiB3cmFwcGVyLgogICAgIiIiCiAgICBpZiBsZW4oc3lzLmFyZ3YpIDwgMjoKICAgICAgICAjIE5vIGFyZ3VtZW50cyAtIHBhc3MgdGhyb3VnaCB0byBvcmlnaW5hbCBsYWIgY29tbWFuZAogICAgICAgIHJldHVybiBydW5fbGFiX2NvbW1hbmQoW10pCgogICAgY29tbWFuZCA9IHN5cy5hcmd2WzFdCiAgICByZW1haW5pbmdfYXJncyA9IHN5cy5hcmd2WzI6XQoKICAgICMgSGFuZGxlIHhBUEktc3BlY2lmaWMgY29tbWFuZHMKICAgIGlmIGNvbW1hbmQgPT0gInhhcGktY29uZmlnIjoKICAgICAgICByZXR1cm4gaGFuZGxlX2NvbmZpZ19jb21tYW5kKHJlbWFpbmluZ19hcmdzKQoKICAgICMgSGFuZGxlIGN1c3RvbSBsYWJzIGNvbW1hbmRzCiAgICBpZiBjb21tYW5kID09ICJjdXN0b20tbGFicyI6CiAgICAgICAgcmV0dXJuIGhhbmRsZV9jdXN0b21fbGFic19jb21tYW5kKHJlbWFpbmluZ19hcmdzKQoKICAgICMgSGFuZGxlIFNDT1JNIHBhY2thZ2UgZ2VuZXJhdGlvbgogICAgaWYgY29tbWFuZCA9PSAic2Nvcm0tcGFja2FnZSI6CiAgICAgICAgcmV0dXJuIGhhbmRsZV9zY29ybV9wYWNrYWdlX2NvbW1hbmQocmVtYWluaW5nX2FyZ3MpCgogICAgIyBIYW5kbGUgZ3JhZGUgY29tbWFuZCB3aXRoIHhBUEkgaW50ZWdyYXRpb24KICAgIGlmIGNvbW1hbmQgPT0gImdyYWRlIjoKICAgICAgICBpZiBub3QgcmVtYWluaW5nX2FyZ3M6CiAgICAgICAgICAgIHJldHVybiBydW5fbGFiX2NvbW1hbmQoWyJncmFkZSJdKSAgIyBXaWxsIHNob3cgdXNhZ2UKCiAgICAgICAgc2x1ZyA9IHJlbWFpbmluZ19hcmdzWzBdCiAgICAgICAgZXh0cmFfYXJncyA9IHJlbWFpbmluZ19hcmdzWzE6XSBpZiBsZW4ocmVtYWluaW5nX2FyZ3MpID4gMSBlbHNlIFtdCgogICAgICAgICMgQ2hlY2sgaWYgdGhpcyBpcyBhIGN1c3RvbSBsYWIgZmlyc3QKICAgICAgICBpZiBpc19jdXN0b21fbGFiKHNsdWcpOgogICAgICAgICAgICByZXR1cm4gcnVuX2N1c3RvbV9sYWJfZ3JhZGUoc2x1ZykKCiAgICAgICAgIyBPdGhlcndpc2UgdXNlIHRoZSBzdGFuZGFyZCBsYWIgZ3JhZGluZwogICAgICAgIHJldHVybiBydW5fZ3JhZGVfd2l0aF94YXBpKHNsdWcsIGV4dHJhX2FyZ3MpCgogICAgIyBIYW5kbGUgc3RhcnQgY29tbWFuZCAtIHByb21wdCBmb3IgZW1haWwgaWYgbm90IGNvbmZpZ3VyZWQKICAgIGlmIGNvbW1hbmQgPT0gInN0YXJ0IjoKICAgICAgICBpZiBub3QgcmVtYWluaW5nX2FyZ3M6CiAgICAgICAgICAgIHJldHVybiBydW5fbGFiX2NvbW1hbmQoWyJzdGFydCJdKSAgIyBXaWxsIHNob3cgdXNhZ2UKCiAgICAgICAgc2x1ZyA9IHJlbWFpbmluZ19hcmdzWzBdCiAgICAgICAgZXh0cmFfYXJncyA9IHJlbWFpbmluZ19hcmdzWzE6XSBpZiBsZW4ocmVtYWluaW5nX2FyZ3MpID4gMSBlbHNlIFtdCiAgICAgICAgcmV0dXJuIHJ1bl9zdGFydF93aXRoX2VtYWlsX2NoZWNrKHNsdWcsIGV4dHJhX2FyZ3MpCgogICAgIyBIYW5kbGUgZmluaXNoIGNvbW1hbmQKICAgIGlmIGNvbW1hbmQgPT0gImZpbmlzaCI6CiAgICAgICAgaWYgbm90IHJlbWFpbmluZ19hcmdzOgogICAgICAgICAgICByZXR1cm4gcnVuX2xhYl9jb21tYW5kKFsiZmluaXNoIl0pCgogICAgICAgIHNsdWcgPSByZW1haW5pbmdfYXJnc1swXQogICAgICAgIGV4dHJhX2FyZ3MgPSByZW1haW5pbmdfYXJnc1sxOl0gaWYgbGVuKHJlbWFpbmluZ19hcmdzKSA+IDEgZWxzZSBbXQogICAgICAgIHJldHVybiBydW5fZmluaXNoX3dpdGhfeGFwaShzbHVnLCBleHRyYV9hcmdzKQoKICAgICMgQWxsIG90aGVyIGNvbW1hbmRzIC0gcGFzcyB0aHJvdWdoIHRvIG9yaWdpbmFsIGxhYgogICAgcmV0dXJuIHJ1bl9sYWJfY29tbWFuZChzeXMuYXJndlsxOl0pCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHN5cy5leGl0KG1haW4oKSkKTEFCX1dSQVBQRVJfUFlfRU9GCiAgICBjaG1vZCAreCAiJElOU1RBTExfRElSL2xhYl93cmFwcGVyLnB5IgoKICAgICMgQ3JlYXRlIGN1c3RvbV9sYWJzL19faW5pdF9fLnB5CiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL19faW5pdF9fLnB5IiA8PCAnQ1VTVE9NX0xBQlNfSU5JVF9FT0YnCiIiIgpDdXN0b20gTGFicyBNb2R1bGUKClByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNyZWF0aW5nIGFuZCBncmFkaW5nIGN1c3RvbSBsYWIgZGVmaW5pdGlvbnMuCiIiIgoKZnJvbSAuZ3JhZGVyIGltcG9ydCBDdXN0b21MYWJHcmFkZXIsIExhYlJlc3VsdCwgVGFza1Jlc3VsdCwgQ2hlY2tSZXN1bHQKCl9fYWxsX18gPSBbJ0N1c3RvbUxhYkdyYWRlcicsICdMYWJSZXN1bHQnLCAnVGFza1Jlc3VsdCcsICdDaGVja1Jlc3VsdCddCkNVU1RPTV9MQUJTX0lOSVRfRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZ3JhZGVyLnB5CiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2dyYWRlci5weSIgPDwgJ0NVU1RPTV9MQUJTX0dSQURFUl9FT0YnCiMhL3Vzci9iaW4vZW52IHB5dGhvbjMKIiIiCkN1c3RvbSBMYWIgR3JhZGVyCgpMb2FkcyBsYWIgZGVmaW5pdGlvbnMgZnJvbSBKU09OIGZpbGVzIGFuZCBleGVjdXRlcyBncmFkaW5nIGNoZWNrcy4KU3VwcG9ydHMgbXVsdGlwbGUgY2hlY2sgdHlwZXMgZm9yIGNvbXByZWhlbnNpdmUgbGFiIGFzc2Vzc21lbnQuCiIiIgoKaW1wb3J0IGpzb24KaW1wb3J0IG9zCmltcG9ydCByZQppbXBvcnQgc3VicHJvY2VzcwppbXBvcnQgc3lzCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcywgZmllbGQKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWV6b25lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgRGljdCwgTGlzdCwgT3B0aW9uYWwsIFR1cGxlLCBBbnkKCiMgQ29sb3JzIGZvciB0ZXJtaW5hbCBvdXRwdXQKY2xhc3MgQ29sb3JzOgogICAgUkVEID0gJ1wwMzNbMDszMW0nCiAgICBHUkVFTiA9ICdcMDMzWzA7MzJtJwogICAgWUVMTE9XID0gJ1wwMzNbMTszM20nCiAgICBCTFVFID0gJ1wwMzNbMDszNG0nCiAgICBDWUFOID0gJ1wwMzNbMDszNm0nCiAgICBCT0xEID0gJ1wwMzNbMW0nCiAgICBOQyA9ICdcMDMzWzBtJyAgIyBObyBDb2xvcgoKCkBkYXRhY2xhc3MKY2xhc3MgQ2hlY2tSZXN1bHQ6CiAgICAiIiJSZXN1bHQgb2YgYSBzaW5nbGUgY2hlY2siIiIKICAgIHBhc3NlZDogYm9vbAogICAgbWVzc2FnZTogc3RyID0gIiIKICAgIGRldGFpbHM6IHN0ciA9ICIiCgoKQGRhdGFjbGFzcwpjbGFzcyBUYXNrUmVzdWx0OgogICAgIiIiUmVzdWx0IG9mIGEgdGFzayAobWF5IGNvbnRhaW4gbXVsdGlwbGUgY2hlY2tzKSIiIgogICAgdGFza19pZDogc3RyCiAgICBuYW1lOiBzdHIKICAgIHBhc3NlZDogYm9vbAogICAgbWVzc2FnZXM6IExpc3Rbc3RyXSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1saXN0KQogICAgcG9pbnRzX2Vhcm5lZDogZmxvYXQgPSAwCiAgICBwb2ludHNfcG9zc2libGU6IGZsb2F0ID0gMQogICAgdGltZXN0YW1wOiBzdHIgPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9bGFtYmRhOiBkYXRldGltZS5ub3codGltZXpvbmUudXRjKS5pc29mb3JtYXQoKSkKCgpAZGF0YWNsYXNzCmNsYXNzIExhYlJlc3VsdDoKICAgICIiIk92ZXJhbGwgbGFiIGdyYWRpbmcgcmVzdWx0IiIiCiAgICBzbHVnOiBzdHIKICAgIG5hbWU6IHN0cgogICAgcGFzc2VkOiBib29sCiAgICB0YXNrczogTGlzdFtUYXNrUmVzdWx0XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1saXN0KQogICAgdG90YWxfcG9pbnRzOiBmbG9hdCA9IDAKICAgIG1heF9wb2ludHM6IGZsb2F0ID0gMAogICAgdGltZXN0YW1wOiBzdHIgPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9bGFtYmRhOiBkYXRldGltZS5ub3codGltZXpvbmUudXRjKS5pc29mb3JtYXQoKSkKCgpjbGFzcyBSZW1vdGVFeGVjdXRvcjoKICAgICIiIkV4ZWN1dGUgY29tbWFuZHMgb24gbG9jYWwgb3IgcmVtb3RlIGhvc3RzIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGRlZmF1bHRfc3NoX3VzZXI6IHN0ciA9ICJzdHVkZW50IiwKICAgICAgICAgICAgICAgICBkZWZhdWx0X3NzaF9rZXk6IHN0ciA9ICJ+Ly5zc2gvbGFiX3JzYSIpOgogICAgICAgIHNlbGYuZGVmYXVsdF9zc2hfdXNlciA9IGRlZmF1bHRfc3NoX3VzZXIKICAgICAgICBzZWxmLmRlZmF1bHRfc3NoX2tleSA9IG9zLnBhdGguZXhwYW5kdXNlcihkZWZhdWx0X3NzaF9rZXkpCiAgICAgICAgc2VsZi5ob3N0c19jb25maWc6IERpY3Rbc3RyLCBEaWN0XSA9IHt9CgogICAgZGVmIGNvbmZpZ3VyZV9ob3N0KHNlbGYsIG5hbWU6IHN0ciwgc3NoX3VzZXI6IHN0ciA9IE5vbmUsIHNzaF9rZXk6IHN0ciA9IE5vbmUpOgogICAgICAgICIiIkNvbmZpZ3VyZSBTU0ggc2V0dGluZ3MgZm9yIGEgc3BlY2lmaWMgaG9zdCIiIgogICAgICAgIHNlbGYuaG9zdHNfY29uZmlnW25hbWVdID0gewogICAgICAgICAgICAnc3NoX3VzZXInOiBzc2hfdXNlciBvciBzZWxmLmRlZmF1bHRfc3NoX3VzZXIsCiAgICAgICAgICAgICdzc2hfa2V5Jzogc3NoX2tleSBvciBzZWxmLmRlZmF1bHRfc3NoX2tleQogICAgICAgIH0KCiAgICBkZWYgZXhlY3V0ZShzZWxmLCBjb21tYW5kOiBzdHIsIGhvc3Q6IHN0ciA9ICJsb2NhbGhvc3QiLAogICAgICAgICAgICAgICAgdXNlcjogc3RyID0gTm9uZSwgdGltZW91dDogaW50ID0gMzApIC0+IFR1cGxlW2ludCwgc3RyLCBzdHJdOgogICAgICAgICIiIgogICAgICAgIEV4ZWN1dGUgYSBjb21tYW5kIGxvY2FsbHkgb3IgcmVtb3RlbHkuCiAgICAgICAgUmV0dXJucyAoZXhpdF9jb2RlLCBzdGRvdXQsIHN0ZGVycikKICAgICAgICAiIiIKICAgICAgICBpZiBob3N0ID09ICJsb2NhbGhvc3QiIG9yIGhvc3QgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2V4ZWN1dGVfbG9jYWwoY29tbWFuZCwgdXNlciwgdGltZW91dCkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gc2VsZi5fZXhlY3V0ZV9yZW1vdGUoY29tbWFuZCwgaG9zdCwgdXNlciwgdGltZW91dCkKCiAgICBkZWYgX2V4ZWN1dGVfbG9jYWwoc2VsZiwgY29tbWFuZDogc3RyLCB1c2VyOiBzdHIgPSBOb25lLAogICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGludCA9IDMwKSAtPiBUdXBsZVtpbnQsIHN0ciwgc3RyXToKICAgICAgICAiIiJFeGVjdXRlIGNvbW1hbmQgbG9jYWxseSIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgaWYgdXNlciBhbmQgdXNlciAhPSBvcy5nZXRlbnYoJ1VTRVInKToKICAgICAgICAgICAgICAgIGNvbW1hbmQgPSBmInN1ZG8gLXUge3VzZXJ9IGJhc2ggLWMgJ3tjb21tYW5kfSciCgogICAgICAgICAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bigKICAgICAgICAgICAgICAgIGNvbW1hbmQsCiAgICAgICAgICAgICAgICBzaGVsbD1UcnVlLAogICAgICAgICAgICAgICAgY2FwdHVyZV9vdXRwdXQ9VHJ1ZSwKICAgICAgICAgICAgICAgIHRleHQ9VHJ1ZSwKICAgICAgICAgICAgICAgIHRpbWVvdXQ9dGltZW91dAogICAgICAgICAgICApCiAgICAgICAgICAgIHJldHVybiByZXN1bHQucmV0dXJuY29kZSwgcmVzdWx0LnN0ZG91dCwgcmVzdWx0LnN0ZGVycgogICAgICAgIGV4Y2VwdCBzdWJwcm9jZXNzLlRpbWVvdXRFeHBpcmVkOgogICAgICAgICAgICByZXR1cm4gLTEsICIiLCAiQ29tbWFuZCB0aW1lZCBvdXQiCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICByZXR1cm4gLTEsICIiLCBzdHIoZSkKCiAgICBkZWYgX2V4ZWN1dGVfcmVtb3RlKHNlbGYsIGNvbW1hbmQ6IHN0ciwgaG9zdDogc3RyLAogICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBzdHIgPSBOb25lLCB0aW1lb3V0OiBpbnQgPSAzMCkgLT4gVHVwbGVbaW50LCBzdHIsIHN0cl06CiAgICAgICAgIiIiRXhlY3V0ZSBjb21tYW5kIG9uIHJlbW90ZSBob3N0IHZpYSBTU0giIiIKICAgICAgICBob3N0X2NvbmZpZyA9IHNlbGYuaG9zdHNfY29uZmlnLmdldChob3N0LCB7fSkKICAgICAgICBzc2hfdXNlciA9IHVzZXIgb3IgaG9zdF9jb25maWcuZ2V0KCdzc2hfdXNlcicsIHNlbGYuZGVmYXVsdF9zc2hfdXNlcikKICAgICAgICBzc2hfa2V5ID0gaG9zdF9jb25maWcuZ2V0KCdzc2hfa2V5Jywgc2VsZi5kZWZhdWx0X3NzaF9rZXkpCgogICAgICAgICMgQnVpbGQgU1NIIGNvbW1hbmQKICAgICAgICBzc2hfY21kID0gWwogICAgICAgICAgICAnc3NoJywKICAgICAgICAgICAgJy1vJywgJ1N0cmljdEhvc3RLZXlDaGVja2luZz1ubycsCiAgICAgICAgICAgICctbycsICdCYXRjaE1vZGU9eWVzJywKICAgICAgICAgICAgJy1vJywgZidDb25uZWN0VGltZW91dD17bWluKHRpbWVvdXQsIDEwKX0nLAogICAgICAgICAgICAnLWknLCBzc2hfa2V5LAogICAgICAgICAgICBmJ3tzc2hfdXNlcn1Ae2hvc3R9JywKICAgICAgICAgICAgY29tbWFuZAogICAgICAgIF0KCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bigKICAgICAgICAgICAgICAgIHNzaF9jbWQsCiAgICAgICAgICAgICAgICBjYXB0dXJlX291dHB1dD1UcnVlLAogICAgICAgICAgICAgICAgdGV4dD1UcnVlLAogICAgICAgICAgICAgICAgdGltZW91dD10aW1lb3V0CiAgICAgICAgICAgICkKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXR1cm5jb2RlLCByZXN1bHQuc3Rkb3V0LCByZXN1bHQuc3RkZXJyCiAgICAgICAgZXhjZXB0IHN1YnByb2Nlc3MuVGltZW91dEV4cGlyZWQ6CiAgICAgICAgICAgIHJldHVybiAtMSwgIiIsICJTU0ggY29tbWFuZCB0aW1lZCBvdXQiCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICByZXR1cm4gLTEsICIiLCBzdHIoZSkKCgpjbGFzcyBDaGVja0V4ZWN1dG9yOgogICAgIiIiRXhlY3V0ZSBpbmRpdmlkdWFsIGNoZWNrcyIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBleGVjdXRvcjogUmVtb3RlRXhlY3V0b3IsIHZhcmlhYmxlczogRGljdFtzdHIsIHN0cl0gPSBOb25lKToKICAgICAgICBzZWxmLmV4ZWN1dG9yID0gZXhlY3V0b3IKICAgICAgICBzZWxmLnZhcmlhYmxlcyA9IHZhcmlhYmxlcyBvciB7fQoKICAgIGRlZiBfc3Vic3RpdHV0ZV92YXJpYWJsZXMoc2VsZiwgdGV4dDogc3RyKSAtPiBzdHI6CiAgICAgICAgIiIiU3Vic3RpdHV0ZSAke1ZBUn0gcGF0dGVybnMgd2l0aCB2YXJpYWJsZSB2YWx1ZXMiIiIKICAgICAgICBpZiBub3QgdGV4dDoKICAgICAgICAgICAgcmV0dXJuIHRleHQKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBzZWxmLnZhcmlhYmxlcy5pdGVtcygpOgogICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKGYnJHt7e2tleX19fScsIHZhbHVlKQogICAgICAgIHJldHVybiB0ZXh0CgogICAgZGVmIGV4ZWN1dGVfY2hlY2soc2VsZiwgY2hlY2s6IERpY3QsIGhvc3Q6IHN0ciA9ICJsb2NhbGhvc3QiKSAtPiBDaGVja1Jlc3VsdDoKICAgICAgICAiIiJFeGVjdXRlIGEgc2luZ2xlIGNoZWNrIGFuZCByZXR1cm4gdGhlIHJlc3VsdCIiIgogICAgICAgIGNoZWNrX3R5cGUgPSBjaGVjay5nZXQoJ3R5cGUnKQogICAgICAgIGNoZWNrX2hvc3QgPSBjaGVjay5nZXQoJ2hvc3QnLCBob3N0KQoKICAgICAgICAjIFN1YnN0aXR1dGUgdmFyaWFibGVzIGluIGNoZWNrIHBhcmFtZXRlcnMKICAgICAgICBjaGVjayA9IHNlbGYuX3N1YnN0aXR1dGVfY2hlY2tfdmFyaWFibGVzKGNoZWNrKQoKICAgICAgICBtZXRob2RfbmFtZSA9IGYnX2NoZWNrX3tjaGVja190eXBlfScKICAgICAgICBtZXRob2QgPSBnZXRhdHRyKHNlbGYsIG1ldGhvZF9uYW1lLCBOb25lKQoKICAgICAgICBpZiBtZXRob2QgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIlVua25vd24gY2hlY2sgdHlwZToge2NoZWNrX3R5cGV9IikKCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXR1cm4gbWV0aG9kKGNoZWNrLCBjaGVja19ob3N0KQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIkNoZWNrIGZhaWxlZCB3aXRoIGVycm9yOiB7c3RyKGUpfSIpCgogICAgZGVmIF9zdWJzdGl0dXRlX2NoZWNrX3ZhcmlhYmxlcyhzZWxmLCBjaGVjazogRGljdCkgLT4gRGljdDoKICAgICAgICAiIiJTdWJzdGl0dXRlIHZhcmlhYmxlcyBpbiBhbGwgc3RyaW5nIHZhbHVlcyBvZiBhIGNoZWNrIiIiCiAgICAgICAgcmVzdWx0ID0ge30KICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBjaGVjay5pdGVtcygpOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKHZhbHVlLCBzdHIpOgogICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBzZWxmLl9zdWJzdGl0dXRlX3ZhcmlhYmxlcyh2YWx1ZSkKICAgICAgICAgICAgZWxpZiBpc2luc3RhbmNlKHZhbHVlLCBsaXN0KToKICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gW3NlbGYuX3N1YnN0aXR1dGVfdmFyaWFibGVzKHYpIGlmIGlzaW5zdGFuY2Uodiwgc3RyKSBlbHNlIHYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHYgaW4gdmFsdWVdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiBfY2hlY2tfY29tbWFuZChzZWxmLCBjaGVjazogRGljdCwgaG9zdDogc3RyKSAtPiBDaGVja1Jlc3VsdDoKICAgICAgICAiIiJDaGVjayBjb21tYW5kIGV4ZWN1dGlvbiByZXN1bHQiIiIKICAgICAgICBjb21tYW5kID0gY2hlY2suZ2V0KCdjb21tYW5kJykKICAgICAgICBleHBlY3RlZF9leGl0ID0gY2hlY2suZ2V0KCdleHBlY3RlZF9leGl0X2NvZGUnLCAwKQogICAgICAgIGV4cGVjdGVkX3N0ZG91dCA9IGNoZWNrLmdldCgnZXhwZWN0ZWRfc3Rkb3V0JykKICAgICAgICBleHBlY3RlZF9zdGRlcnIgPSBjaGVjay5nZXQoJ2V4cGVjdGVkX3N0ZGVycicpCiAgICAgICAgbm90X2V4cGVjdGVkX3N0ZG91dCA9IGNoZWNrLmdldCgnbm90X2V4cGVjdGVkX3N0ZG91dCcpCiAgICAgICAgdGltZW91dCA9IGNoZWNrLmdldCgndGltZW91dCcsIDMwKQogICAgICAgIHVzZXIgPSBjaGVjay5nZXQoJ3VzZXInKQoKICAgICAgICBleGl0X2NvZGUsIHN0ZG91dCwgc3RkZXJyID0gc2VsZi5leGVjdXRvci5leGVjdXRlKGNvbW1hbmQsIGhvc3QsIHVzZXIsIHRpbWVvdXQpCgogICAgICAgIGlmIGV4aXRfY29kZSAhPSBleHBlY3RlZF9leGl0OgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiRXhwZWN0ZWQgZXhpdCBjb2RlIHtleHBlY3RlZF9leGl0fSwgZ290IHtleGl0X2NvZGV9IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRlcnIgb3Igc3Rkb3V0KQoKICAgICAgICBpZiBleHBlY3RlZF9zdGRvdXQgYW5kIG5vdCByZS5zZWFyY2goZXhwZWN0ZWRfc3Rkb3V0LCBzdGRvdXQpOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiU3Rkb3V0IGRpZCBub3QgbWF0Y2ggcGF0dGVybjoge2V4cGVjdGVkX3N0ZG91dH0iKQoKICAgICAgICBpZiBleHBlY3RlZF9zdGRlcnIgYW5kIG5vdCByZS5zZWFyY2goZXhwZWN0ZWRfc3RkZXJyLCBzdGRlcnIpOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiU3RkZXJyIGRpZCBub3QgbWF0Y2ggcGF0dGVybjoge2V4cGVjdGVkX3N0ZGVycn0iKQoKICAgICAgICBpZiBub3RfZXhwZWN0ZWRfc3Rkb3V0IGFuZCByZS5zZWFyY2gobm90X2V4cGVjdGVkX3N0ZG91dCwgc3Rkb3V0KToKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIlN0ZG91dCBtYXRjaGVkIGZvcmJpZGRlbiBwYXR0ZXJuOiB7bm90X2V4cGVjdGVkX3N0ZG91dH0iKQoKICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoVHJ1ZSwgIkNvbW1hbmQgY2hlY2sgcGFzc2VkIikKCiAgICBkZWYgX2NoZWNrX2ZpbGVfZXhpc3RzKHNlbGYsIGNoZWNrOiBEaWN0LCBob3N0OiBzdHIpIC0+IENoZWNrUmVzdWx0OgogICAgICAgICIiIkNoZWNrIGlmIGZpbGUgZXhpc3RzIiIiCiAgICAgICAgcGF0aCA9IGNoZWNrLmdldCgncGF0aCcpCiAgICAgICAgdXNlciA9IGNoZWNrLmdldCgndXNlcicpCiAgICAgICAgZXhpdF9jb2RlLCBfLCBfID0gc2VsZi5leGVjdXRvci5leGVjdXRlKGYndGVzdCAtZiAie3BhdGh9IicsIGhvc3QsIHVzZXIpCiAgICAgICAgaWYgZXhpdF9jb2RlID09IDA6CiAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChUcnVlLCBmIkZpbGUgZXhpc3RzOiB7cGF0aH0iKQogICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJGaWxlIG5vdCBmb3VuZDoge3BhdGh9IikKCiAgICBkZWYgX2NoZWNrX2ZpbGVfYWJzZW50KHNlbGYsIGNoZWNrOiBEaWN0LCBob3N0OiBzdHIpIC0+IENoZWNrUmVzdWx0OgogICAgICAgICIiIkNoZWNrIGlmIGZpbGUgZG9lcyBub3QgZXhpc3QiIiIKICAgICAgICBwYXRoID0gY2hlY2suZ2V0KCdwYXRoJykKICAgICAgICB1c2VyID0gY2hlY2suZ2V0KCd1c2VyJykKICAgICAgICBleGl0X2NvZGUsIF8sIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoZid0ZXN0IC1mICJ7cGF0aH0iJywgaG9zdCwgdXNlcikKICAgICAgICBpZiBleGl0X2NvZGUgIT0gMDoKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KFRydWUsIGYiRmlsZSBjb3JyZWN0bHkgYWJzZW50OiB7cGF0aH0iKQogICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJGaWxlIHNob3VsZCBub3QgZXhpc3Q6IHtwYXRofSIpCgogICAgZGVmIF9jaGVja19maWxlX2NvbnRhaW5zKHNlbGYsIGNoZWNrOiBEaWN0LCBob3N0OiBzdHIpIC0+IENoZWNrUmVzdWx0OgogICAgICAgICIiIkNoZWNrIGlmIGZpbGUgY29udGFpbnMgcGF0dGVybiIiIgogICAgICAgIHBhdGggPSBjaGVjay5nZXQoJ3BhdGgnKQogICAgICAgIHBhdHRlcm4gPSBjaGVjay5nZXQoJ3BhdHRlcm4nKQogICAgICAgIGxpdGVyYWwgPSBjaGVjay5nZXQoJ2xpdGVyYWwnKQogICAgICAgIHVzZXIgPSBjaGVjay5nZXQoJ3VzZXInKQoKICAgICAgICBpZiBsaXRlcmFsOgogICAgICAgICAgICBjbWQgPSBmJ2dyZXAgLXFGICJ7bGl0ZXJhbH0iICJ7cGF0aH0iJwogICAgICAgIGVsaWYgcGF0dGVybjoKICAgICAgICAgICAgY21kID0gZidncmVwIC1xRSAie3BhdHRlcm59IiAie3BhdGh9IicKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsICJObyBwYXR0ZXJuIG9yIGxpdGVyYWwgc3BlY2lmaWVkIikKCiAgICAgICAgZXhpdF9jb2RlLCBfLCBfID0gc2VsZi5leGVjdXRvci5leGVjdXRlKGNtZCwgaG9zdCwgdXNlcikKICAgICAgICBpZiBleGl0X2NvZGUgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KFRydWUsIGYiUGF0dGVybiBmb3VuZCBpbiB7cGF0aH0iKQogICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJQYXR0ZXJuIG5vdCBmb3VuZCBpbiB7cGF0aH0iKQoKICAgIGRlZiBfY2hlY2tfZmlsZV9ub3RfY29udGFpbnMoc2VsZiwgY2hlY2s6IERpY3QsIGhvc3Q6IHN0cikgLT4gQ2hlY2tSZXN1bHQ6CiAgICAgICAgIiIiQ2hlY2sgaWYgZmlsZSBkb2VzIE5PVCBjb250YWluIHBhdHRlcm4iIiIKICAgICAgICBwYXRoID0gY2hlY2suZ2V0KCdwYXRoJykKICAgICAgICBwYXR0ZXJuID0gY2hlY2suZ2V0KCdwYXR0ZXJuJykKICAgICAgICBsaXRlcmFsID0gY2hlY2suZ2V0KCdsaXRlcmFsJykKICAgICAgICB1c2VyID0gY2hlY2suZ2V0KCd1c2VyJykKCiAgICAgICAgaWYgbGl0ZXJhbDoKICAgICAgICAgICAgY21kID0gZidncmVwIC1xRiAie2xpdGVyYWx9IiAie3BhdGh9IicKICAgICAgICBlbGlmIHBhdHRlcm46CiAgICAgICAgICAgIGNtZCA9IGYnZ3JlcCAtcUUgIntwYXR0ZXJufSIgIntwYXRofSInCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCAiTm8gcGF0dGVybiBvciBsaXRlcmFsIHNwZWNpZmllZCIpCgogICAgICAgIGV4aXRfY29kZSwgXywgXyA9IHNlbGYuZXhlY3V0b3IuZXhlY3V0ZShjbWQsIGhvc3QsIHVzZXIpCiAgICAgICAgaWYgZXhpdF9jb2RlICE9IDA6CiAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChUcnVlLCBmIlBhdHRlcm4gY29ycmVjdGx5IG5vdCBmb3VuZCBpbiB7cGF0aH0iKQogICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJQYXR0ZXJuIHNob3VsZCBub3QgYmUgaW4ge3BhdGh9IikKCiAgICBkZWYgX2NoZWNrX2ZpbGVfbW9kZShzZWxmLCBjaGVjazogRGljdCwgaG9zdDogc3RyKSAtPiBDaGVja1Jlc3VsdDoKICAgICAgICAiIiJDaGVjayBmaWxlIHBlcm1pc3Npb25zIiIiCiAgICAgICAgcGF0aCA9IGNoZWNrLmdldCgncGF0aCcpCiAgICAgICAgZXhwZWN0ZWRfbW9kZSA9IGNoZWNrLmdldCgnbW9kZScpCiAgICAgICAgdXNlciA9IGNoZWNrLmdldCgndXNlcicpCgogICAgICAgIGNtZCA9IGYnc3RhdCAtYyAiJWEiICJ7cGF0aH0iJwogICAgICAgIGV4aXRfY29kZSwgc3Rkb3V0LCBfID0gc2VsZi5leGVjdXRvci5leGVjdXRlKGNtZCwgaG9zdCwgdXNlcikKCiAgICAgICAgaWYgZXhpdF9jb2RlICE9IDA6CiAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJDYW5ub3Qgc3RhdCBmaWxlOiB7cGF0aH0iKQoKICAgICAgICBhY3R1YWxfbW9kZSA9IHN0ZG91dC5zdHJpcCgpCiAgICAgICAgIyBIYW5kbGUgYm90aCAzLWRpZ2l0IGFuZCA0LWRpZ2l0IG1vZGVzCiAgICAgICAgaWYgYWN0dWFsX21vZGUgPT0gZXhwZWN0ZWRfbW9kZSBvciBhY3R1YWxfbW9kZSA9PSBleHBlY3RlZF9tb2RlLmxzdHJpcCgnMCcpOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoVHJ1ZSwgZiJGaWxlIG1vZGUgY29ycmVjdDoge2FjdHVhbF9tb2RlfSIpCiAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIkV4cGVjdGVkIG1vZGUge2V4cGVjdGVkX21vZGV9LCBnb3Qge2FjdHVhbF9tb2RlfSIpCgogICAgZGVmIF9jaGVja19maWxlX293bmVyKHNlbGYsIGNoZWNrOiBEaWN0LCBob3N0OiBzdHIpIC0+IENoZWNrUmVzdWx0OgogICAgICAgICIiIkNoZWNrIGZpbGUgb3duZXIgYW5kIGdyb3VwIiIiCiAgICAgICAgcGF0aCA9IGNoZWNrLmdldCgncGF0aCcpCiAgICAgICAgZXhwZWN0ZWRfb3duZXIgPSBjaGVjay5nZXQoJ293bmVyJykKICAgICAgICBleHBlY3RlZF9ncm91cCA9IGNoZWNrLmdldCgnZ3JvdXAnKQogICAgICAgIHVzZXIgPSBjaGVjay5nZXQoJ3VzZXInKQoKICAgICAgICBjbWQgPSBmJ3N0YXQgLWMgIiVVOiVHIiAie3BhdGh9IicKICAgICAgICBleGl0X2NvZGUsIHN0ZG91dCwgXyA9IHNlbGYuZXhlY3V0b3IuZXhlY3V0ZShjbWQsIGhvc3QsIHVzZXIpCgogICAgICAgIGlmIGV4aXRfY29kZSAhPSAwOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiQ2Fubm90IHN0YXQgZmlsZToge3BhdGh9IikKCiAgICAgICAgYWN0dWFsX293bmVyLCBhY3R1YWxfZ3JvdXAgPSBzdGRvdXQuc3RyaXAoKS5zcGxpdCgnOicpCgogICAgICAgIGlmIGV4cGVjdGVkX293bmVyIGFuZCBhY3R1YWxfb3duZXIgIT0gZXhwZWN0ZWRfb3duZXI6CiAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJFeHBlY3RlZCBvd25lciB7ZXhwZWN0ZWRfb3duZXJ9LCBnb3Qge2FjdHVhbF9vd25lcn0iKQoKICAgICAgICBpZiBleHBlY3RlZF9ncm91cCBhbmQgYWN0dWFsX2dyb3VwICE9IGV4cGVjdGVkX2dyb3VwOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiRXhwZWN0ZWQgZ3JvdXAge2V4cGVjdGVkX2dyb3VwfSwgZ290IHthY3R1YWxfZ3JvdXB9IikKCiAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KFRydWUsIGYiT3duZXJzaGlwIGNvcnJlY3Q6IHthY3R1YWxfb3duZXJ9OnthY3R1YWxfZ3JvdXB9IikKCiAgICBkZWYgX2NoZWNrX2RpcmVjdG9yeV9leGlzdHMoc2VsZiwgY2hlY2s6IERpY3QsIGhvc3Q6IHN0cikgLT4gQ2hlY2tSZXN1bHQ6CiAgICAgICAgIiIiQ2hlY2sgaWYgZGlyZWN0b3J5IGV4aXN0cyIiIgogICAgICAgIHBhdGggPSBjaGVjay5nZXQoJ3BhdGgnKQogICAgICAgIHVzZXIgPSBjaGVjay5nZXQoJ3VzZXInKQogICAgICAgIGV4aXRfY29kZSwgXywgXyA9IHNlbGYuZXhlY3V0b3IuZXhlY3V0ZShmJ3Rlc3QgLWQgIntwYXRofSInLCBob3N0LCB1c2VyKQogICAgICAgIGlmIGV4aXRfY29kZSA9PSAwOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoVHJ1ZSwgZiJEaXJlY3RvcnkgZXhpc3RzOiB7cGF0aH0iKQogICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJEaXJlY3Rvcnkgbm90IGZvdW5kOiB7cGF0aH0iKQoKICAgIGRlZiBfY2hlY2tfc2VydmljZV9ydW5uaW5nKHNlbGYsIGNoZWNrOiBEaWN0LCBob3N0OiBzdHIpIC0+IENoZWNrUmVzdWx0OgogICAgICAgICIiIkNoZWNrIGlmIHNlcnZpY2UgaXMgcnVubmluZyIiIgogICAgICAgIHNlcnZpY2UgPSBjaGVjay5nZXQoJ3NlcnZpY2UnKQogICAgICAgIGNtZCA9IGYnc3lzdGVtY3RsIGlzLWFjdGl2ZSB7c2VydmljZX0nCiAgICAgICAgZXhpdF9jb2RlLCBzdGRvdXQsIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoY21kLCBob3N0KQoKICAgICAgICBpZiBleGl0X2NvZGUgPT0gMCBhbmQgc3Rkb3V0LnN0cmlwKCkgPT0gJ2FjdGl2ZSc6CiAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChUcnVlLCBmIlNlcnZpY2Uge3NlcnZpY2V9IGlzIHJ1bm5pbmciKQogICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJTZXJ2aWNlIHtzZXJ2aWNlfSBpcyBub3QgcnVubmluZyIpCgogICAgZGVmIF9jaGVja19zZXJ2aWNlX2VuYWJsZWQoc2VsZiwgY2hlY2s6IERpY3QsIGhvc3Q6IHN0cikgLT4gQ2hlY2tSZXN1bHQ6CiAgICAgICAgIiIiQ2hlY2sgaWYgc2VydmljZSBpcyBlbmFibGVkIiIiCiAgICAgICAgc2VydmljZSA9IGNoZWNrLmdldCgnc2VydmljZScpCiAgICAgICAgY21kID0gZidzeXN0ZW1jdGwgaXMtZW5hYmxlZCB7c2VydmljZX0nCiAgICAgICAgZXhpdF9jb2RlLCBzdGRvdXQsIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoY21kLCBob3N0KQoKICAgICAgICBpZiBleGl0X2NvZGUgPT0gMCBhbmQgc3Rkb3V0LnN0cmlwKCkgPT0gJ2VuYWJsZWQnOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoVHJ1ZSwgZiJTZXJ2aWNlIHtzZXJ2aWNlfSBpcyBlbmFibGVkIikKICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiU2VydmljZSB7c2VydmljZX0gaXMgbm90IGVuYWJsZWQiKQoKICAgIGRlZiBfY2hlY2tfc2VydmljZV9kaXNhYmxlZChzZWxmLCBjaGVjazogRGljdCwgaG9zdDogc3RyKSAtPiBDaGVja1Jlc3VsdDoKICAgICAgICAiIiJDaGVjayBpZiBzZXJ2aWNlIGlzIGRpc2FibGVkIiIiCiAgICAgICAgc2VydmljZSA9IGNoZWNrLmdldCgnc2VydmljZScpCiAgICAgICAgY21kID0gZidzeXN0ZW1jdGwgaXMtZW5hYmxlZCB7c2VydmljZX0nCiAgICAgICAgZXhpdF9jb2RlLCBzdGRvdXQsIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoY21kLCBob3N0KQoKICAgICAgICBpZiBzdGRvdXQuc3RyaXAoKSA9PSAnZGlzYWJsZWQnOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoVHJ1ZSwgZiJTZXJ2aWNlIHtzZXJ2aWNlfSBpcyBkaXNhYmxlZCIpCiAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIlNlcnZpY2Uge3NlcnZpY2V9IGlzIG5vdCBkaXNhYmxlZCIpCgogICAgZGVmIF9jaGVja19wYWNrYWdlX2luc3RhbGxlZChzZWxmLCBjaGVjazogRGljdCwgaG9zdDogc3RyKSAtPiBDaGVja1Jlc3VsdDoKICAgICAgICAiIiJDaGVjayBpZiBwYWNrYWdlIGlzIGluc3RhbGxlZCIiIgogICAgICAgIHBhY2thZ2UgPSBjaGVjay5nZXQoJ3BhY2thZ2UnKQogICAgICAgIGNtZCA9IGYncnBtIC1xIHtwYWNrYWdlfScKICAgICAgICBleGl0X2NvZGUsIF8sIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoY21kLCBob3N0KQoKICAgICAgICBpZiBleGl0X2NvZGUgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KFRydWUsIGYiUGFja2FnZSB7cGFja2FnZX0gaXMgaW5zdGFsbGVkIikKICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiUGFja2FnZSB7cGFja2FnZX0gaXMgbm90IGluc3RhbGxlZCIpCgogICAgZGVmIF9jaGVja19wYWNrYWdlX25vdF9pbnN0YWxsZWQoc2VsZiwgY2hlY2s6IERpY3QsIGhvc3Q6IHN0cikgLT4gQ2hlY2tSZXN1bHQ6CiAgICAgICAgIiIiQ2hlY2sgaWYgcGFja2FnZSBpcyBOT1QgaW5zdGFsbGVkIiIiCiAgICAgICAgcGFja2FnZSA9IGNoZWNrLmdldCgncGFja2FnZScpCiAgICAgICAgY21kID0gZidycG0gLXEge3BhY2thZ2V9JwogICAgICAgIGV4aXRfY29kZSwgXywgXyA9IHNlbGYuZXhlY3V0b3IuZXhlY3V0ZShjbWQsIGhvc3QpCgogICAgICAgIGlmIGV4aXRfY29kZSAhPSAwOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoVHJ1ZSwgZiJQYWNrYWdlIHtwYWNrYWdlfSBpcyBjb3JyZWN0bHkgbm90IGluc3RhbGxlZCIpCiAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIlBhY2thZ2Uge3BhY2thZ2V9IHNob3VsZCBub3QgYmUgaW5zdGFsbGVkIikKCiAgICBkZWYgX2NoZWNrX3VzZXJfZXhpc3RzKHNlbGYsIGNoZWNrOiBEaWN0LCBob3N0OiBzdHIpIC0+IENoZWNrUmVzdWx0OgogICAgICAgICIiIkNoZWNrIGlmIHVzZXIgZXhpc3RzIHdpdGggb3B0aW9uYWwgYXR0cmlidXRlcyIiIgogICAgICAgIHVzZXJuYW1lID0gY2hlY2suZ2V0KCd1c2VybmFtZScpCiAgICAgICAgZXhwZWN0ZWRfdWlkID0gY2hlY2suZ2V0KCd1aWQnKQogICAgICAgIGV4cGVjdGVkX3NoZWxsID0gY2hlY2suZ2V0KCdzaGVsbCcpCiAgICAgICAgZXhwZWN0ZWRfaG9tZSA9IGNoZWNrLmdldCgnaG9tZScpCgogICAgICAgIGNtZCA9IGYnaWQge3VzZXJuYW1lfScKICAgICAgICBleGl0X2NvZGUsIF8sIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoY21kLCBob3N0KQoKICAgICAgICBpZiBleGl0X2NvZGUgIT0gMDoKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIlVzZXIge3VzZXJuYW1lfSBkb2VzIG5vdCBleGlzdCIpCgogICAgICAgICMgQ2hlY2sgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIGlmIHNwZWNpZmllZAogICAgICAgIGlmIGV4cGVjdGVkX3VpZCBpcyBub3QgTm9uZToKICAgICAgICAgICAgY21kID0gZidpZCAtdSB7dXNlcm5hbWV9JwogICAgICAgICAgICBfLCBzdGRvdXQsIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoY21kLCBob3N0KQogICAgICAgICAgICBpZiBpbnQoc3Rkb3V0LnN0cmlwKCkpICE9IGV4cGVjdGVkX3VpZDoKICAgICAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJVc2VyIHt1c2VybmFtZX0gaGFzIHdyb25nIFVJRCIpCgogICAgICAgIGlmIGV4cGVjdGVkX3NoZWxsOgogICAgICAgICAgICBjbWQgPSBmJ2dldGVudCBwYXNzd2Qge3VzZXJuYW1lfSB8IGN1dCAtZDogLWY3JwogICAgICAgICAgICBfLCBzdGRvdXQsIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoY21kLCBob3N0KQogICAgICAgICAgICBpZiBzdGRvdXQuc3RyaXAoKSAhPSBleHBlY3RlZF9zaGVsbDoKICAgICAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJVc2VyIHt1c2VybmFtZX0gaGFzIHdyb25nIHNoZWxsIikKCiAgICAgICAgaWYgZXhwZWN0ZWRfaG9tZToKICAgICAgICAgICAgY21kID0gZidnZXRlbnQgcGFzc3dkIHt1c2VybmFtZX0gfCBjdXQgLWQ6IC1mNicKICAgICAgICAgICAgXywgc3Rkb3V0LCBfID0gc2VsZi5leGVjdXRvci5leGVjdXRlKGNtZCwgaG9zdCkKICAgICAgICAgICAgaWYgc3Rkb3V0LnN0cmlwKCkgIT0gZXhwZWN0ZWRfaG9tZToKICAgICAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJVc2VyIHt1c2VybmFtZX0gaGFzIHdyb25nIGhvbWUgZGlyZWN0b3J5IikKCiAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KFRydWUsIGYiVXNlciB7dXNlcm5hbWV9IGV4aXN0cyB3aXRoIGNvcnJlY3QgYXR0cmlidXRlcyIpCgogICAgZGVmIF9jaGVja191c2VyX2luX2dyb3VwKHNlbGYsIGNoZWNrOiBEaWN0LCBob3N0OiBzdHIpIC0+IENoZWNrUmVzdWx0OgogICAgICAgICIiIkNoZWNrIGlmIHVzZXIgaXMgaW4gYSBncm91cCIiIgogICAgICAgIHVzZXJuYW1lID0gY2hlY2suZ2V0KCd1c2VybmFtZScpCiAgICAgICAgZ3JvdXAgPSBjaGVjay5nZXQoJ2dyb3VwJykKCiAgICAgICAgY21kID0gZidpZCAtbkcge3VzZXJuYW1lfScKICAgICAgICBleGl0X2NvZGUsIHN0ZG91dCwgXyA9IHNlbGYuZXhlY3V0b3IuZXhlY3V0ZShjbWQsIGhvc3QpCgogICAgICAgIGlmIGV4aXRfY29kZSAhPSAwOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiVXNlciB7dXNlcm5hbWV9IGRvZXMgbm90IGV4aXN0IikKCiAgICAgICAgZ3JvdXBzID0gc3Rkb3V0LnN0cmlwKCkuc3BsaXQoKQogICAgICAgIGlmIGdyb3VwIGluIGdyb3VwczoKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KFRydWUsIGYiVXNlciB7dXNlcm5hbWV9IGlzIGluIGdyb3VwIHtncm91cH0iKQogICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJVc2VyIHt1c2VybmFtZX0gaXMgbm90IGluIGdyb3VwIHtncm91cH0iKQoKICAgIGRlZiBfY2hlY2tfZ3JvdXBfZXhpc3RzKHNlbGYsIGNoZWNrOiBEaWN0LCBob3N0OiBzdHIpIC0+IENoZWNrUmVzdWx0OgogICAgICAgICIiIkNoZWNrIGlmIGdyb3VwIGV4aXN0cyIiIgogICAgICAgIGdyb3VwID0gY2hlY2suZ2V0KCdncm91cCcpCiAgICAgICAgZXhwZWN0ZWRfZ2lkID0gY2hlY2suZ2V0KCdnaWQnKQoKICAgICAgICBjbWQgPSBmJ2dldGVudCBncm91cCB7Z3JvdXB9JwogICAgICAgIGV4aXRfY29kZSwgc3Rkb3V0LCBfID0gc2VsZi5leGVjdXRvci5leGVjdXRlKGNtZCwgaG9zdCkKCiAgICAgICAgaWYgZXhpdF9jb2RlICE9IDA6CiAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJHcm91cCB7Z3JvdXB9IGRvZXMgbm90IGV4aXN0IikKCiAgICAgICAgaWYgZXhwZWN0ZWRfZ2lkIGlzIG5vdCBOb25lOgogICAgICAgICAgICBhY3R1YWxfZ2lkID0gaW50KHN0ZG91dC5zcGxpdCgnOicpWzJdKQogICAgICAgICAgICBpZiBhY3R1YWxfZ2lkICE9IGV4cGVjdGVkX2dpZDoKICAgICAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJHcm91cCB7Z3JvdXB9IGhhcyB3cm9uZyBHSUQiKQoKICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoVHJ1ZSwgZiJHcm91cCB7Z3JvdXB9IGV4aXN0cyIpCgogICAgZGVmIF9jaGVja19wb3J0X2xpc3RlbmluZyhzZWxmLCBjaGVjazogRGljdCwgaG9zdDogc3RyKSAtPiBDaGVja1Jlc3VsdDoKICAgICAgICAiIiJDaGVjayBpZiBwb3J0IGlzIGxpc3RlbmluZyIiIgogICAgICAgIHBvcnQgPSBjaGVjay5nZXQoJ3BvcnQnKQogICAgICAgIHByb3RvY29sID0gY2hlY2suZ2V0KCdwcm90b2NvbCcsICd0Y3AnKQoKICAgICAgICBjbWQgPSBmJ3NzIC1sbiB8IGdyZXAgLUUgIjp7cG9ydH1cXHMiJwogICAgICAgIGlmIHByb3RvY29sID09ICd0Y3AnOgogICAgICAgICAgICBjbWQgPSBmJ3NzIC10bG4gfCBncmVwIC1FICI6e3BvcnR9XFxzIicKICAgICAgICBlbGlmIHByb3RvY29sID09ICd1ZHAnOgogICAgICAgICAgICBjbWQgPSBmJ3NzIC11bG4gfCBncmVwIC1FICI6e3BvcnR9XFxzIicKCiAgICAgICAgZXhpdF9jb2RlLCBfLCBfID0gc2VsZi5leGVjdXRvci5leGVjdXRlKGNtZCwgaG9zdCkKCiAgICAgICAgaWYgZXhpdF9jb2RlID09IDA6CiAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChUcnVlLCBmIlBvcnQge3BvcnR9L3twcm90b2NvbH0gaXMgbGlzdGVuaW5nIikKICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiUG9ydCB7cG9ydH0ve3Byb3RvY29sfSBpcyBub3QgbGlzdGVuaW5nIikKCiAgICBkZWYgX2NoZWNrX21vdW50X2V4aXN0cyhzZWxmLCBjaGVjazogRGljdCwgaG9zdDogc3RyKSAtPiBDaGVja1Jlc3VsdDoKICAgICAgICAiIiJDaGVjayBpZiBtb3VudCBwb2ludCBleGlzdHMiIiIKICAgICAgICBtb3VudHBvaW50ID0gY2hlY2suZ2V0KCdtb3VudHBvaW50JykKICAgICAgICBleHBlY3RlZF9zb3VyY2UgPSBjaGVjay5nZXQoJ3NvdXJjZScpCiAgICAgICAgZXhwZWN0ZWRfZnN0eXBlID0gY2hlY2suZ2V0KCdmc3R5cGUnKQoKICAgICAgICBjbWQgPSBmJ2ZpbmRtbnQgLW4gLW8gU09VUkNFLEZTVFlQRSAie21vdW50cG9pbnR9IicKICAgICAgICBleGl0X2NvZGUsIHN0ZG91dCwgXyA9IHNlbGYuZXhlY3V0b3IuZXhlY3V0ZShjbWQsIGhvc3QpCgogICAgICAgIGlmIGV4aXRfY29kZSAhPSAwOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiTW91bnQgcG9pbnQge21vdW50cG9pbnR9IG5vdCBmb3VuZCIpCgogICAgICAgIHBhcnRzID0gc3Rkb3V0LnN0cmlwKCkuc3BsaXQoKQogICAgICAgIGlmIGxlbihwYXJ0cykgPj0gMjoKICAgICAgICAgICAgYWN0dWFsX3NvdXJjZSwgYWN0dWFsX2ZzdHlwZSA9IHBhcnRzWzBdLCBwYXJ0c1sxXQoKICAgICAgICAgICAgaWYgZXhwZWN0ZWRfc291cmNlIGFuZCBhY3R1YWxfc291cmNlICE9IGV4cGVjdGVkX3NvdXJjZToKICAgICAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChGYWxzZSwgZiJNb3VudCBzb3VyY2UgbWlzbWF0Y2g6IGV4cGVjdGVkIHtleHBlY3RlZF9zb3VyY2V9IikKCiAgICAgICAgICAgIGlmIGV4cGVjdGVkX2ZzdHlwZSBhbmQgYWN0dWFsX2ZzdHlwZSAhPSBleHBlY3RlZF9mc3R5cGU6CiAgICAgICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsIGYiTW91bnQgZnN0eXBlIG1pc21hdGNoOiBleHBlY3RlZCB7ZXhwZWN0ZWRfZnN0eXBlfSIpCgogICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChUcnVlLCBmIk1vdW50IHBvaW50IHttb3VudHBvaW50fSBleGlzdHMiKQoKICAgIGRlZiBfY2hlY2tfc2VsaW51eF9jb250ZXh0KHNlbGYsIGNoZWNrOiBEaWN0LCBob3N0OiBzdHIpIC0+IENoZWNrUmVzdWx0OgogICAgICAgICIiIkNoZWNrIFNFTGludXggY29udGV4dCIiIgogICAgICAgIHBhdGggPSBjaGVjay5nZXQoJ3BhdGgnKQogICAgICAgIGV4cGVjdGVkX2NvbnRleHQgPSBjaGVjay5nZXQoJ2NvbnRleHQnKQoKICAgICAgICBjbWQgPSBmJ2xzIC1aICJ7cGF0aH0iIHwgYXdrIFwne3twcmludCAkMX19XCcnCiAgICAgICAgZXhpdF9jb2RlLCBzdGRvdXQsIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoY21kLCBob3N0KQoKICAgICAgICBpZiBleGl0X2NvZGUgIT0gMDoKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIkNhbm5vdCBnZXQgU0VMaW51eCBjb250ZXh0IGZvciB7cGF0aH0iKQoKICAgICAgICBhY3R1YWxfY29udGV4dCA9IHN0ZG91dC5zdHJpcCgpCiAgICAgICAgaWYgZXhwZWN0ZWRfY29udGV4dCBpbiBhY3R1YWxfY29udGV4dDoKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KFRydWUsIGYiU0VMaW51eCBjb250ZXh0IGNvcnJlY3QgZm9yIHtwYXRofSIpCiAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIlNFTGludXggY29udGV4dCBtaXNtYXRjaDogZXhwZWN0ZWQge2V4cGVjdGVkX2NvbnRleHR9IikKCiAgICBkZWYgX2NoZWNrX2ZpcmV3YWxsX3BvcnQoc2VsZiwgY2hlY2s6IERpY3QsIGhvc3Q6IHN0cikgLT4gQ2hlY2tSZXN1bHQ6CiAgICAgICAgIiIiQ2hlY2sgZmlyZXdhbGwgcG9ydCIiIgogICAgICAgIHBvcnQgPSBjaGVjay5nZXQoJ3BvcnQnKQogICAgICAgIHpvbmUgPSBjaGVjay5nZXQoJ3pvbmUnLCAncHVibGljJykKICAgICAgICBwZXJtYW5lbnQgPSBjaGVjay5nZXQoJ3Blcm1hbmVudCcsIFRydWUpCgogICAgICAgIHBlcm1fZmxhZyA9ICctLXBlcm1hbmVudCcgaWYgcGVybWFuZW50IGVsc2UgJycKICAgICAgICBjbWQgPSBmJ2ZpcmV3YWxsLWNtZCB7cGVybV9mbGFnfSAtLXpvbmU9e3pvbmV9IC0tbGlzdC1wb3J0cycKICAgICAgICBleGl0X2NvZGUsIHN0ZG91dCwgXyA9IHNlbGYuZXhlY3V0b3IuZXhlY3V0ZShjbWQsIGhvc3QpCgogICAgICAgIGlmIGV4aXRfY29kZSAhPSAwOgogICAgICAgICAgICByZXR1cm4gQ2hlY2tSZXN1bHQoRmFsc2UsICJDYW5ub3QgcXVlcnkgZmlyZXdhbGwiKQoKICAgICAgICBpZiBwb3J0IGluIHN0ZG91dDoKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KFRydWUsIGYiUG9ydCB7cG9ydH0gaXMgb3BlbiBpbiBmaXJld2FsbCIpCiAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIlBvcnQge3BvcnR9IGlzIG5vdCBvcGVuIGluIGZpcmV3YWxsIikKCiAgICBkZWYgX2NoZWNrX2Nyb25fam9iX2V4aXN0cyhzZWxmLCBjaGVjazogRGljdCwgaG9zdDogc3RyKSAtPiBDaGVja1Jlc3VsdDoKICAgICAgICAiIiJDaGVjayBpZiBjcm9uIGpvYiBleGlzdHMiIiIKICAgICAgICB1c2VyID0gY2hlY2suZ2V0KCd1c2VyJywgJ3Jvb3QnKQogICAgICAgIHBhdHRlcm4gPSBjaGVjay5nZXQoJ3BhdHRlcm4nKQoKICAgICAgICBjbWQgPSBmJ2Nyb250YWIgLXUge3VzZXJ9IC1sIDI+L2Rldi9udWxsIHwgZ3JlcCAtRSAie3BhdHRlcm59IicKICAgICAgICBleGl0X2NvZGUsIF8sIF8gPSBzZWxmLmV4ZWN1dG9yLmV4ZWN1dGUoY21kLCBob3N0KQoKICAgICAgICBpZiBleGl0X2NvZGUgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KFRydWUsIGYiQ3JvbiBqb2IgZm91bmQgZm9yIHt1c2VyfSIpCiAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBmIkNyb24gam9iIG5vdCBmb3VuZCBmb3Ige3VzZXJ9IikKCiAgICBkZWYgX2NoZWNrX3NjcmlwdChzZWxmLCBjaGVjazogRGljdCwgaG9zdDogc3RyKSAtPiBDaGVja1Jlc3VsdDoKICAgICAgICAiIiJSdW4gY3VzdG9tIHNjcmlwdCIiIgogICAgICAgIHNjcmlwdCA9IGNoZWNrLmdldCgnc2NyaXB0JykKICAgICAgICBpbnRlcnByZXRlciA9IGNoZWNrLmdldCgnaW50ZXJwcmV0ZXInLCAnL2Jpbi9iYXNoJykKICAgICAgICBhcmdzID0gY2hlY2suZ2V0KCdhcmdzJywgW10pCiAgICAgICAgdGltZW91dCA9IGNoZWNrLmdldCgndGltZW91dCcsIDMwKQogICAgICAgIHVzZXIgPSBjaGVjay5nZXQoJ3VzZXInKQoKICAgICAgICAjIENoZWNrIGlmIHNjcmlwdCBpcyBhIGZpbGUgcGF0aCBvciBpbmxpbmUgY29udGVudAogICAgICAgIGlmIG9zLnBhdGguaXNmaWxlKHNjcmlwdCk6CiAgICAgICAgICAgIHdpdGggb3BlbihzY3JpcHQpIGFzIGY6CiAgICAgICAgICAgICAgICBzY3JpcHRfY29udGVudCA9IGYucmVhZCgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2NyaXB0X2NvbnRlbnQgPSBzY3JpcHQKCiAgICAgICAgIyBDcmVhdGUgYSB0ZW1wb3JhcnkgZXhlY3V0aW9uIGNvbW1hbmQKICAgICAgICBhcmdzX3N0ciA9ICcgJy5qb2luKGYnInthcmd9IicgZm9yIGFyZyBpbiBhcmdzKQogICAgICAgIGNtZCA9IGYne2ludGVycHJldGVyfSAtYyBcJ3tzY3JpcHRfY29udGVudH1cJyB7YXJnc19zdHJ9JwoKICAgICAgICBleGl0X2NvZGUsIHN0ZG91dCwgc3RkZXJyID0gc2VsZi5leGVjdXRvci5leGVjdXRlKGNtZCwgaG9zdCwgdXNlciwgdGltZW91dCkKCiAgICAgICAgaWYgZXhpdF9jb2RlID09IDA6CiAgICAgICAgICAgIHJldHVybiBDaGVja1Jlc3VsdChUcnVlLCBzdGRvdXQuc3RyaXAoKSBvciAiU2NyaXB0IHBhc3NlZCIpCiAgICAgICAgcmV0dXJuIENoZWNrUmVzdWx0KEZhbHNlLCBzdGRlcnIuc3RyaXAoKSBvciBzdGRvdXQuc3RyaXAoKSBvciAiU2NyaXB0IGZhaWxlZCIpCgoKY2xhc3MgQ3VzdG9tTGFiR3JhZGVyOgogICAgIiIiTWFpbiBncmFkZXIgY2xhc3MgZm9yIGN1c3RvbSBsYWJzIiIiCgogICAgTEFCU19ESVIgPSBQYXRoLmhvbWUoKSAvICIuY29uZmlnIiAvICJsYWIteGFwaSIgLyAiY3VzdG9tLWxhYnMiCiAgICBCVUlMVElOX0xBQlNfRElSID0gUGF0aChfX2ZpbGVfXykucGFyZW50IC8gImV4YW1wbGVzIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmV4ZWN1dG9yID0gUmVtb3RlRXhlY3V0b3IoKQogICAgICAgIHNlbGYudmFyaWFibGVzOiBEaWN0W3N0ciwgc3RyXSA9IHt9CgogICAgZGVmIGZpbmRfbGFiKHNlbGYsIHNsdWc6IHN0cikgLT4gT3B0aW9uYWxbUGF0aF06CiAgICAgICAgIiIiRmluZCBhIGxhYiBkZWZpbml0aW9uIGZpbGUgYnkgc2x1ZyIiIgogICAgICAgICMgU2VhcmNoIGluIHVzZXIncyBjdXN0b20gbGFicyBkaXJlY3RvcnkKICAgICAgICB1c2VyX2xhYiA9IHNlbGYuTEFCU19ESVIgLyBmIntzbHVnfS5qc29uIgogICAgICAgIGlmIHVzZXJfbGFiLmV4aXN0cygpOgogICAgICAgICAgICByZXR1cm4gdXNlcl9sYWIKCiAgICAgICAgIyBTZWFyY2ggaW4gYnVpbHQtaW4gZXhhbXBsZXMKICAgICAgICBidWlsdGluX2xhYiA9IHNlbGYuQlVJTFRJTl9MQUJTX0RJUiAvIGYie3NsdWd9Lmpzb24iCiAgICAgICAgaWYgYnVpbHRpbl9sYWIuZXhpc3RzKCk6CiAgICAgICAgICAgIHJldHVybiBidWlsdGluX2xhYgoKICAgICAgICAjIFNlYXJjaCBhbGwgSlNPTiBmaWxlcyBpbiBib3RoIGRpcmVjdG9yaWVzIGZvciBtYXRjaGluZyBzbHVnCiAgICAgICAgZm9yIHNlYXJjaF9kaXIgaW4gW3NlbGYuTEFCU19ESVIsIHNlbGYuQlVJTFRJTl9MQUJTX0RJUl06CiAgICAgICAgICAgIGlmIHNlYXJjaF9kaXIuZXhpc3RzKCk6CiAgICAgICAgICAgICAgICBmb3IgbGFiX2ZpbGUgaW4gc2VhcmNoX2Rpci5nbG9iKCIqLmpzb24iKToKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbihsYWJfZmlsZSkgYXMgZjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYl9kZWYgPSBqc29uLmxvYWQoZikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxhYl9kZWYuZ2V0KCdtZXRhZGF0YScsIHt9KS5nZXQoJ3NsdWcnKSA9PSBzbHVnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsYWJfZmlsZQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCAoanNvbi5KU09ORGVjb2RlRXJyb3IsIEtleUVycm9yKToKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgbGlzdF9sYWJzKHNlbGYpIC0+IExpc3RbRGljdF06CiAgICAgICAgIiIiTGlzdCBhbGwgYXZhaWxhYmxlIGN1c3RvbSBsYWJzIiIiCiAgICAgICAgbGFicyA9IFtdCgogICAgICAgIGZvciBzZWFyY2hfZGlyIGluIFtzZWxmLkxBQlNfRElSLCBzZWxmLkJVSUxUSU5fTEFCU19ESVJdOgogICAgICAgICAgICBpZiBub3Qgc2VhcmNoX2Rpci5leGlzdHMoKToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICBmb3IgbGFiX2ZpbGUgaW4gc2VhcmNoX2Rpci5nbG9iKCIqLmpzb24iKToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4obGFiX2ZpbGUpIGFzIGY6CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYl9kZWYgPSBqc29uLmxvYWQoZikKICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBsYWJfZGVmLmdldCgnbWV0YWRhdGEnLCB7fSkKICAgICAgICAgICAgICAgICAgICAgICAgbGFicy5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NsdWcnOiBtZXRhZGF0YS5nZXQoJ3NsdWcnLCBsYWJfZmlsZS5zdGVtKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogbWV0YWRhdGEuZ2V0KCduYW1lJywgJ1Vua25vd24nKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IG1ldGFkYXRhLmdldCgnZGVzY3JpcHRpb24nLCAnJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY291cnNlJzogbWV0YWRhdGEuZ2V0KCdjb3Vyc2UnLCAnJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGF0aCc6IHN0cihsYWJfZmlsZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnVpbHRpbic6IHNlYXJjaF9kaXIgPT0gc2VsZi5CVUlMVElOX0xBQlNfRElSCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBleGNlcHQgKGpzb24uSlNPTkRlY29kZUVycm9yLCBLZXlFcnJvcik6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgcmV0dXJuIGxhYnMKCiAgICBkZWYgbG9hZF9sYWIoc2VsZiwgbGFiX2ZpbGU6IFBhdGgpIC0+IERpY3Q6CiAgICAgICAgIiIiTG9hZCBhbmQgdmFsaWRhdGUgYSBsYWIgZGVmaW5pdGlvbiIiIgogICAgICAgIHdpdGggb3BlbihsYWJfZmlsZSkgYXMgZjoKICAgICAgICAgICAgbGFiX2RlZiA9IGpzb24ubG9hZChmKQoKICAgICAgICAjIEJhc2ljIHZhbGlkYXRpb24KICAgICAgICByZXF1aXJlZF9maWVsZHMgPSBbJ3ZlcnNpb24nLCAnbWV0YWRhdGEnLCAndGFza3MnXQogICAgICAgIGZvciBmaWVsZCBpbiByZXF1aXJlZF9maWVsZHM6CiAgICAgICAgICAgIGlmIGZpZWxkIG5vdCBpbiBsYWJfZGVmOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIk1pc3NpbmcgcmVxdWlyZWQgZmllbGQ6IHtmaWVsZH0iKQoKICAgICAgICByZXR1cm4gbGFiX2RlZgoKICAgIGRlZiBncmFkZV9sYWIoc2VsZiwgc2x1Zzogc3RyLCB2ZXJib3NlOiBib29sID0gVHJ1ZSkgLT4gTGFiUmVzdWx0OgogICAgICAgICIiIkdyYWRlIGEgY3VzdG9tIGxhYiIiIgogICAgICAgICMgRmluZCB0aGUgbGFiCiAgICAgICAgbGFiX2ZpbGUgPSBzZWxmLmZpbmRfbGFiKHNsdWcpCiAgICAgICAgaWYgbm90IGxhYl9maWxlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKcl3tDb2xvcnMuTkN9IExhYiBub3QgZm91bmQ6IHtzbHVnfSIpCiAgICAgICAgICAgIHJldHVybiBMYWJSZXN1bHQoc2x1Zz1zbHVnLCBuYW1lPSJVbmtub3duIiwgcGFzc2VkPUZhbHNlKQoKICAgICAgICAjIExvYWQgbGFiIGRlZmluaXRpb24KICAgICAgICB0cnk6CiAgICAgICAgICAgIGxhYl9kZWYgPSBzZWxmLmxvYWRfbGFiKGxhYl9maWxlKQogICAgICAgIGV4Y2VwdCAoanNvbi5KU09ORGVjb2RlRXJyb3IsIFZhbHVlRXJyb3IpIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94pyXe0NvbG9ycy5OQ30gRXJyb3IgbG9hZGluZyBsYWI6IHtlfSIpCiAgICAgICAgICAgIHJldHVybiBMYWJSZXN1bHQoc2x1Zz1zbHVnLCBuYW1lPSJVbmtub3duIiwgcGFzc2VkPUZhbHNlKQoKICAgICAgICBtZXRhZGF0YSA9IGxhYl9kZWYuZ2V0KCdtZXRhZGF0YScsIHt9KQogICAgICAgIGxhYl9uYW1lID0gbWV0YWRhdGEuZ2V0KCduYW1lJywgc2x1ZykKCiAgICAgICAgaWYgdmVyYm9zZToKICAgICAgICAgICAgcHJpbnQoZiJcbntDb2xvcnMuQk9MRH1HcmFkaW5nIGxhYjoge2xhYl9uYW1lfXtDb2xvcnMuTkN9XG4iKQoKICAgICAgICAjIENvbmZpZ3VyZSBlbnZpcm9ubWVudAogICAgICAgIHNlbGYuX2NvbmZpZ3VyZV9lbnZpcm9ubWVudChsYWJfZGVmLmdldCgnZW52aXJvbm1lbnQnLCB7fSkpCgogICAgICAgICMgSW5pdGlhbGl6ZSBjaGVjayBleGVjdXRvcgogICAgICAgIGNoZWNrX2V4ZWN1dG9yID0gQ2hlY2tFeGVjdXRvcihzZWxmLmV4ZWN1dG9yLCBzZWxmLnZhcmlhYmxlcykKCiAgICAgICAgIyBSdW4gc2V0dXAgaWYgZW5hYmxlZAogICAgICAgIHNldHVwID0gbGFiX2RlZi5nZXQoJ3NldHVwJywge30pCiAgICAgICAgaWYgc2V0dXAuZ2V0KCdlbmFibGVkJyk6CiAgICAgICAgICAgIHNlbGYuX3J1bl9waGFzZV9jb21tYW5kcyhzZXR1cC5nZXQoJ2NvbW1hbmRzJywgW10pLCAiU2V0dXAiLCB2ZXJib3NlKQoKICAgICAgICAjIEdyYWRlIHRhc2tzCiAgICAgICAgdGFza3MgPSBsYWJfZGVmLmdldCgndGFza3MnLCBbXSkKICAgICAgICB0YXNrX3Jlc3VsdHMgPSBbXQogICAgICAgIGFsbF9wYXNzZWQgPSBUcnVlCiAgICAgICAgdG90YWxfcG9pbnRzID0gMAogICAgICAgIG1heF9wb2ludHMgPSAwCgogICAgICAgIGZvciB0YXNrIGluIHRhc2tzOgogICAgICAgICAgICByZXN1bHQgPSBzZWxmLl9ncmFkZV90YXNrKHRhc2ssIGNoZWNrX2V4ZWN1dG9yLCB2ZXJib3NlKQogICAgICAgICAgICB0YXNrX3Jlc3VsdHMuYXBwZW5kKHJlc3VsdCkKCiAgICAgICAgICAgIHRvdGFsX3BvaW50cyArPSByZXN1bHQucG9pbnRzX2Vhcm5lZAogICAgICAgICAgICBtYXhfcG9pbnRzICs9IHJlc3VsdC5wb2ludHNfcG9zc2libGUKCiAgICAgICAgICAgIGlmIG5vdCByZXN1bHQucGFzc2VkOgogICAgICAgICAgICAgICAgYWxsX3Bhc3NlZCA9IEZhbHNlCiAgICAgICAgICAgICAgICBpZiB0YXNrLmdldCgnZmF0YWwnLCBGYWxzZSk6CiAgICAgICAgICAgICAgICAgICAgaWYgdmVyYm9zZToKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcbntDb2xvcnMuUkVEfUZhdGFsIHRhc2sgZmFpbGVkLiBTdG9wcGluZyBncmFkaW5nLntDb2xvcnMuTkN9IikKICAgICAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAjIFJ1biBjbGVhbnVwIGlmIGVuYWJsZWQKICAgICAgICBjbGVhbnVwID0gbGFiX2RlZi5nZXQoJ2NsZWFudXAnLCB7fSkKICAgICAgICBpZiBjbGVhbnVwLmdldCgnZW5hYmxlZCcpOgogICAgICAgICAgICBzZWxmLl9ydW5fcGhhc2VfY29tbWFuZHMoY2xlYW51cC5nZXQoJ2NvbW1hbmRzJywgW10pLCAiQ2xlYW51cCIsIHZlcmJvc2UpCgogICAgICAgICMgUHJpbnQgc3VtbWFyeQogICAgICAgIGlmIHZlcmJvc2U6CiAgICAgICAgICAgIHNlbGYuX3ByaW50X3N1bW1hcnkoYWxsX3Bhc3NlZCwgdG90YWxfcG9pbnRzLCBtYXhfcG9pbnRzKQoKICAgICAgICByZXR1cm4gTGFiUmVzdWx0KAogICAgICAgICAgICBzbHVnPXNsdWcsCiAgICAgICAgICAgIG5hbWU9bGFiX25hbWUsCiAgICAgICAgICAgIHBhc3NlZD1hbGxfcGFzc2VkLAogICAgICAgICAgICB0YXNrcz10YXNrX3Jlc3VsdHMsCiAgICAgICAgICAgIHRvdGFsX3BvaW50cz10b3RhbF9wb2ludHMsCiAgICAgICAgICAgIG1heF9wb2ludHM9bWF4X3BvaW50cwogICAgICAgICkKCiAgICBkZWYgX2NvbmZpZ3VyZV9lbnZpcm9ubWVudChzZWxmLCBlbnZfY29uZmlnOiBEaWN0KToKICAgICAgICAiIiJDb25maWd1cmUgZW52aXJvbm1lbnQgZnJvbSBsYWIgZGVmaW5pdGlvbiIiIgogICAgICAgICMgQ29uZmlndXJlIGhvc3RzCiAgICAgICAgZm9yIGhvc3QgaW4gZW52X2NvbmZpZy5nZXQoJ2hvc3RzJywgW10pOgogICAgICAgICAgICBzZWxmLmV4ZWN1dG9yLmNvbmZpZ3VyZV9ob3N0KAogICAgICAgICAgICAgICAgaG9zdFsnbmFtZSddLAogICAgICAgICAgICAgICAgaG9zdC5nZXQoJ3NzaF91c2VyJyksCiAgICAgICAgICAgICAgICBob3N0LmdldCgnc3NoX2tleScpCiAgICAgICAgICAgICkKCiAgICAgICAgIyBTZXQgdmFyaWFibGVzCiAgICAgICAgc2VsZi52YXJpYWJsZXMgPSBlbnZfY29uZmlnLmdldCgndmFyaWFibGVzJywge30pCgogICAgZGVmIF9ydW5fcGhhc2VfY29tbWFuZHMoc2VsZiwgY29tbWFuZHM6IExpc3RbRGljdF0sIHBoYXNlX25hbWU6IHN0ciwgdmVyYm9zZTogYm9vbCk6CiAgICAgICAgIiIiUnVuIHNldHVwIG9yIGNsZWFudXAgY29tbWFuZHMiIiIKICAgICAgICBpZiB2ZXJib3NlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuQ1lBTn1SdW5uaW5nIHtwaGFzZV9uYW1lfS4uLntDb2xvcnMuTkN9IikKCiAgICAgICAgZm9yIGNtZF9jb25maWcgaW4gY29tbWFuZHM6CiAgICAgICAgICAgIGNvbW1hbmQgPSBjbWRfY29uZmlnLmdldCgnY29tbWFuZCcpCiAgICAgICAgICAgIGhvc3QgPSBjbWRfY29uZmlnLmdldCgnaG9zdCcsICdsb2NhbGhvc3QnKQogICAgICAgICAgICBpZ25vcmVfZXJyb3JzID0gY21kX2NvbmZpZy5nZXQoJ2lnbm9yZV9lcnJvcnMnLCBGYWxzZSkKCiAgICAgICAgICAgIGV4aXRfY29kZSwgXywgc3RkZXJyID0gc2VsZi5leGVjdXRvci5leGVjdXRlKGNvbW1hbmQsIGhvc3QpCgogICAgICAgICAgICBpZiBleGl0X2NvZGUgIT0gMCBhbmQgbm90IGlnbm9yZV9lcnJvcnM6CiAgICAgICAgICAgICAgICBpZiB2ZXJib3NlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5ZRUxMT1d9V2FybmluZzoge3BoYXNlX25hbWV9IGNvbW1hbmQgZmFpbGVkOiB7c3RkZXJyfXtDb2xvcnMuTkN9IikKCiAgICBkZWYgX2dyYWRlX3Rhc2soc2VsZiwgdGFzazogRGljdCwgY2hlY2tfZXhlY3V0b3I6IENoZWNrRXhlY3V0b3IsCiAgICAgICAgICAgICAgICAgICAgdmVyYm9zZTogYm9vbCkgLT4gVGFza1Jlc3VsdDoKICAgICAgICAiIiJHcmFkZSBhIHNpbmdsZSB0YXNrIiIiCiAgICAgICAgdGFza19pZCA9IHRhc2suZ2V0KCdpZCcsICd1bmtub3duJykKICAgICAgICB0YXNrX25hbWUgPSB0YXNrLmdldCgnbmFtZScsICdVbmtub3duIFRhc2snKQogICAgICAgIGNoZWNrcyA9IHRhc2suZ2V0KCdjaGVja3MnLCBbXSkKICAgICAgICBwb2ludHMgPSB0YXNrLmdldCgncG9pbnRzJywgMSkKCiAgICAgICAgYWxsX2NoZWNrc19wYXNzZWQgPSBUcnVlCiAgICAgICAgbWVzc2FnZXMgPSBbXQoKICAgICAgICBmb3IgY2hlY2sgaW4gY2hlY2tzOgogICAgICAgICAgICByZXN1bHQgPSBjaGVja19leGVjdXRvci5leGVjdXRlX2NoZWNrKGNoZWNrKQogICAgICAgICAgICBpZiBub3QgcmVzdWx0LnBhc3NlZDoKICAgICAgICAgICAgICAgIGFsbF9jaGVja3NfcGFzc2VkID0gRmFsc2UKICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmFwcGVuZChyZXN1bHQubWVzc2FnZSkKICAgICAgICAgICAgICAgIGlmIHJlc3VsdC5kZXRhaWxzOgogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmFwcGVuZChmIiAge3Jlc3VsdC5kZXRhaWxzfSIpCgogICAgICAgICMgRGV0ZXJtaW5lIHBhc3MvZmFpbCBhbmQgZ2V0IGFwcHJvcHJpYXRlIG1lc3NhZ2UKICAgICAgICBpZiBhbGxfY2hlY2tzX3Bhc3NlZDoKICAgICAgICAgICAgc3RhdHVzID0gZiJ7Q29sb3JzLkdSRUVOfVBBU1N7Q29sb3JzLk5DfSIKICAgICAgICAgICAgZGlzcGxheV9tZXNzYWdlID0gdGFzay5nZXQoJ3N1Y2Nlc3NfbWVzc2FnZScsICcnKQogICAgICAgICAgICBwb2ludHNfZWFybmVkID0gcG9pbnRzCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc3RhdHVzID0gZiJ7Q29sb3JzLlJFRH1GQUlMe0NvbG9ycy5OQ30iCiAgICAgICAgICAgIGRpc3BsYXlfbWVzc2FnZSA9IHRhc2suZ2V0KCdmYWlsdXJlX21lc3NhZ2UnLCAnJykKICAgICAgICAgICAgcG9pbnRzX2Vhcm5lZCA9IDAKCiAgICAgICAgICAgICMgQWRkIGhpbnRzIGlmIGF2YWlsYWJsZQogICAgICAgICAgICBoaW50cyA9IHRhc2suZ2V0KCdoaW50cycsIFtdKQogICAgICAgICAgICBpZiBoaW50czoKICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmFwcGVuZCgiSGludHM6IikKICAgICAgICAgICAgICAgIGZvciBoaW50IGluIGhpbnRzOgogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmFwcGVuZChmIiAgLSB7aGludH0iKQoKICAgICAgICBpZiB2ZXJib3NlOgogICAgICAgICAgICBwcmludChmIntzdGF0dXN9ICAge3Rhc2tfbmFtZX0iKQogICAgICAgICAgICBpZiBkaXNwbGF5X21lc3NhZ2U6CiAgICAgICAgICAgICAgICBwcmludChmIiAgICAgICAtIHtkaXNwbGF5X21lc3NhZ2V9IikKICAgICAgICAgICAgZm9yIG1zZyBpbiBtZXNzYWdlczoKICAgICAgICAgICAgICAgIHByaW50KGYiICAgICAgIC0ge21zZ30iKQoKICAgICAgICByZXR1cm4gVGFza1Jlc3VsdCgKICAgICAgICAgICAgdGFza19pZD10YXNrX2lkLAogICAgICAgICAgICBuYW1lPXRhc2tfbmFtZSwKICAgICAgICAgICAgcGFzc2VkPWFsbF9jaGVja3NfcGFzc2VkLAogICAgICAgICAgICBtZXNzYWdlcz1tZXNzYWdlcywKICAgICAgICAgICAgcG9pbnRzX2Vhcm5lZD1wb2ludHNfZWFybmVkLAogICAgICAgICAgICBwb2ludHNfcG9zc2libGU9cG9pbnRzCiAgICAgICAgKQoKICAgIGRlZiBfcHJpbnRfc3VtbWFyeShzZWxmLCBhbGxfcGFzc2VkOiBib29sLCB0b3RhbF9wb2ludHM6IGZsb2F0LCBtYXhfcG9pbnRzOiBmbG9hdCk6CiAgICAgICAgIiIiUHJpbnQgZ3JhZGluZyBzdW1tYXJ5IiIiCiAgICAgICAgcHJpbnQoKQogICAgICAgIGlmIGFsbF9wYXNzZWQ6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn1PdmVyYWxsIGxhYiBncmFkZTogUEFTU3tDb2xvcnMuTkN9IikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfU92ZXJhbGwgbGFiIGdyYWRlOiBGQUlMe0NvbG9ycy5OQ30iKQoKICAgICAgICBpZiBtYXhfcG9pbnRzID4gMDoKICAgICAgICAgICAgcGVyY2VudGFnZSA9ICh0b3RhbF9wb2ludHMgLyBtYXhfcG9pbnRzKSAqIDEwMAogICAgICAgICAgICBwcmludChmIlNjb3JlOiB7dG90YWxfcG9pbnRzOi4xZn0ve21heF9wb2ludHM6LjFmfSAoe3BlcmNlbnRhZ2U6LjBmfSUpIikKCgpkZWYgbWFpbigpOgogICAgIiIiQ0xJIGVudHJ5IHBvaW50IGZvciBjdXN0b20gbGFiIGdyYWRpbmciIiIKICAgIGltcG9ydCBhcmdwYXJzZQoKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKGRlc2NyaXB0aW9uPSdDdXN0b20gTGFiIEdyYWRlcicpCiAgICBzdWJwYXJzZXJzID0gcGFyc2VyLmFkZF9zdWJwYXJzZXJzKGRlc3Q9J2NvbW1hbmQnLCBoZWxwPSdDb21tYW5kcycpCgogICAgIyBHcmFkZSBjb21tYW5kCiAgICBncmFkZV9wYXJzZXIgPSBzdWJwYXJzZXJzLmFkZF9wYXJzZXIoJ2dyYWRlJywgaGVscD0nR3JhZGUgYSBjdXN0b20gbGFiJykKICAgIGdyYWRlX3BhcnNlci5hZGRfYXJndW1lbnQoJ3NsdWcnLCBoZWxwPSdMYWIgc2x1ZyB0byBncmFkZScpCiAgICBncmFkZV9wYXJzZXIuYWRkX2FyZ3VtZW50KCctcScsICctLXF1aWV0JywgYWN0aW9uPSdzdG9yZV90cnVlJywgaGVscD0nUXVpZXQgb3V0cHV0JykKCiAgICAjIExpc3QgY29tbWFuZAogICAgbGlzdF9wYXJzZXIgPSBzdWJwYXJzZXJzLmFkZF9wYXJzZXIoJ2xpc3QnLCBoZWxwPSdMaXN0IGF2YWlsYWJsZSBjdXN0b20gbGFicycpCgogICAgIyBWYWxpZGF0ZSBjb21tYW5kCiAgICB2YWxpZGF0ZV9wYXJzZXIgPSBzdWJwYXJzZXJzLmFkZF9wYXJzZXIoJ3ZhbGlkYXRlJywgaGVscD0nVmFsaWRhdGUgYSBsYWIgZGVmaW5pdGlvbicpCiAgICB2YWxpZGF0ZV9wYXJzZXIuYWRkX2FyZ3VtZW50KCdmaWxlJywgaGVscD0nTGFiIGRlZmluaXRpb24gSlNPTiBmaWxlJykKCiAgICBhcmdzID0gcGFyc2VyLnBhcnNlX2FyZ3MoKQoKICAgIGdyYWRlciA9IEN1c3RvbUxhYkdyYWRlcigpCgogICAgaWYgYXJncy5jb21tYW5kID09ICdncmFkZSc6CiAgICAgICAgcmVzdWx0ID0gZ3JhZGVyLmdyYWRlX2xhYihhcmdzLnNsdWcsIHZlcmJvc2U9bm90IGFyZ3MucXVpZXQpCiAgICAgICAgc3lzLmV4aXQoMCBpZiByZXN1bHQucGFzc2VkIGVsc2UgMSkKCiAgICBlbGlmIGFyZ3MuY29tbWFuZCA9PSAnbGlzdCc6CiAgICAgICAgbGFicyA9IGdyYWRlci5saXN0X2xhYnMoKQogICAgICAgIGlmIG5vdCBsYWJzOgogICAgICAgICAgICBwcmludCgiTm8gY3VzdG9tIGxhYnMgZm91bmQuIikKICAgICAgICAgICAgcHJpbnQoZiJcbkxhYnMgZGlyZWN0b3J5OiB7Z3JhZGVyLkxBQlNfRElSfSIpCiAgICAgICAgICAgIHByaW50KCJDcmVhdGUgSlNPTiBmaWxlcyBpbiB0aGlzIGRpcmVjdG9yeSB0byBhZGQgY3VzdG9tIGxhYnMuIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIlxueydTbHVnJzo8MjV9IHsnTmFtZSc6PDQwfSB7J0NvdXJzZSc6PDEwfSIpCiAgICAgICAgICAgIHByaW50KCItIiAqIDc1KQogICAgICAgICAgICBmb3IgbGFiIGluIGxhYnM6CiAgICAgICAgICAgICAgICBidWlsdGluID0gIihidWlsdGluKSIgaWYgbGFiWydidWlsdGluJ10gZWxzZSAiIgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7bGFiWydzbHVnJ106PDI1fSB7bGFiWyduYW1lJ106PDQwfSB7bGFiWydjb3Vyc2UnXTo8MTB9IHtidWlsdGlufSIpCgogICAgZWxpZiBhcmdzLmNvbW1hbmQgPT0gJ3ZhbGlkYXRlJzoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdpdGggb3BlbihhcmdzLmZpbGUpIGFzIGY6CiAgICAgICAgICAgICAgICBsYWJfZGVmID0ganNvbi5sb2FkKGYpCiAgICAgICAgICAgIGdyYWRlci5sb2FkX2xhYihQYXRoKGFyZ3MuZmlsZSkpCiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inJN7Q29sb3JzLk5DfSBMYWIgZGVmaW5pdGlvbiBpcyB2YWxpZCIpCiAgICAgICAgICAgIG1ldGFkYXRhID0gbGFiX2RlZi5nZXQoJ21ldGFkYXRhJywge30pCiAgICAgICAgICAgIHByaW50KGYiICBTbHVnOiB7bWV0YWRhdGEuZ2V0KCdzbHVnJyl9IikKICAgICAgICAgICAgcHJpbnQoZiIgIE5hbWU6IHttZXRhZGF0YS5nZXQoJ25hbWUnKX0iKQogICAgICAgICAgICBwcmludChmIiAgVGFza3M6IHtsZW4obGFiX2RlZi5nZXQoJ3Rhc2tzJywgW10pKX0iKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inJd7Q29sb3JzLk5DfSBWYWxpZGF0aW9uIGZhaWxlZDoge2V9IikKICAgICAgICAgICAgc3lzLmV4aXQoMSkKCiAgICBlbHNlOgogICAgICAgIHBhcnNlci5wcmludF9oZWxwKCkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCkNVU1RPTV9MQUJTX0dSQURFUl9FT0YKCiAgICAjIENyZWF0ZSBzY29ybV9wYWNrYWdlX2dlbmVyYXRvci5weQogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9zY29ybV9wYWNrYWdlX2dlbmVyYXRvci5weSIgPDwgJ1NDT1JNX1BBQ0tBR0VfR0VORVJBVE9SX0VPRicKIyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiIKU0NPUk0gUGFja2FnZSBHZW5lcmF0b3IgZm9yIExhYiB4QVBJIEludGVncmF0aW9uLgoKR2VuZXJhdGVzIFNDT1JNIDEuMiBwYWNrYWdlcyB0aGF0OgotIFF1ZXJ5IHRoZSBMUlMgZm9yIHN0dWRlbnQgbGFiIGdyYWRlcwotIERpc3BsYXkgYWxsIGF0dGVtcHRzIGFuZCBncmFkZXMgdG8gc3R1ZGVudHMKLSBQYXNzIHRoZSBiZXN0L2xhdGVzdCBncmFkZSBiYWNrIHRvIHRoZSBMTVMgZ3JhZGVib29rCiIiIgoKaW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBiYXNlNjQKaW1wb3J0IGpzb24KaW1wb3J0IG9zCmltcG9ydCBzeXMKaW1wb3J0IHV1aWQKaW1wb3J0IHppcGZpbGUKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBBbnksIExpc3QsIE9wdGlvbmFsCgoKIyBDb25maWd1cmF0aW9uIGRlZmF1bHRzCkRFRkFVTFRfTFJTX0VORFBPSU5UID0gImh0dHBzOi8vbHJzLmxhYnNjb25uZWN0Lm9yZy94YXBpIgpCQVNFX0lSSSA9ICJodHRwczovL3RyYWluaW5nLnJlZGhhdC5jb20vbGFicyIKCiMgUGF0aHMKU0NSSVBUX0RJUiA9IFBhdGgoX19maWxlX18pLnBhcmVudApURU1QTEFURVNfRElSID0gU0NSSVBUX0RJUiAvICJzY29ybV90ZW1wbGF0ZXMiCkJVSUxUSU5fTEFCU19ESVIgPSBTQ1JJUFRfRElSIC8gImN1c3RvbV9sYWJzIiAvICJleGFtcGxlcyIKVVNFUl9MQUJTX0RJUiA9IFBhdGguaG9tZSgpIC8gIi5jb25maWciIC8gImxhYi14YXBpIiAvICJjdXN0b20tbGFicyIKT1VUUFVUX0RJUiA9IFNDUklQVF9ESVIgLyAic2Nvcm1fcGFja2FnZXMiCgoKZGVmIGxvYWRfbGFiX2RlZmluaXRpb25zKGNvdXJzZV9maWx0ZXI6IE9wdGlvbmFsW3N0cl0gPSBOb25lKSAtPiBMaXN0W0RpY3Rbc3RyLCBBbnldXToKICAgICIiIgogICAgTG9hZCBhbGwgYXZhaWxhYmxlIGxhYiBkZWZpbml0aW9ucyBmcm9tIGJ1aWx0LWluIGV4YW1wbGVzIGFuZCB1c2VyIGN1c3RvbSBsYWJzLgoKICAgIEFyZ3M6CiAgICAgICAgY291cnNlX2ZpbHRlcjogT3B0aW9uYWwgY291cnNlIFNLVSB0byBmaWx0ZXIgbGFicyAoZS5nLiwgInJoMTI0IikKCiAgICBSZXR1cm5zOgogICAgICAgIExpc3Qgb2YgbGFiIGRlZmluaXRpb24gZGljdGlvbmFyaWVzCiAgICAiIiIKICAgIGxhYnMgPSBbXQogICAgc2Vlbl9zbHVncyA9IHNldCgpCgogICAgIyBMb2FkIGZyb20gYWxsIGxhYiBkaXJlY3RvcmllcwogICAgbGFiX2RpcnMgPSBbCiAgICAgICAgKEJVSUxUSU5fTEFCU19ESVIsICJidWlsdGluIiksCiAgICAgICAgKFVTRVJfTEFCU19ESVIsICJ1c2VyIiksCiAgICBdCgogICAgZm9yIGxhYl9kaXIsIHNvdXJjZSBpbiBsYWJfZGlyczoKICAgICAgICBpZiBub3QgbGFiX2Rpci5leGlzdHMoKToKICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgZm9yIGZpbGVwYXRoIGluIHNvcnRlZChsYWJfZGlyLmdsb2IoIiouanNvbiIpKToKICAgICAgICAgICAgaWYgZmlsZXBhdGgubmFtZSBpbiAoImxhYi1zY2hlbWEuanNvbiIsICJzY2hlbWEuanNvbiIpOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgd2l0aCBvcGVuKGZpbGVwYXRoKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGxhYiA9IGpzb24ubG9hZChmKQogICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gbGFiLmdldCgibWV0YWRhdGEiLCB7fSkKICAgICAgICAgICAgICAgICAgICBzbHVnID0gbWV0YWRhdGEuZ2V0KCJzbHVnIiwgZmlsZXBhdGguc3RlbSkKICAgICAgICAgICAgICAgICAgICBjb3Vyc2UgPSBtZXRhZGF0YS5nZXQoImNvdXJzZSIsICJyaDEyNCIpCgogICAgICAgICAgICAgICAgICAgICMgU2tpcCBpZiBhbHJlYWR5IHNlZW4gKHVzZXIgbGFicyBvdmVycmlkZSBidWlsdC1pbikKICAgICAgICAgICAgICAgICAgICBpZiBzbHVnIGluIHNlZW5fc2x1Z3M6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgc2Vlbl9zbHVncy5hZGQoc2x1ZykKCiAgICAgICAgICAgICAgICAgICAgIyBBcHBseSBjb3Vyc2UgZmlsdGVyIGlmIHNwZWNpZmllZAogICAgICAgICAgICAgICAgICAgIGlmIGNvdXJzZV9maWx0ZXIgYW5kIGNvdXJzZS5sb3dlcigpICE9IGNvdXJzZV9maWx0ZXIubG93ZXIoKToKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgICAgICAgICAgbGFicy5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICAgICAic2x1ZyI6IHNsdWcsCiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogbWV0YWRhdGEuZ2V0KCJuYW1lIiwgZmlsZXBhdGguc3RlbSksCiAgICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6IG1ldGFkYXRhLmdldCgiZGVzY3JpcHRpb24iLCAiIiksCiAgICAgICAgICAgICAgICAgICAgICAgICJjb3Vyc2UiOiBjb3Vyc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJ0YXNrcyI6IGxlbihsYWIuZ2V0KCJ0YXNrcyIsIFtdKSksCiAgICAgICAgICAgICAgICAgICAgICAgICJ0b3RhbF9wb2ludHMiOiBzdW0odC5nZXQoInBvaW50cyIsIDEpIGZvciB0IGluIGxhYi5nZXQoInRhc2tzIiwgW10pKSwKICAgICAgICAgICAgICAgICAgICAgICAgInNvdXJjZSI6IHNvdXJjZSwKICAgICAgICAgICAgICAgICAgICAgICAgImZpbGVwYXRoIjogc3RyKGZpbGVwYXRoKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGV4Y2VwdCAoanNvbi5KU09ORGVjb2RlRXJyb3IsIEtleUVycm9yKSBhcyBlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJXYXJuaW5nOiBTa2lwcGluZyB7ZmlsZXBhdGgubmFtZX06IHtlfSIpCgogICAgcmV0dXJuIGxhYnMKCgpkZWYgZ2V0X2F2YWlsYWJsZV9jb3Vyc2VzKCkgLT4gTGlzdFtzdHJdOgogICAgIiIiR2V0IGxpc3Qgb2YgdW5pcXVlIGNvdXJzZSBTS1VzIGZyb20gYWxsIGF2YWlsYWJsZSBsYWJzLiIiIgogICAgbGFicyA9IGxvYWRfbGFiX2RlZmluaXRpb25zKCkKICAgIGNvdXJzZXMgPSBzb3J0ZWQoc2V0KGxhYlsiY291cnNlIl0gZm9yIGxhYiBpbiBsYWJzKSkKICAgIHJldHVybiBjb3Vyc2VzCgoKZGVmIGdlbmVyYXRlX3Njb3JtX2NvbmZpZygKICAgIGxhYl9zbHVnOiBzdHIsCiAgICBsYWJfbmFtZTogc3RyLAogICAgY291cnNlX3NrdTogc3RyLAogICAgbHJzX2VuZHBvaW50OiBzdHIsCiAgICBscnNfYXV0aF90b2tlbjogc3RyLAogICAgcGFzc2luZ19zY29yZTogZmxvYXQgPSAwLjcsCiAgICBncmFkZV9zdHJhdGVneTogc3RyID0gImJlc3QiLAogICAgdG90YWxfcG9pbnRzOiBpbnQgPSAxMDAKKSAtPiBEaWN0W3N0ciwgQW55XToKICAgICIiIgogICAgR2VuZXJhdGUgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB0aGUgU0NPUk0gcGFja2FnZS4KCiAgICBBcmdzOgogICAgICAgIGxhYl9zbHVnOiBMYWIgaWRlbnRpZmllcgogICAgICAgIGxhYl9uYW1lOiBIdW1hbi1yZWFkYWJsZSBsYWIgbmFtZQogICAgICAgIGNvdXJzZV9za3U6IENvdXJzZSBTS1UgKGUuZy4sICJyaDEyNCIpCiAgICAgICAgbHJzX2VuZHBvaW50OiBMUlMgZW5kcG9pbnQgVVJMCiAgICAgICAgbHJzX2F1dGhfdG9rZW46IEJhc2U2NC1lbmNvZGVkIExSUyBjcmVkZW50aWFscwogICAgICAgIHBhc3Npbmdfc2NvcmU6IE1pbmltdW0gc2NvcmUgdG8gcGFzcyAoMC4wLTEuMCkKICAgICAgICBncmFkZV9zdHJhdGVneTogSG93IHRvIGNhbGN1bGF0ZSBmaW5hbCBncmFkZSAtICJiZXN0IiwgImxhdGVzdCIsIG9yICJhdmVyYWdlIgogICAgICAgIHRvdGFsX3BvaW50czogVG90YWwgcG9zc2libGUgcG9pbnRzIGZvciB0aGUgbGFiCgogICAgUmV0dXJuczoKICAgICAgICBDb25maWd1cmF0aW9uIGRpY3Rpb25hcnkKICAgICIiIgogICAgcmV0dXJuIHsKICAgICAgICAibGFiU2x1ZyI6IGxhYl9zbHVnLAogICAgICAgICJsYWJOYW1lIjogbGFiX25hbWUsCiAgICAgICAgImNvdXJzZVNrdSI6IGNvdXJzZV9za3UsCiAgICAgICAgImFjdGl2aXR5SXJpIjogZiJ7QkFTRV9JUkl9L3tsYWJfc2x1Z30iLAogICAgICAgICJscnNFbmRwb2ludCI6IGxyc19lbmRwb2ludCwKICAgICAgICAibHJzQXV0aFRva2VuIjogbHJzX2F1dGhfdG9rZW4sCiAgICAgICAgInBhc3NpbmdTY29yZSI6IHBhc3Npbmdfc2NvcmUsCiAgICAgICAgImdyYWRlU3RyYXRlZ3kiOiBncmFkZV9zdHJhdGVneSwKICAgICAgICAidG90YWxQb2ludHMiOiB0b3RhbF9wb2ludHMsCiAgICAgICAgInZlcnNpb24iOiAiMS4wIiwKICAgICAgICAiZ2VuZXJhdGVkQXQiOiBkYXRldGltZS51dGNub3coKS5pc29mb3JtYXQoKSArICJaIgogICAgfQoKCmRlZiBnZXRfcGxheWVyX2h0bWwoKSAtPiBzdHI6CiAgICAiIiJSZXR1cm4gdGhlIFNDT1JNIHBsYXllciBIVE1MIHRlbXBsYXRlLiIiIgogICAgcmV0dXJuICcnJzwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgPHRpdGxlPkxhYiBHcmFkZSBWaWV3ZXI8L3RpdGxlPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdHlsZXMuY3NzIj4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImFwcCI+CiAgICAgICAgPGhlYWRlcj4KICAgICAgICAgICAgPGgxIGlkPSJsYWItdGl0bGUiPkxhYiBHcmFkZSBWaWV3ZXI8L2gxPgogICAgICAgICAgICA8cCBpZD0ibGFiLWRlc2NyaXB0aW9uIj5Mb2FkaW5nLi4uPC9wPgogICAgICAgIDwvaGVhZGVyPgoKICAgICAgICA8bWFpbj4KICAgICAgICAgICAgPHNlY3Rpb24gaWQ9InN0dWRlbnQtaW5mbyIgY2xhc3M9ImNhcmQiPgogICAgICAgICAgICAgICAgPGgyPlN0dWRlbnQgSW5mb3JtYXRpb248L2gyPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5mby1ncmlkIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbmZvLWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+TmFtZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0ic3R1ZGVudC1uYW1lIj4tPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZm8taXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5FbWFpbDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZW1haWwtZGlzcGxheSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0ic3R1ZGVudC1lbWFpbCI+LTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImVkaXQtZW1haWwtYnRuIiBjbGFzcz0iYnRuLWVkaXQtZW1haWwiIG9uY2xpY2s9ImVkaXRFbWFpbCgpIiB0aXRsZT0iQ2hhbmdlIGVtYWlsIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMSA0SDRhMiAyIDAgMCAwLTIgMnYxNGEyIDIgMCAwIDAgMiAyaDE0YTIgMiAwIDAgMCAyLTJ2LTciLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE4LjUgMi41YTIuMTIxIDIuMTIxIDAgMCAxIDMgM0wxMiAxNWwtNCAxIDEtNCA5LjUtOS41eiIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICA8c2VjdGlvbiBpZD0iZ3JhZGUtc3VtbWFyeSIgY2xhc3M9ImNhcmQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxoMj5HcmFkZSBTdW1tYXJ5PC9oMj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJyZWZyZXNoLWJ0biIgY2xhc3M9ImJ0bi1yZWZyZXNoIiBvbmNsaWNrPSJyZWZyZXNoR3JhZGVzKCkiIHRpdGxlPSJSZWZyZXNoIGdyYWRlcyBmcm9tIExSUyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9InJlZnJlc2gtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMyA0djZoLTZNMSAyMHYtNmg2TTMuNTEgOWE5IDkgMCAwIDEgMTQuODUtMy4zNkwyMyAxME0xIDE0bDQuNjQgNC4zNkE5IDkgMCAwIDAgMjAuNDkgMTUiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlJlZnJlc2g8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdyYWRlLWRpc3BsYXkiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdyYWRlLWNpcmNsZSIgaWQ9ImdyYWRlLWNpcmNsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJncmFkZS12YWx1ZSIgaWQ9ImdyYWRlLXZhbHVlIj4tLTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImdyYWRlLWxhYmVsIj4lPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImdyYWRlLWluZm8iPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iZ3JhZGUtc3RhdHVzIiBpZD0iZ3JhZGUtc3RhdHVzIj5DaGVja2luZyBncmFkZXMuLi48L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJncmFkZS1kZXRhaWxzIiBpZD0iZ3JhZGUtZGV0YWlscyI+PC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgIDxzZWN0aW9uIGlkPSJhdHRlbXB0cy1zZWN0aW9uIiBjbGFzcz0iY2FyZCI+CiAgICAgICAgICAgICAgICA8aDI+QXR0ZW1wdCBIaXN0b3J5PC9oMj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImF0dGVtcHRzLWxvYWRpbmciIGNsYXNzPSJsb2FkaW5nIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcGlubmVyIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8cD5Mb2FkaW5nIGF0dGVtcHQgaGlzdG9yeSBmcm9tIExSUy4uLjwvcD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBpZD0iYXR0ZW1wdHMtZW1wdHkiIGNsYXNzPSJlbXB0eS1zdGF0ZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICA8cD5ObyBhdHRlbXB0cyBmb3VuZCBmb3IgdGhpcyBsYWIuPC9wPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJoaW50Ij5Db21wbGV0ZSB0aGUgbGFiIHVzaW5nIHRoZSA8Y29kZT5sYWIgZ3JhZGU8L2NvZGU+IGNvbW1hbmQgdG8gcmVjb3JkIHlvdXIgcmVzdWx0cy48L3A+CiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImhpbnQiPklmIHlvdSd2ZSBhbHJlYWR5IGNvbXBsZXRlZCB0aGUgbGFiLCBtYWtlIHN1cmUgdGhlIGVtYWlsIGFib3ZlIG1hdGNoZXMgdGhlIG9uZSBjb25maWd1cmVkIGluIHlvdXIgbGFiLXhhcGkgc2V0dGluZ3MuIDxhIGhyZWY9IiMiIG9uY2xpY2s9ImVkaXRFbWFpbCgpOyByZXR1cm4gZmFsc2U7Ij5DaGFuZ2UgZW1haWw8L2E+PC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJhdHRlbXB0cy1saXN0IiBjbGFzcz0iYXR0ZW1wdHMtY29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvZGl2PgogICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICA8c2VjdGlvbiBpZD0idGFzay1icmVha2Rvd24iIGNsYXNzPSJjYXJkIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgPGgyPlRhc2sgQnJlYWtkb3duIChMYXRlc3QgQXR0ZW1wdCk8L2gyPgogICAgICAgICAgICAgICAgPGRpdiBpZD0idGFza3MtbGlzdCIgY2xhc3M9InRhc2tzLWNvbnRhaW5lciI+PC9kaXY+CiAgICAgICAgICAgIDwvc2VjdGlvbj4KICAgICAgICA8L21haW4+CgogICAgICAgIDxmb290ZXI+CiAgICAgICAgICAgIDxwPkxhYiB4QVBJIEludGVncmF0aW9uICZidWxsOyBSZWQgSGF0IFRyYWluaW5nPC9wPgogICAgICAgIDwvZm9vdGVyPgogICAgPC9kaXY+CgogICAgPGRpdiBpZD0iZXJyb3ItbW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgPGgzPkVycm9yPC9oMz4KICAgICAgICAgICAgPHAgaWQ9ImVycm9yLW1lc3NhZ2UiPjwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjbG9zZUVycm9yTW9kYWwoKSI+Q2xvc2U8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxkaXYgaWQ9ImVtYWlsLW1vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCBlbWFpbC1tb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgPGgzPkVtYWlsIFJlcXVpcmVkPC9oMz4KICAgICAgICAgICAgPHA+UGxlYXNlIGVudGVyIHRoZSBlbWFpbCBhZGRyZXNzIHlvdSB1c2VkIHdoZW4gcnVubmluZyB0aGUgbGFiIGdyYWRpbmcgY29tbWFuZC48L3A+CiAgICAgICAgICAgIDxwIGNsYXNzPSJoaW50Ij5UaGlzIHNob3VsZCBtYXRjaCB0aGUgZW1haWwgY29uZmlndXJlZCBpbiB5b3VyIGxhYi14YXBpIHNldHRpbmdzLjwvcD4KICAgICAgICAgICAgPGZvcm0gaWQ9ImVtYWlsLWZvcm0iIG9uc3VibWl0PSJzdWJtaXRFbWFpbChldmVudCkiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZW1haWwtaW5wdXQiPkVtYWlsIEFkZHJlc3M6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZW1haWwiIGlkPSJlbWFpbC1pbnB1dCIgcGxhY2Vob2xkZXI9InN0dWRlbnRAZXhhbXBsZS5jb20iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWFjdGlvbnMiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuLXByaW1hcnkiPkNvbnRpbnVlPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdCBzcmM9InNjb3JtX2FwaS5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0ibHJzX2NsaWVudC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iY29uZmlnLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJtYWluLmpzIj48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+CicnJwoKCmRlZiBnZXRfc3R5bGVzX2NzcygpIC0+IHN0cjoKICAgICIiIlJldHVybiB0aGUgQ1NTIHN0eWxlcyBmb3IgdGhlIFNDT1JNIHBsYXllci4iIiIKICAgIHJldHVybiAnJycvKiBTQ09STSBMYWIgR3JhZGUgVmlld2VyIFN0eWxlcyAqLwo6cm9vdCB7CiAgICAtLXByaW1hcnktY29sb3I6ICNjYzAwMDA7CiAgICAtLXByaW1hcnktZGFyazogI2EzMDAwMDsKICAgIC0tc3VjY2Vzcy1jb2xvcjogIzNlODYzNTsKICAgIC0td2FybmluZy1jb2xvcjogI2YwYWIwMDsKICAgIC0tZGFuZ2VyLWNvbG9yOiAjYzkxOTBiOwogICAgLS10ZXh0LWNvbG9yOiAjMTUxNTE1OwogICAgLS10ZXh0LW11dGVkOiAjNmE2ZTczOwogICAgLS1iZy1jb2xvcjogI2YwZjBmMDsKICAgIC0tY2FyZC1iZzogI2ZmZmZmZjsKICAgIC0tYm9yZGVyLWNvbG9yOiAjZDJkMmQyOwogICAgLS1ib3JkZXItcmFkaXVzOiA4cHg7Cn0KCiogewogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7Cn0KCmJvZHkgewogICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCAiSGVsdmV0aWNhIE5ldWUiLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yKTsKICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICBwYWRkaW5nOiAyMHB4Owp9CgojYXBwIHsKICAgIG1heC13aWR0aDogOTAwcHg7CiAgICBtYXJnaW46IDAgYXV0bzsKfQoKaGVhZGVyIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeS1jb2xvciksIHZhcigtLXByaW1hcnktZGFyaykpOwogICAgY29sb3I6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7Cn0KCmhlYWRlciBoMSB7CiAgICBmb250LXNpemU6IDEuOHJlbTsKICAgIG1hcmdpbi1ib3R0b206IDhweDsKfQoKaGVhZGVyIHAgewogICAgb3BhY2l0eTogMC45OwogICAgZm9udC1zaXplOiAwLjk1cmVtOwp9CgouY2FyZCB7CiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jYXJkLWJnKTsKICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpOwogICAgcGFkZGluZzogMjRweDsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjEpOwp9CgouY2FyZCBoMiB7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIG1hcmdpbi1ib3R0b206IDE2cHg7CiAgICBwYWRkaW5nLWJvdHRvbTogOHB4OwogICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3IpOwp9CgovKiBDYXJkIEhlYWRlciB3aXRoIFJlZnJlc2ggQnV0dG9uICovCi5jYXJkLWhlYWRlciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIG1hcmdpbi1ib3R0b206IDE2cHg7CiAgICBwYWRkaW5nLWJvdHRvbTogOHB4OwogICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3IpOwp9CgouY2FyZC1oZWFkZXIgaDIgewogICAgbWFyZ2luLWJvdHRvbTogMDsKICAgIHBhZGRpbmctYm90dG9tOiAwOwogICAgYm9yZGVyLWJvdHRvbTogbm9uZTsKfQoKLmJ0bi1yZWZyZXNoIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiA2cHg7CiAgICBwYWRkaW5nOiA4cHggMTZweDsKICAgIGJhY2tncm91bmQ6IHZhcigtLWNhcmQtYmcpOwogICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOwogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBmb250LXNpemU6IDAuODVyZW07CiAgICBmb250LXdlaWdodDogNTAwOwogICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsKfQoKLmJ0bi1yZWZyZXNoOmhvdmVyIHsKICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktY29sb3IpOwogICAgY29sb3I6IHdoaXRlOwp9CgouYnRuLXJlZnJlc2g6ZGlzYWJsZWQgewogICAgb3BhY2l0eTogMC42OwogICAgY3Vyc29yOiBub3QtYWxsb3dlZDsKfQoKLmJ0bi1yZWZyZXNoLmxvYWRpbmcgLnJlZnJlc2gtaWNvbiB7CiAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlOwp9CgoucmVmcmVzaC1pY29uIHsKICAgIHdpZHRoOiAxNnB4OwogICAgaGVpZ2h0OiAxNnB4Owp9CgovKiBTdHVkZW50IEluZm8gKi8KLmluZm8tZ3JpZCB7CiAgICBkaXNwbGF5OiBncmlkOwogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7CiAgICBnYXA6IDE2cHg7Cn0KCi5pbmZvLWl0ZW0gewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47Cn0KCi5pbmZvLWl0ZW0gbGFiZWwgewogICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOwogICAgbWFyZ2luLWJvdHRvbTogNHB4Owp9CgouaW5mby1pdGVtIHNwYW4gewogICAgZm9udC13ZWlnaHQ6IDUwMDsKfQoKLmVtYWlsLWRpc3BsYXkgewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBnYXA6IDhweDsKfQoKLmJ0bi1lZGl0LWVtYWlsIHsKICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgd2lkdGg6IDI0cHg7CiAgICBoZWlnaHQ6IDI0cHg7CiAgICBwYWRkaW5nOiA0cHg7CiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOwp9CgouYnRuLWVkaXQtZW1haWw6aG92ZXIgewogICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOwogICAgY29sb3I6IHdoaXRlOwp9CgouYnRuLWVkaXQtZW1haWwgc3ZnIHsKICAgIHdpZHRoOiAxNHB4OwogICAgaGVpZ2h0OiAxNHB4Owp9CgouZW1wdHktc3RhdGUgYSB7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCi5lbXB0eS1zdGF0ZSBhOmhvdmVyIHsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9CgovKiBHcmFkZSBEaXNwbGF5ICovCi5ncmFkZS1kaXNwbGF5IHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiAzMHB4OwogICAgZmxleC13cmFwOiB3cmFwOwp9CgouZ3JhZGUtY2lyY2xlIHsKICAgIHdpZHRoOiAxMjBweDsKICAgIGhlaWdodDogMTIwcHg7CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZjBmMGYwLCAjZTBlMGUwKTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYm94LXNoYWRvdzogaW5zZXQgMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5ncmFkZS1jaXJjbGUucGFzcyB7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1zdWNjZXNzLWNvbG9yKSwgIzJlNmUyOCk7CiAgICBjb2xvcjogd2hpdGU7Cn0KCi5ncmFkZS1jaXJjbGUuZmFpbCB7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1kYW5nZXItY29sb3IpLCAjYTMwMDAwKTsKICAgIGNvbG9yOiB3aGl0ZTsKfQoKLmdyYWRlLWNpcmNsZS5wZW5kaW5nIHsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLXdhcm5pbmctY29sb3IpLCAjYzU4YzAwKTsKICAgIGNvbG9yOiB3aGl0ZTsKfQoKLmdyYWRlLXZhbHVlIHsKICAgIGZvbnQtc2l6ZTogMi41cmVtOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBsaW5lLWhlaWdodDogMTsKfQoKLmdyYWRlLWxhYmVsIHsKICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgb3BhY2l0eTogMC44Owp9CgouZ3JhZGUtaW5mbyB7CiAgICBmbGV4OiAxOwp9CgouZ3JhZGUtc3RhdHVzIHsKICAgIGZvbnQtc2l6ZTogMS4ycmVtOwogICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgIG1hcmdpbi1ib3R0b206IDhweDsKfQoKLmdyYWRlLXN0YXR1cy5wYXNzIHsgY29sb3I6IHZhcigtLXN1Y2Nlc3MtY29sb3IpOyB9Ci5ncmFkZS1zdGF0dXMuZmFpbCB7IGNvbG9yOiB2YXIoLS1kYW5nZXItY29sb3IpOyB9Ci5ncmFkZS1zdGF0dXMucGVuZGluZyB7IGNvbG9yOiB2YXIoLS13YXJuaW5nLWNvbG9yKTsgfQoKLmdyYWRlLWRldGFpbHMgewogICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOwogICAgZm9udC1zaXplOiAwLjlyZW07Cn0KCi8qIExvYWRpbmcgU3RhdGUgKi8KLmxvYWRpbmcgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogNDBweDsKICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsKfQoKLnNwaW5uZXIgewogICAgd2lkdGg6IDQwcHg7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICBib3JkZXI6IDRweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOwogICAgYm9yZGVyLXRvcC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlOwogICAgbWFyZ2luOiAwIGF1dG8gMTZweDsKfQoKQGtleWZyYW1lcyBzcGluIHsKICAgIHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfQp9CgovKiBFbXB0eSBTdGF0ZSAqLwouZW1wdHktc3RhdGUgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogNDBweDsKICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsKfQoKLmVtcHR5LXN0YXRlIC5oaW50IHsKICAgIG1hcmdpbi10b3A6IDEycHg7CiAgICBmb250LXNpemU6IDAuODVyZW07Cn0KCi5lbXB0eS1zdGF0ZSBjb2RlIHsKICAgIGJhY2tncm91bmQ6ICNmNWY1ZjU7CiAgICBwYWRkaW5nOiAycHggOHB4OwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsKfQoKLyogQXR0ZW1wdHMgTGlzdCAqLwouYXR0ZW1wdHMtY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgZ2FwOiAxMnB4Owp9CgouYXR0ZW1wdC1pdGVtIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgcGFkZGluZzogMTZweDsKICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7CiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOwp9CgouYXR0ZW1wdC1pdGVtOmhvdmVyIHsKICAgIGJhY2tncm91bmQ6ICNmMGYwZjA7Cn0KCi5hdHRlbXB0LWl0ZW0ucGFzcyB7CiAgICBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0tc3VjY2Vzcy1jb2xvcik7Cn0KCi5hdHRlbXB0LWl0ZW0uZmFpbCB7CiAgICBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0tZGFuZ2VyLWNvbG9yKTsKfQoKLmF0dGVtcHQtaXRlbS5pbmNvbXBsZXRlIHsKICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS13YXJuaW5nLWNvbG9yKTsKfQoKLmF0dGVtcHQtbnVtYmVyIHsKICAgIHdpZHRoOiAzNnB4OwogICAgaGVpZ2h0OiAzNnB4OwogICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICBjb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIG1hcmdpbi1yaWdodDogMTZweDsKICAgIGZsZXgtc2hyaW5rOiAwOwp9CgouYXR0ZW1wdC1kZXRhaWxzIHsKICAgIGZsZXg6IDE7Cn0KCi5hdHRlbXB0LWRhdGUgewogICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgIG1hcmdpbi1ib3R0b206IDRweDsKfQoKLmF0dGVtcHQtc2NvcmUgewogICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOwp9CgouYXR0ZW1wdC1zdGF0dXMgewogICAgcGFkZGluZzogNHB4IDEycHg7CiAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgZm9udC1zaXplOiAwLjhyZW07CiAgICBmb250LXdlaWdodDogNjAwOwogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKfQoKLmF0dGVtcHQtc3RhdHVzLnBhc3MgewogICAgYmFja2dyb3VuZDogcmdiYSg2MiwgMTM0LCA1MywgMC4xKTsKICAgIGNvbG9yOiB2YXIoLS1zdWNjZXNzLWNvbG9yKTsKfQoKLmF0dGVtcHQtc3RhdHVzLmZhaWwgewogICAgYmFja2dyb3VuZDogcmdiYSgyMDEsIDI1LCAxMSwgMC4xKTsKICAgIGNvbG9yOiB2YXIoLS1kYW5nZXItY29sb3IpOwp9CgouYXR0ZW1wdC1zdGF0dXMuaW5jb21wbGV0ZSB7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0MCwgMTcxLCAwLCAwLjEpOwogICAgY29sb3I6ICM4YTY3MDA7Cn0KCi8qIFRhc2tzIExpc3QgKi8KLnRhc2tzLWNvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIGdhcDogOHB4Owp9CgoudGFzay1pdGVtIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgcGFkZGluZzogMTJweCAxNnB4OwogICAgYmFja2dyb3VuZDogI2ZhZmFmYTsKICAgIGJvcmRlci1yYWRpdXM6IDZweDsKfQoKLnRhc2staWNvbiB7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIG1hcmdpbi1yaWdodDogMTJweDsKICAgIGZsZXgtc2hyaW5rOiAwOwp9CgoudGFzay1pY29uLnBhc3MgewogICAgY29sb3I6IHZhcigtLXN1Y2Nlc3MtY29sb3IpOwp9CgoudGFzay1pY29uLmZhaWwgewogICAgY29sb3I6IHZhcigtLWRhbmdlci1jb2xvcik7Cn0KCi50YXNrLW5hbWUgewogICAgZmxleDogMTsKfQoKLnRhc2stc3RhdHVzIHsKICAgIGZvbnQtc2l6ZTogMC44NXJlbTsKICAgIGZvbnQtd2VpZ2h0OiA1MDA7Cn0KCi50YXNrLXN0YXR1cy5wYXNzIHsKICAgIGNvbG9yOiB2YXIoLS1zdWNjZXNzLWNvbG9yKTsKfQoKLnRhc2stc3RhdHVzLmZhaWwgewogICAgY29sb3I6IHZhcigtLWRhbmdlci1jb2xvcik7Cn0KCi8qIE1vZGFsICovCi5tb2RhbCB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgcmlnaHQ6IDA7CiAgICBib3R0b206IDA7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgei1pbmRleDogMTAwMDsKfQoKLm1vZGFsLWNvbnRlbnQgewogICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICBwYWRkaW5nOiAyNHB4OwogICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7CiAgICBtYXgtd2lkdGg6IDQwMHB4OwogICAgd2lkdGg6IDkwJTsKfQoKLm1vZGFsLWNvbnRlbnQgaDMgewogICAgbWFyZ2luLWJvdHRvbTogMTJweDsKICAgIGNvbG9yOiB2YXIoLS1kYW5nZXItY29sb3IpOwp9CgoubW9kYWwtY29udGVudCBidXR0b24gewogICAgbWFyZ2luLXRvcDogMTZweDsKICAgIHBhZGRpbmc6IDhweCAyNHB4OwogICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICBjb2xvcjogd2hpdGU7CiAgICBib3JkZXI6IG5vbmU7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBmb250LXNpemU6IDAuOXJlbTsKfQoKLm1vZGFsLWNvbnRlbnQgYnV0dG9uOmhvdmVyIHsKICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktZGFyayk7Cn0KCi8qIEVtYWlsIE1vZGFsICovCi5lbWFpbC1tb2RhbC1jb250ZW50IHsKICAgIG1heC13aWR0aDogNDUwcHg7Cn0KCi5lbWFpbC1tb2RhbC1jb250ZW50IGgzIHsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICAgIG1hcmdpbi1ib3R0b206IDEycHg7Cn0KCi5lbWFpbC1tb2RhbC1jb250ZW50IHAgewogICAgbWFyZ2luLWJvdHRvbTogOHB4Owp9CgouZW1haWwtbW9kYWwtY29udGVudCAuaGludCB7CiAgICBmb250LXNpemU6IDAuODVyZW07CiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7CiAgICBtYXJnaW4tYm90dG9tOiAxNnB4Owp9CgouZm9ybS1ncm91cCB7CiAgICBtYXJnaW4tYm90dG9tOiAxNnB4Owp9CgouZm9ybS1ncm91cCBsYWJlbCB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbi1ib3R0b206IDZweDsKICAgIGZvbnQtd2VpZ2h0OiA1MDA7Cn0KCi5mb3JtLWdyb3VwIGlucHV0IHsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogMTBweCAxMnB4OwogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKfQoKLmZvcm0tZ3JvdXAgaW5wdXQ6Zm9jdXMgewogICAgb3V0bGluZTogbm9uZTsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgyMDQsIDAsIDAsIDAuMSk7Cn0KCi5mb3JtLWFjdGlvbnMgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICBnYXA6IDEycHg7Cn0KCi5idG4tcHJpbWFyeSB7CiAgICBwYWRkaW5nOiAxMHB4IDI0cHg7CiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGZvbnQtd2VpZ2h0OiA1MDA7Cn0KCi5idG4tcHJpbWFyeTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWRhcmspOwp9CgovKiBGb290ZXIgKi8KZm9vdGVyIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7CiAgICBmb250LXNpemU6IDAuODVyZW07Cn0KCi8qIFJlc3BvbnNpdmUgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7CiAgICBib2R5IHsKICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgfQoKICAgIC5ncmFkZS1kaXNwbGF5IHsKICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIH0KCiAgICAuZ3JhZGUtY2lyY2xlIHsKICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4OwogICAgfQp9CicnJwoKCmRlZiBnZXRfc2Nvcm1fYXBpX2pzKCkgLT4gc3RyOgogICAgIiIiUmV0dXJuIHRoZSBTQ09STSBBUEkgd3JhcHBlciBKYXZhU2NyaXB0LiIiIgogICAgcmV0dXJuICcnJy8qKgogKiBTQ09STSAxLjIgQVBJIFdyYXBwZXIKICogSGFuZGxlcyBjb21tdW5pY2F0aW9uIHdpdGggdGhlIExNUyB2aWEgU0NPUk0gQVBJCiAqLwoKY29uc3QgU2Nvcm1BUEkgPSAoZnVuY3Rpb24oKSB7CiAgICBsZXQgYXBpID0gbnVsbDsKICAgIGxldCBpbml0aWFsaXplZCA9IGZhbHNlOwogICAgbGV0IHRlcm1pbmF0ZWQgPSBmYWxzZTsKCiAgICAvKioKICAgICAqIEZpbmQgdGhlIFNDT1JNIEFQSSBpbiB0aGUgd2luZG93IGhpZXJhcmNoeQogICAgICovCiAgICBmdW5jdGlvbiBmaW5kQVBJKHdpbikgewogICAgICAgIGxldCBhdHRlbXB0cyA9IDA7CiAgICAgICAgY29uc3QgbWF4QXR0ZW1wdHMgPSA1MDA7CgogICAgICAgIHdoaWxlICh3aW4gJiYgIXdpbi5BUEkgJiYgYXR0ZW1wdHMgPCBtYXhBdHRlbXB0cykgewogICAgICAgICAgICBpZiAod2luLnBhcmVudCAmJiB3aW4ucGFyZW50ICE9PSB3aW4pIHsKICAgICAgICAgICAgICAgIHdpbiA9IHdpbi5wYXJlbnQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luLm9wZW5lcikgewogICAgICAgICAgICAgICAgd2luID0gd2luLm9wZW5lcjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGF0dGVtcHRzKys7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gd2luPy5BUEkgfHwgbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIEluaXRpYWxpemUgY29ubmVjdGlvbiB0byBMTVMKICAgICAqLwogICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHsKICAgICAgICBpZiAoaW5pdGlhbGl6ZWQpIHJldHVybiB0cnVlOwogICAgICAgIGlmICh0ZXJtaW5hdGVkKSByZXR1cm4gZmFsc2U7CgogICAgICAgIC8vIFRyeSB0byBmaW5kIHRoZSBTQ09STSBBUEkKICAgICAgICBhcGkgPSBmaW5kQVBJKHdpbmRvdyk7CgogICAgICAgIGlmICghYXBpKSB7CiAgICAgICAgICAgIGNvbnNvbGUud2FybigiU0NPUk0gQVBJIG5vdCBmb3VuZCAtIHJ1bm5pbmcgaW4gc3RhbmRhbG9uZSBtb2RlIik7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHJlc3VsdCA9IGFwaS5MTVNJbml0aWFsaXplKCIiKTsKICAgICAgICBpZiAocmVzdWx0ID09PSAidHJ1ZSIgfHwgcmVzdWx0ID09PSB0cnVlKSB7CiAgICAgICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgICAgY29uc29sZS5sb2coIlNDT1JNIEFQSSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmVycm9yKCJTQ09STSBMTVNJbml0aWFsaXplIGZhaWxlZDoiLCBnZXRMYXN0RXJyb3IoKSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogVGVybWluYXRlIGNvbm5lY3Rpb24gdG8gTE1TCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRlcm1pbmF0ZSgpIHsKICAgICAgICBpZiAoIWluaXRpYWxpemVkIHx8IHRlcm1pbmF0ZWQpIHJldHVybiB0cnVlOwogICAgICAgIGlmICghYXBpKSByZXR1cm4gdHJ1ZTsKCiAgICAgICAgLy8gQ29tbWl0IGFueSBwZW5kaW5nIGRhdGEgZmlyc3QKICAgICAgICBjb21taXQoKTsKCiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXBpLkxNU0ZpbmlzaCgiIik7CiAgICAgICAgdGVybWluYXRlZCA9IHRydWU7CiAgICAgICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTsKCiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gInRydWUiIHx8IHJlc3VsdCA9PT0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBhIHZhbHVlIGZyb20gdGhlIExNUwogICAgICovCiAgICBmdW5jdGlvbiBnZXRWYWx1ZShlbGVtZW50KSB7CiAgICAgICAgaWYgKCFpbml0aWFsaXplZCB8fCAhYXBpKSByZXR1cm4gIiI7CiAgICAgICAgcmV0dXJuIGFwaS5MTVNHZXRWYWx1ZShlbGVtZW50KSB8fCAiIjsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhIHZhbHVlIGluIHRoZSBMTVMKICAgICAqLwogICAgZnVuY3Rpb24gc2V0VmFsdWUoZWxlbWVudCwgdmFsdWUpIHsKICAgICAgICBpZiAoIWluaXRpYWxpemVkIHx8ICFhcGkpIHJldHVybiBmYWxzZTsKICAgICAgICBjb25zdCByZXN1bHQgPSBhcGkuTE1TU2V0VmFsdWUoZWxlbWVudCwgU3RyaW5nKHZhbHVlKSk7CiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gInRydWUiIHx8IHJlc3VsdCA9PT0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbW1pdCBkYXRhIHRvIHRoZSBMTVMKICAgICAqLwogICAgZnVuY3Rpb24gY29tbWl0KCkgewogICAgICAgIGlmICghaW5pdGlhbGl6ZWQgfHwgIWFwaSkgcmV0dXJuIGZhbHNlOwogICAgICAgIGNvbnN0IHJlc3VsdCA9IGFwaS5MTVNDb21taXQoIiIpOwogICAgICAgIHJldHVybiByZXN1bHQgPT09ICJ0cnVlIiB8fCByZXN1bHQgPT09IHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhlIGxhc3QgZXJyb3IgY29kZQogICAgICovCiAgICBmdW5jdGlvbiBnZXRMYXN0RXJyb3IoKSB7CiAgICAgICAgaWYgKCFhcGkpIHJldHVybiAiMCI7CiAgICAgICAgcmV0dXJuIGFwaS5MTVNHZXRMYXN0RXJyb3IoKSB8fCAiMCI7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgZXJyb3IgZGVzY3JpcHRpb24KICAgICAqLwogICAgZnVuY3Rpb24gZ2V0RXJyb3JTdHJpbmcoZXJyb3JDb2RlKSB7CiAgICAgICAgaWYgKCFhcGkpIHJldHVybiAiIjsKICAgICAgICByZXR1cm4gYXBpLkxNU0dldEVycm9yU3RyaW5nKGVycm9yQ29kZSkgfHwgIiI7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgc3R1ZGVudCBuYW1lIGZyb20gTE1TCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldFN0dWRlbnROYW1lKCkgewogICAgICAgIHJldHVybiBnZXRWYWx1ZSgiY21pLmNvcmUuc3R1ZGVudF9uYW1lIik7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgc3R1ZGVudCBJRCBmcm9tIExNUwogICAgICovCiAgICBmdW5jdGlvbiBnZXRTdHVkZW50SWQoKSB7CiAgICAgICAgcmV0dXJuIGdldFZhbHVlKCJjbWkuY29yZS5zdHVkZW50X2lkIik7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIGxlc3NvbiBzdGF0dXMKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXMgLSAicGFzc2VkIiwgImZhaWxlZCIsICJjb21wbGV0ZWQiLCAiaW5jb21wbGV0ZSIsICJicm93c2VkIiwgIm5vdCBhdHRlbXB0ZWQiCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldExlc3NvblN0YXR1cyhzdGF0dXMpIHsKICAgICAgICByZXR1cm4gc2V0VmFsdWUoImNtaS5jb3JlLmxlc3Nvbl9zdGF0dXMiLCBzdGF0dXMpOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRoZSBjdXJyZW50IGxlc3NvbiBzdGF0dXMKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0TGVzc29uU3RhdHVzKCkgewogICAgICAgIHJldHVybiBnZXRWYWx1ZSgiY21pLmNvcmUubGVzc29uX3N0YXR1cyIpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBzY29yZSAoMC0xMDApCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldFNjb3JlKHJhdywgbWluID0gMCwgbWF4ID0gMTAwKSB7CiAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlOwogICAgICAgIHN1Y2Nlc3MgPSBzZXRWYWx1ZSgiY21pLmNvcmUuc2NvcmUucmF3IiwgcmF3KSAmJiBzdWNjZXNzOwogICAgICAgIHN1Y2Nlc3MgPSBzZXRWYWx1ZSgiY21pLmNvcmUuc2NvcmUubWluIiwgbWluKSAmJiBzdWNjZXNzOwogICAgICAgIHN1Y2Nlc3MgPSBzZXRWYWx1ZSgiY21pLmNvcmUuc2NvcmUubWF4IiwgbWF4KSAmJiBzdWNjZXNzOwogICAgICAgIHJldHVybiBzdWNjZXNzOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHN1c3BlbmQgZGF0YSAoZm9yIHN0b3JpbmcgY3VzdG9tIGRhdGEpCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldFN1c3BlbmREYXRhKGRhdGEpIHsKICAgICAgICBjb25zdCBqc29uU3RyID0gdHlwZW9mIGRhdGEgPT09ICJzdHJpbmciID8gZGF0YSA6IEpTT04uc3RyaW5naWZ5KGRhdGEpOwogICAgICAgIHJldHVybiBzZXRWYWx1ZSgiY21pLnN1c3BlbmRfZGF0YSIsIGpzb25TdHIpOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHN1c3BlbmQgZGF0YQogICAgICovCiAgICBmdW5jdGlvbiBnZXRTdXNwZW5kRGF0YSgpIHsKICAgICAgICBjb25zdCBkYXRhID0gZ2V0VmFsdWUoImNtaS5zdXNwZW5kX2RhdGEiKTsKICAgICAgICBpZiAoIWRhdGEpIHJldHVybiBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogU2V0IHNlc3Npb24gdGltZSBpbiBTQ09STSBmb3JtYXQgKEhISEg6TU06U1MuU1MpCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldFNlc3Npb25UaW1lKHNlY29uZHMpIHsKICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApOwogICAgICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MCk7CiAgICAgICAgY29uc3Qgc2VjcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAlIDYwKTsKICAgICAgICBjb25zdCB0aW1lU3RyID0gYCR7U3RyaW5nKGhvdXJzKS5wYWRTdGFydCg0LCAiMCIpfToke1N0cmluZyhtaW5zKS5wYWRTdGFydCgyLCAiMCIpfToke1N0cmluZyhzZWNzKS5wYWRTdGFydCgyLCAiMCIpfWA7CiAgICAgICAgcmV0dXJuIHNldFZhbHVlKCJjbWkuY29yZS5zZXNzaW9uX3RpbWUiLCB0aW1lU3RyKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlcG9ydCBmaW5hbCBncmFkZSB0byBMTVMKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY29yZSAtIFNjb3JlIGFzIHBlcmNlbnRhZ2UgKDAtMTAwKQogICAgICogQHBhcmFtIHtib29sZWFufSBwYXNzZWQgLSBXaGV0aGVyIHRoZSBzdHVkZW50IHBhc3NlZAogICAgICovCiAgICBmdW5jdGlvbiByZXBvcnRHcmFkZShzY29yZSwgcGFzc2VkKSB7CiAgICAgICAgc2V0U2NvcmUoc2NvcmUsIDAsIDEwMCk7CiAgICAgICAgc2V0TGVzc29uU3RhdHVzKHBhc3NlZCA/ICJwYXNzZWQiIDogImZhaWxlZCIpOwogICAgICAgIHJldHVybiBjb21taXQoKTsKICAgIH0KCiAgICAvKioKICAgICAqIENoZWNrIGlmIHJ1bm5pbmcgaW4gTE1TIGNvbnRleHQKICAgICAqLwogICAgZnVuY3Rpb24gaXNMTVNBdmFpbGFibGUoKSB7CiAgICAgICAgcmV0dXJuIGluaXRpYWxpemVkICYmIGFwaSAhPT0gbnVsbDsKICAgIH0KCiAgICAvLyBQdWJsaWMgQVBJCiAgICByZXR1cm4gewogICAgICAgIGluaXRpYWxpemUsCiAgICAgICAgdGVybWluYXRlLAogICAgICAgIGdldFZhbHVlLAogICAgICAgIHNldFZhbHVlLAogICAgICAgIGNvbW1pdCwKICAgICAgICBnZXRMYXN0RXJyb3IsCiAgICAgICAgZ2V0RXJyb3JTdHJpbmcsCiAgICAgICAgZ2V0U3R1ZGVudE5hbWUsCiAgICAgICAgZ2V0U3R1ZGVudElkLAogICAgICAgIHNldExlc3NvblN0YXR1cywKICAgICAgICBnZXRMZXNzb25TdGF0dXMsCiAgICAgICAgc2V0U2NvcmUsCiAgICAgICAgc2V0U3VzcGVuZERhdGEsCiAgICAgICAgZ2V0U3VzcGVuZERhdGEsCiAgICAgICAgc2V0U2Vzc2lvblRpbWUsCiAgICAgICAgcmVwb3J0R3JhZGUsCiAgICAgICAgaXNMTVNBdmFpbGFibGUKICAgIH07Cn0pKCk7CgovLyBJbml0aWFsaXplIG9uIHBhZ2UgbG9hZAp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uKCkgewogICAgU2Nvcm1BUEkuaW5pdGlhbGl6ZSgpOwp9KTsKCi8vIFRlcm1pbmF0ZSBvbiBwYWdlIHVubG9hZAp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIiwgZnVuY3Rpb24oKSB7CiAgICBTY29ybUFQSS50ZXJtaW5hdGUoKTsKfSk7CicnJwoKCmRlZiBnZXRfbHJzX2NsaWVudF9qcygpIC0+IHN0cjoKICAgICIiIlJldHVybiB0aGUgTFJTIGNsaWVudCBKYXZhU2NyaXB0IGZvciBxdWVyeWluZyB4QVBJIHN0YXRlbWVudHMuIiIiCiAgICByZXR1cm4gJycnLyoqCiAqIExSUyBDbGllbnQgZm9yIHF1ZXJ5aW5nIHhBUEkgc3RhdGVtZW50cwogKiBGZXRjaGVzIHN0dWRlbnQgbGFiIGF0dGVtcHRzIGFuZCBncmFkZXMgZnJvbSB0aGUgTGVhcm5pbmcgUmVjb3JkIFN0b3JlCiAqLwoKY29uc3QgTFJTQ2xpZW50ID0gKGZ1bmN0aW9uKCkgewogICAgbGV0IGNvbmZpZyA9IG51bGw7CgogICAgLyoqCiAgICAgKiBJbml0aWFsaXplIHRoZSBMUlMgY2xpZW50IHdpdGggY29uZmlndXJhdGlvbgogICAgICovCiAgICBmdW5jdGlvbiBpbml0KGNmZykgewogICAgICAgIGNvbmZpZyA9IGNmZzsKICAgIH0KCiAgICAvKioKICAgICAqIEJ1aWxkIHF1ZXJ5IFVSTCBmb3IgZmV0Y2hpbmcgc3RhdGVtZW50cwogICAgICovCiAgICBmdW5jdGlvbiBidWlsZFF1ZXJ5VXJsKGFjdG9yRW1haWwsIGFjdGl2aXR5SXJpKSB7CiAgICAgICAgY29uc3QgYmFzZVVybCA9IGNvbmZpZy5scnNFbmRwb2ludC5yZXBsYWNlKC9cXC8kLywgIiIpOwogICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoewogICAgICAgICAgICBhZ2VudDogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgbWJveDogYG1haWx0bzoke2FjdG9yRW1haWx9YAogICAgICAgICAgICB9KSwKICAgICAgICAgICAgYWN0aXZpdHk6IGFjdGl2aXR5SXJpLAogICAgICAgICAgICByZWxhdGVkX2FjdGl2aXRpZXM6ICJ0cnVlIiwKICAgICAgICAgICAgYXNjZW5kaW5nOiAiZmFsc2UiLAogICAgICAgICAgICBsaW1pdDogIjEwMCIKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIGAke2Jhc2VVcmx9L3N0YXRlbWVudHM/JHtwYXJhbXMudG9TdHJpbmcoKX1gOwogICAgfQoKICAgIC8qKgogICAgICogRmV0Y2ggc3RhdGVtZW50cyBmcm9tIHRoZSBMUlMKICAgICAqLwogICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hTdGF0ZW1lbnRzKGFjdG9yRW1haWwpIHsKICAgICAgICBpZiAoIWNvbmZpZyB8fCAhY29uZmlnLmxyc0VuZHBvaW50IHx8ICFjb25maWcubHJzQXV0aFRva2VuKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiTFJTIG5vdCBjb25maWd1cmVkIik7CiAgICAgICAgfQoKICAgICAgICBjb25zdCB1cmwgPSBidWlsZFF1ZXJ5VXJsKGFjdG9yRW1haWwsIGNvbmZpZy5hY3Rpdml0eUlyaSk7CgogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7CiAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogYEJhc2ljICR7Y29uZmlnLmxyc0F1dGhUb2tlbn1gLAogICAgICAgICAgICAgICAgIlgtRXhwZXJpZW5jZS1BUEktVmVyc2lvbiI6ICIxLjAuMyIsCiAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYExSUyByZXF1ZXN0IGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgcmV0dXJuIGRhdGEuc3RhdGVtZW50cyB8fCBbXTsKICAgIH0KCiAgICAvKioKICAgICAqIFBhcnNlIHN0YXRlbWVudHMgaW50byBhdHRlbXB0IHJlY29yZHMKICAgICAqLwogICAgZnVuY3Rpb24gcGFyc2VBdHRlbXB0cyhzdGF0ZW1lbnRzKSB7CiAgICAgICAgY29uc3QgYXR0ZW1wdHMgPSBbXTsKICAgICAgICBjb25zdCB0YXNrc0J5QXR0ZW1wdCA9IHt9OwoKICAgICAgICAvLyBHcm91cCBzdGF0ZW1lbnRzIGJ5IHRpbWVzdGFtcCAod2l0aGluIDUgbWludXRlIHdpbmRvd3MgPSBzYW1lIGF0dGVtcHQpCiAgICAgICAgc3RhdGVtZW50cy5mb3JFYWNoKHN0bXQgPT4gewogICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShzdG10LnRpbWVzdGFtcCkuZ2V0VGltZSgpOwogICAgICAgICAgICBjb25zdCB2ZXJiID0gc3RtdC52ZXJiPy5pZCB8fCAiIjsKICAgICAgICAgICAgY29uc3Qgb2JqZWN0SWQgPSBzdG10Lm9iamVjdD8uaWQgfHwgIiI7CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQucmVzdWx0IHx8IHt9OwoKICAgICAgICAgICAgLy8gT25seSBwcm9jZXNzIHJlbGV2YW50IHZlcmJzCiAgICAgICAgICAgIGlmICghdmVyYi5pbmNsdWRlcygicGFzc2VkIikgJiYgIXZlcmIuaW5jbHVkZXMoImZhaWxlZCIpICYmCiAgICAgICAgICAgICAgICAhdmVyYi5pbmNsdWRlcygiY29tcGxldGVkIikgJiYgIXZlcmIuaW5jbHVkZXMoImluY29tcGxldGUiKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgbGFiIGNvbXBsZXRpb24gc3RhdGVtZW50IChubyAvdGFzay0gaW4gb2JqZWN0IElEKQogICAgICAgICAgICBjb25zdCBpc0xhYkNvbXBsZXRpb24gPSAhb2JqZWN0SWQuaW5jbHVkZXMoIi90YXNrLSIpOwoKICAgICAgICAgICAgaWYgKGlzTGFiQ29tcGxldGlvbikgewogICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIGxhYi1sZXZlbCBzdGF0ZW1lbnQKICAgICAgICAgICAgICAgIGNvbnN0IGF0dGVtcHQgPSB7CiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBzdG10LnRpbWVzdGFtcCwKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBNczogdGltZXN0YW1wLAogICAgICAgICAgICAgICAgICAgIHZlcmI6IHZlcmIuc3BsaXQoIi8iKS5wb3AoKSwKICAgICAgICAgICAgICAgICAgICBwYXNzZWQ6IHZlcmIuaW5jbHVkZXMoInBhc3NlZCIpLAogICAgICAgICAgICAgICAgICAgIHNjb3JlOiByZXN1bHQuc2NvcmUgfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICB0YXNrczogW10KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBhdHRlbXB0cy5wdXNoKGF0dGVtcHQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHRhc2stbGV2ZWwgc3RhdGVtZW50CiAgICAgICAgICAgICAgICBjb25zdCB0YXNrTWF0Y2ggPSBvYmplY3RJZC5tYXRjaCgvdGFzay0oXFxkKykkLyk7CiAgICAgICAgICAgICAgICBjb25zdCB0YXNrTnVtID0gdGFza01hdGNoID8gcGFyc2VJbnQodGFza01hdGNoWzFdKSA6IDA7CiAgICAgICAgICAgICAgICBjb25zdCB0YXNrTmFtZSA9IHN0bXQub2JqZWN0Py5kZWZpbml0aW9uPy5uYW1lPy5bImVuLVVTIl0gfHwgYFRhc2sgJHt0YXNrTnVtfWA7CgogICAgICAgICAgICAgICAgLy8gRmluZCBtYXRjaGluZyBhdHRlbXB0ICh3aXRoaW4gNSBtaW4gd2luZG93KQogICAgICAgICAgICAgICAgbGV0IGF0dGVtcHRLZXkgPSBudWxsOwogICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGFza3NCeUF0dGVtcHQpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhcnNlSW50KGtleSkgLSB0aW1lc3RhbXApIDwgMzAwMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGVtcHRLZXkgPSBrZXk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWF0dGVtcHRLZXkpIHsKICAgICAgICAgICAgICAgICAgICBhdHRlbXB0S2V5ID0gU3RyaW5nKHRpbWVzdGFtcCk7CiAgICAgICAgICAgICAgICAgICAgdGFza3NCeUF0dGVtcHRbYXR0ZW1wdEtleV0gPSBbXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0YXNrc0J5QXR0ZW1wdFthdHRlbXB0S2V5XS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICB0YXNrTnVtLAogICAgICAgICAgICAgICAgICAgIHRhc2tOYW1lLAogICAgICAgICAgICAgICAgICAgIHBhc3NlZDogdmVyYi5pbmNsdWRlcygicGFzc2VkIiksCiAgICAgICAgICAgICAgICAgICAgdmVyYjogdmVyYi5zcGxpdCgiLyIpLnBvcCgpLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBzdG10Lm9iamVjdD8uZGVmaW5pdGlvbj8uZGVzY3JpcHRpb24/LlsiZW4tVVMiXSB8fCAiIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgLy8gTWVyZ2UgdGFza3MgaW50byBhdHRlbXB0cwogICAgICAgIGF0dGVtcHRzLmZvckVhY2goYXR0ZW1wdCA9PiB7CiAgICAgICAgICAgIGNvbnN0IGF0dGVtcHRLZXkgPSBTdHJpbmcoYXR0ZW1wdC50aW1lc3RhbXBNcyk7CiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRhc2tzQnlBdHRlbXB0KSkgewogICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhcnNlSW50KGtleSkgLSBhdHRlbXB0LnRpbWVzdGFtcE1zKSA8IDMwMDAwMCkgewogICAgICAgICAgICAgICAgICAgIGF0dGVtcHQudGFza3MgPSB0YXNrc0J5QXR0ZW1wdFtrZXldLnNvcnQoKGEsIGIpID0+IGEudGFza051bSAtIGIudGFza051bSk7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRhc2tzQnlBdHRlbXB0W2tleV07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgLy8gU29ydCBieSB0aW1lc3RhbXAgZGVzY2VuZGluZyAobmV3ZXN0IGZpcnN0KQogICAgICAgIGF0dGVtcHRzLnNvcnQoKGEsIGIpID0+IGIudGltZXN0YW1wTXMgLSBhLnRpbWVzdGFtcE1zKTsKCiAgICAgICAgcmV0dXJuIGF0dGVtcHRzOwogICAgfQoKICAgIC8qKgogICAgICogQ2FsY3VsYXRlIHRoZSBmaW5hbCBncmFkZSBiYXNlZCBvbiBzdHJhdGVneQogICAgICogQHBhcmFtIHtBcnJheX0gYXR0ZW1wdHMgLSBBcnJheSBvZiBhdHRlbXB0IHJlY29yZHMKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneSAtICJiZXN0IiwgImxhdGVzdCIsIG9yICJhdmVyYWdlIgogICAgICovCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVGaW5hbEdyYWRlKGF0dGVtcHRzLCBzdHJhdGVneSA9ICJiZXN0IikgewogICAgICAgIGlmICghYXR0ZW1wdHMgfHwgYXR0ZW1wdHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybiB7IHNjb3JlOiBudWxsLCBwYXNzZWQ6IGZhbHNlLCBoYXNBdHRlbXB0czogZmFsc2UgfTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHNjb3JlcyA9IGF0dGVtcHRzCiAgICAgICAgICAgIC5maWx0ZXIoYSA9PiBhLnNjb3JlICYmIHR5cGVvZiBhLnNjb3JlLnNjYWxlZCA9PT0gIm51bWJlciIpCiAgICAgICAgICAgIC5tYXAoYSA9PiAoewogICAgICAgICAgICAgICAgc2NhbGVkOiBhLnNjb3JlLnNjYWxlZCwKICAgICAgICAgICAgICAgIHBhc3NlZDogYS5wYXNzZWQsCiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGEudGltZXN0YW1wTXMKICAgICAgICAgICAgfSkpOwoKICAgICAgICBpZiAoc2NvcmVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gcGFzcy9mYWlsIHN0YXR1cyBpZiBubyBzY29yZXMKICAgICAgICAgICAgY29uc3QgcGFzc2VkQXR0ZW1wdCA9IGF0dGVtcHRzLmZpbmQoYSA9PiBhLnBhc3NlZCk7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBzY29yZTogcGFzc2VkQXR0ZW1wdCA/IDEwMCA6IDAsCiAgICAgICAgICAgICAgICBwYXNzZWQ6ICEhcGFzc2VkQXR0ZW1wdCwKICAgICAgICAgICAgICAgIGhhc0F0dGVtcHRzOiB0cnVlCiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBsZXQgZmluYWxTY29yZTsKICAgICAgICBsZXQgcGFzc2VkOwoKICAgICAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7CiAgICAgICAgICAgIGNhc2UgImxhdGVzdCI6CiAgICAgICAgICAgICAgICBjb25zdCBsYXRlc3QgPSBzY29yZXMuc29ydCgoYSwgYikgPT4gYi50aW1lc3RhbXAgLSBhLnRpbWVzdGFtcClbMF07CiAgICAgICAgICAgICAgICBmaW5hbFNjb3JlID0gbGF0ZXN0LnNjYWxlZCAqIDEwMDsKICAgICAgICAgICAgICAgIHBhc3NlZCA9IGxhdGVzdC5wYXNzZWQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgImF2ZXJhZ2UiOgogICAgICAgICAgICAgICAgY29uc3QgYXZnID0gc2NvcmVzLnJlZHVjZSgoc3VtLCBzKSA9PiBzdW0gKyBzLnNjYWxlZCwgMCkgLyBzY29yZXMubGVuZ3RoOwogICAgICAgICAgICAgICAgZmluYWxTY29yZSA9IGF2ZyAqIDEwMDsKICAgICAgICAgICAgICAgIHBhc3NlZCA9IGZpbmFsU2NvcmUgPj0gKGNvbmZpZy5wYXNzaW5nU2NvcmUgKiAxMDApOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJiZXN0IjoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGNvbnN0IGJlc3QgPSBzY29yZXMuc29ydCgoYSwgYikgPT4gYi5zY2FsZWQgLSBhLnNjYWxlZClbMF07CiAgICAgICAgICAgICAgICBmaW5hbFNjb3JlID0gYmVzdC5zY2FsZWQgKiAxMDA7CiAgICAgICAgICAgICAgICBwYXNzZWQgPSBiZXN0LnBhc3NlZCB8fCBmaW5hbFNjb3JlID49IChjb25maWcucGFzc2luZ1Njb3JlICogMTAwKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2NvcmU6IE1hdGgucm91bmQoZmluYWxTY29yZSAqIDEwMCkgLyAxMDAsCiAgICAgICAgICAgIHBhc3NlZCwKICAgICAgICAgICAgaGFzQXR0ZW1wdHM6IHRydWUKICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGFsbCBhdHRlbXB0cyBhbmQgZ3JhZGVzIGZvciBhIHN0dWRlbnQKICAgICAqLwogICAgYXN5bmMgZnVuY3Rpb24gZ2V0U3R1ZGVudEdyYWRlcyhhY3RvckVtYWlsKSB7CiAgICAgICAgY29uc3Qgc3RhdGVtZW50cyA9IGF3YWl0IGZldGNoU3RhdGVtZW50cyhhY3RvckVtYWlsKTsKICAgICAgICBjb25zdCBhdHRlbXB0cyA9IHBhcnNlQXR0ZW1wdHMoc3RhdGVtZW50cyk7CiAgICAgICAgY29uc3QgZmluYWxHcmFkZSA9IGNhbGN1bGF0ZUZpbmFsR3JhZGUoYXR0ZW1wdHMsIGNvbmZpZy5ncmFkZVN0cmF0ZWd5KTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYXR0ZW1wdHMsCiAgICAgICAgICAgIGZpbmFsR3JhZGUsCiAgICAgICAgICAgIHRvdGFsQXR0ZW1wdHM6IGF0dGVtcHRzLmxlbmd0aAogICAgICAgIH07CiAgICB9CgogICAgLy8gUHVibGljIEFQSQogICAgcmV0dXJuIHsKICAgICAgICBpbml0LAogICAgICAgIGZldGNoU3RhdGVtZW50cywKICAgICAgICBwYXJzZUF0dGVtcHRzLAogICAgICAgIGNhbGN1bGF0ZUZpbmFsR3JhZGUsCiAgICAgICAgZ2V0U3R1ZGVudEdyYWRlcwogICAgfTsKfSkoKTsKJycnCgoKZGVmIGdldF9tYWluX2pzKCkgLT4gc3RyOgogICAgIiIiUmV0dXJuIHRoZSBtYWluIGFwcGxpY2F0aW9uIEphdmFTY3JpcHQuIiIiCiAgICByZXR1cm4gJycnLyoqCiAqIE1haW4gYXBwbGljYXRpb24gc2NyaXB0IGZvciBTQ09STSBMYWIgR3JhZGUgVmlld2VyCiAqLwoKKGZ1bmN0aW9uKCkgewogICAgbGV0IHN0dWRlbnRFbWFpbCA9IG51bGw7CiAgICBjb25zdCBzZXNzaW9uU3RhcnRUaW1lID0gRGF0ZS5ub3coKTsKCiAgICAvKioKICAgICAqIEluaXRpYWxpemUgdGhlIGFwcGxpY2F0aW9uCiAgICAgKi8KICAgIGFzeW5jIGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgLy8gSW5pdGlhbGl6ZSBMUlMgY2xpZW50IHdpdGggY29uZmlnCiAgICAgICAgTFJTQ2xpZW50LmluaXQoQ09ORklHKTsKCiAgICAgICAgLy8gVXBkYXRlIFVJIHdpdGggbGFiIGluZm8KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGFiLXRpdGxlIikudGV4dENvbnRlbnQgPSBDT05GSUcubGFiTmFtZTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGFiLWRlc2NyaXB0aW9uIikudGV4dENvbnRlbnQgPQogICAgICAgICAgICBgQ291cnNlOiAke0NPTkZJRy5jb3Vyc2VTa3UudG9VcHBlckNhc2UoKX0gfCBMYWI6ICR7Q09ORklHLmxhYlNsdWd9YDsKCiAgICAgICAgLy8gR2V0IHN0dWRlbnQgaW5mbyBmcm9tIFNDT1JNCiAgICAgICAgY29uc3Qgc3R1ZGVudE5hbWUgPSBTY29ybUFQSS5nZXRTdHVkZW50TmFtZSgpOwogICAgICAgIGNvbnN0IHN0dWRlbnRJZCA9IFNjb3JtQVBJLmdldFN0dWRlbnRJZCgpOwoKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudC1uYW1lIikudGV4dENvbnRlbnQgPSBzdHVkZW50TmFtZSB8fCAiVW5rbm93biI7CgogICAgICAgIC8vIFRyeSB0byBnZXQgZW1haWwgZnJvbSBtdWx0aXBsZSBzb3VyY2VzCiAgICAgICAgc3R1ZGVudEVtYWlsID0gYXdhaXQgZGV0ZXJtaW5lU3R1ZGVudEVtYWlsKHN0dWRlbnRJZCwgc3R1ZGVudE5hbWUpOwoKICAgICAgICBpZiAoIXN0dWRlbnRFbWFpbCkgewogICAgICAgICAgICAvLyBTaG93IGVtYWlsIGlucHV0IG1vZGFsIGluc3RlYWQgb2YgZXJyb3IKICAgICAgICAgICAgc2hvd0VtYWlsTW9kYWwoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnQtZW1haWwiKS50ZXh0Q29udGVudCA9IHN0dWRlbnRFbWFpbDsKCiAgICAgICAgLy8gRmV0Y2ggZ3JhZGVzIGZyb20gTFJTCiAgICAgICAgYXdhaXQgbG9hZEdyYWRlcygpOwogICAgfQoKICAgIC8qKgogICAgICogRGV0ZXJtaW5lIHN0dWRlbnQgZW1haWwgZnJvbSBhdmFpbGFibGUgc291cmNlcwogICAgICogVHJpZXMgbXVsdGlwbGUgbWV0aG9kcyBiZWZvcmUgZ2l2aW5nIHVwCiAgICAgKi8KICAgIGFzeW5jIGZ1bmN0aW9uIGRldGVybWluZVN0dWRlbnRFbWFpbChzdHVkZW50SWQsIHN0dWRlbnROYW1lKSB7CiAgICAgICAgLy8gMS4gQ2hlY2sgc3VzcGVuZCBkYXRhIGZpcnN0IChzYXZlZCBmcm9tIHByZXZpb3VzIHNlc3Npb25zKQogICAgICAgIGNvbnN0IHN1c3BlbmREYXRhID0gU2Nvcm1BUEkuZ2V0U3VzcGVuZERhdGEoKTsKICAgICAgICBpZiAoc3VzcGVuZERhdGEgJiYgc3VzcGVuZERhdGEuZW1haWwgJiYgaXNWYWxpZEVtYWlsKHN1c3BlbmREYXRhLmVtYWlsKSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiRW1haWwgZm91bmQgaW4gc3VzcGVuZCBkYXRhIik7CiAgICAgICAgICAgIHJldHVybiBzdXNwZW5kRGF0YS5lbWFpbDsKICAgICAgICB9CgogICAgICAgIC8vIDIuIENoZWNrIGlmIHN0dWRlbnRJZCBsb29rcyBsaWtlIGFuIGVtYWlsIChzb21lIExNUyB1c2UgZW1haWwgYXMgSUQpCiAgICAgICAgaWYgKHN0dWRlbnRJZCAmJiBpc1ZhbGlkRW1haWwoc3R1ZGVudElkKSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiU3R1ZGVudCBJRCBpcyBhbiBlbWFpbCIpOwogICAgICAgICAgICByZXR1cm4gc3R1ZGVudElkOwogICAgICAgIH0KCiAgICAgICAgLy8gMy4gQ2hlY2sgVVJMIHBhcmFtZXRlcnMgKGN1c3RvbSBMTVMgcGFyYW1zIG9yIExUSSBsYXVuY2ggZGF0YSkKICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogICAgICAgIGNvbnN0IHBvc3NpYmxlRW1haWxQYXJhbXMgPSBbCiAgICAgICAgICAgICJlbWFpbCIsCiAgICAgICAgICAgICJ1c2VyX2VtYWlsIiwKICAgICAgICAgICAgImxpc19wZXJzb25fY29udGFjdF9lbWFpbF9wcmltYXJ5IiwgIC8vIExUSSBzdGFuZGFyZAogICAgICAgICAgICAiY3VzdG9tX3VzZXJfZW1haWwiLAogICAgICAgICAgICAibGVhcm5lcl9lbWFpbCIKICAgICAgICBdOwoKICAgICAgICBmb3IgKGNvbnN0IHBhcmFtIG9mIHBvc3NpYmxlRW1haWxQYXJhbXMpIHsKICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB1cmxQYXJhbXMuZ2V0KHBhcmFtKTsKICAgICAgICAgICAgaWYgKHZhbHVlICYmIGlzVmFsaWRFbWFpbCh2YWx1ZSkpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbWFpbCBmb3VuZCBpbiBVUkwgcGFyYW06ICR7cGFyYW19YCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIDQuIENoZWNrIGlmIHRoZXJlJ3MgZW1haWwgaW4gdGhlIGxhdW5jaCBkYXRhIChzb21lIExNUyBlbWJlZCBpdCkKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBsYXVuY2hEYXRhID0gU2Nvcm1BUEkuZ2V0VmFsdWUoImNtaS5sYXVuY2hfZGF0YSIpOwogICAgICAgICAgICBpZiAobGF1bmNoRGF0YSkgewogICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHBhcnNlIGFzIEpTT04KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobGF1bmNoRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZW1haWwgJiYgaXNWYWxpZEVtYWlsKGRhdGEuZW1haWwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFbWFpbCBmb3VuZCBpbiBsYXVuY2ggZGF0YSBKU09OIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmVtYWlsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBlbWFpbCB3aXRoIHJlZ2V4CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWxNYXRjaCA9IGxhdW5jaERhdGEubWF0Y2goL1tcXHcuLV0rQFtcXHcuLV0rXFwuXFx3Ky8pOwogICAgICAgICAgICAgICAgICAgIGlmIChlbWFpbE1hdGNoICYmIGlzVmFsaWRFbWFpbChlbWFpbE1hdGNoWzBdKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRW1haWwgZXh0cmFjdGVkIGZyb20gbGF1bmNoIGRhdGEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtYWlsTWF0Y2hbMF07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiQ291bGQgbm90IHJlYWQgbGF1bmNoIGRhdGEiKTsKICAgICAgICB9CgogICAgICAgIC8vIDUuIFRyeSB0byBleHRyYWN0IGZyb20gc3R1ZGVudCBuYW1lIGlmIGl0IGxvb2tzIGxpa2UgIk5hbWUgPGVtYWlsPiIKICAgICAgICBpZiAoc3R1ZGVudE5hbWUpIHsKICAgICAgICAgICAgY29uc3QgZW1haWxNYXRjaCA9IHN0dWRlbnROYW1lLm1hdGNoKC88KFtcXHcuLV0rQFtcXHcuLV0rXFwuXFx3Kyk+Lyk7CiAgICAgICAgICAgIGlmIChlbWFpbE1hdGNoICYmIGlzVmFsaWRFbWFpbChlbWFpbE1hdGNoWzFdKSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkVtYWlsIGV4dHJhY3RlZCBmcm9tIHN0dWRlbnQgbmFtZSIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGVtYWlsTWF0Y2hbMV07CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIDYuIENoZWNrIGxvY2FsU3RvcmFnZSAoY3Jvc3Mtc2Vzc2lvbiBmYWxsYmFjaykKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBzdG9yZWRFbWFpbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsYWJfeGFwaV9lbWFpbCIpOwogICAgICAgICAgICBpZiAoc3RvcmVkRW1haWwgJiYgaXNWYWxpZEVtYWlsKHN0b3JlZEVtYWlsKSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkVtYWlsIGZvdW5kIGluIGxvY2FsU3RvcmFnZSIpOwogICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlZEVtYWlsOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygibG9jYWxTdG9yYWdlIG5vdCBhdmFpbGFibGUiKTsKICAgICAgICB9CgogICAgICAgIC8vIE5vIGVtYWlsIGZvdW5kIC0gd2lsbCBuZWVkIHRvIHByb21wdCB1c2VyCiAgICAgICAgY29uc29sZS5sb2coIk5vIGVtYWlsIGZvdW5kIGF1dG9tYXRpY2FsbHkiKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFZhbGlkYXRlIGVtYWlsIGZvcm1hdAogICAgICovCiAgICBmdW5jdGlvbiBpc1ZhbGlkRW1haWwoZW1haWwpIHsKICAgICAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87CiAgICAgICAgcmV0dXJuIGVtYWlsUmVnZXgudGVzdChlbWFpbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTaG93IHRoZSBlbWFpbCBpbnB1dCBtb2RhbAogICAgICovCiAgICBmdW5jdGlvbiBzaG93RW1haWxNb2RhbCgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZW1haWwtbW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbWFpbC1pbnB1dCIpLmZvY3VzKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBIYW5kbGUgZW1haWwgZm9ybSBzdWJtaXNzaW9uCiAgICAgKi8KICAgIHdpbmRvdy5zdWJtaXRFbWFpbCA9IGFzeW5jIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICBjb25zdCBlbWFpbElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVtYWlsLWlucHV0Iik7CiAgICAgICAgY29uc3QgZW1haWwgPSBlbWFpbElucHV0LnZhbHVlLnRyaW0oKTsKCiAgICAgICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7CiAgICAgICAgICAgIGVtYWlsSW5wdXQuc2V0Q3VzdG9tVmFsaWRpdHkoIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MiKTsKICAgICAgICAgICAgZW1haWxJbnB1dC5yZXBvcnRWYWxpZGl0eSgpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBTYXZlIHRoZSBlbWFpbAogICAgICAgIHN0dWRlbnRFbWFpbCA9IGVtYWlsOwogICAgICAgIFNjb3JtQVBJLnNldFN1c3BlbmREYXRhKHsgZW1haWw6IHN0dWRlbnRFbWFpbCB9KTsKCiAgICAgICAgLy8gQWxzbyBzYXZlIHRvIGxvY2FsU3RvcmFnZSBhcyBiYWNrdXAKICAgICAgICB0cnkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibGFiX3hhcGlfZW1haWwiLCBzdHVkZW50RW1haWwpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIkNvdWxkIG5vdCBzYXZlIHRvIGxvY2FsU3RvcmFnZSIpOwogICAgICAgIH0KCiAgICAgICAgLy8gSGlkZSBtb2RhbCBhbmQgdXBkYXRlIFVJCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVtYWlsLW1vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudC1lbWFpbCIpLnRleHRDb250ZW50ID0gc3R1ZGVudEVtYWlsOwoKICAgICAgICAvLyBOb3cgbG9hZCBncmFkZXMKICAgICAgICBhd2FpdCBsb2FkR3JhZGVzKCk7CiAgICB9OwoKICAgIC8qKgogICAgICogTG9hZCBncmFkZXMgZnJvbSBMUlMKICAgICAqLwogICAgYXN5bmMgZnVuY3Rpb24gbG9hZEdyYWRlcygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBncmFkZXMgPSBhd2FpdCBMUlNDbGllbnQuZ2V0U3R1ZGVudEdyYWRlcyhzdHVkZW50RW1haWwpOwoKICAgICAgICAgICAgLy8gU2F2ZSBlbWFpbCBpbiBzdXNwZW5kIGRhdGEgZm9yIG5leHQgdGltZQogICAgICAgICAgICBTY29ybUFQSS5zZXRTdXNwZW5kRGF0YSh7IGVtYWlsOiBzdHVkZW50RW1haWwgfSk7CgogICAgICAgICAgICAvLyBVcGRhdGUgVUkKICAgICAgICAgICAgZGlzcGxheUdyYWRlU3VtbWFyeShncmFkZXMuZmluYWxHcmFkZSk7CiAgICAgICAgICAgIGRpc3BsYXlBdHRlbXB0cyhncmFkZXMuYXR0ZW1wdHMpOwoKICAgICAgICAgICAgLy8gUmVwb3J0IGdyYWRlIHRvIExNUwogICAgICAgICAgICBpZiAoZ3JhZGVzLmZpbmFsR3JhZGUuaGFzQXR0ZW1wdHMpIHsKICAgICAgICAgICAgICAgIFNjb3JtQVBJLnJlcG9ydEdyYWRlKAogICAgICAgICAgICAgICAgICAgIGdyYWRlcy5maW5hbEdyYWRlLnNjb3JlLAogICAgICAgICAgICAgICAgICAgIGdyYWRlcy5maW5hbEdyYWRlLnBhc3NlZAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFNjb3JtQVBJLnNldExlc3NvblN0YXR1cygiaW5jb21wbGV0ZSIpOwogICAgICAgICAgICAgICAgU2Nvcm1BUEkuY29tbWl0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgbG9hZGluZyBncmFkZXM6IiwgZXJyb3IpOwogICAgICAgICAgICBzaG93RXJyb3IoYEZhaWxlZCB0byBsb2FkIGdyYWRlczogJHtlcnJvci5tZXNzYWdlfWApOwogICAgICAgICAgICBoaWRlTG9hZGluZygpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIERpc3BsYXkgdGhlIGdyYWRlIHN1bW1hcnkKICAgICAqLwogICAgZnVuY3Rpb24gZGlzcGxheUdyYWRlU3VtbWFyeShmaW5hbEdyYWRlKSB7CiAgICAgICAgY29uc3QgZ3JhZGVDaXJjbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ3JhZGUtY2lyY2xlIik7CiAgICAgICAgY29uc3QgZ3JhZGVWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJncmFkZS12YWx1ZSIpOwogICAgICAgIGNvbnN0IGdyYWRlU3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdyYWRlLXN0YXR1cyIpOwogICAgICAgIGNvbnN0IGdyYWRlRGV0YWlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJncmFkZS1kZXRhaWxzIik7CgogICAgICAgIGlmICghZmluYWxHcmFkZS5oYXNBdHRlbXB0cykgewogICAgICAgICAgICBncmFkZUNpcmNsZS5jbGFzc05hbWUgPSAiZ3JhZGUtY2lyY2xlIHBlbmRpbmciOwogICAgICAgICAgICBncmFkZVZhbHVlLnRleHRDb250ZW50ID0gIi0tIjsKICAgICAgICAgICAgZ3JhZGVTdGF0dXMudGV4dENvbnRlbnQgPSAiTm8gQXR0ZW1wdHMgWWV0IjsKICAgICAgICAgICAgZ3JhZGVTdGF0dXMuY2xhc3NOYW1lID0gImdyYWRlLXN0YXR1cyBwZW5kaW5nIjsKICAgICAgICAgICAgZ3JhZGVEZXRhaWxzLnRleHRDb250ZW50ID0gIkNvbXBsZXRlIHRoZSBsYWIgYW5kIHJ1biAnbGFiIGdyYWRlJyB0byByZWNvcmQgeW91ciByZXN1bHRzLiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHNjb3JlID0gTWF0aC5yb3VuZChmaW5hbEdyYWRlLnNjb3JlKTsKICAgICAgICBncmFkZVZhbHVlLnRleHRDb250ZW50ID0gc2NvcmU7CgogICAgICAgIGlmIChmaW5hbEdyYWRlLnBhc3NlZCkgewogICAgICAgICAgICBncmFkZUNpcmNsZS5jbGFzc05hbWUgPSAiZ3JhZGUtY2lyY2xlIHBhc3MiOwogICAgICAgICAgICBncmFkZVN0YXR1cy50ZXh0Q29udGVudCA9ICJQYXNzZWQiOwogICAgICAgICAgICBncmFkZVN0YXR1cy5jbGFzc05hbWUgPSAiZ3JhZGUtc3RhdHVzIHBhc3MiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGdyYWRlQ2lyY2xlLmNsYXNzTmFtZSA9ICJncmFkZS1jaXJjbGUgZmFpbCI7CiAgICAgICAgICAgIGdyYWRlU3RhdHVzLnRleHRDb250ZW50ID0gIk5vdCBQYXNzZWQiOwogICAgICAgICAgICBncmFkZVN0YXR1cy5jbGFzc05hbWUgPSAiZ3JhZGUtc3RhdHVzIGZhaWwiOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgcGFzc2luZ1BlcmNlbnQgPSBNYXRoLnJvdW5kKENPTkZJRy5wYXNzaW5nU2NvcmUgKiAxMDApOwogICAgICAgIGdyYWRlRGV0YWlscy50ZXh0Q29udGVudCA9IGBQYXNzaW5nIHNjb3JlOiAke3Bhc3NpbmdQZXJjZW50fSUgfCBTdHJhdGVneTogJHtDT05GSUcuZ3JhZGVTdHJhdGVneX1gOwogICAgfQoKICAgIC8qKgogICAgICogRGlzcGxheSBhdHRlbXB0IGhpc3RvcnkKICAgICAqLwogICAgZnVuY3Rpb24gZGlzcGxheUF0dGVtcHRzKGF0dGVtcHRzKSB7CiAgICAgICAgY29uc3QgbG9hZGluZ0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImF0dGVtcHRzLWxvYWRpbmciKTsKICAgICAgICBjb25zdCBlbXB0eUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImF0dGVtcHRzLWVtcHR5Iik7CiAgICAgICAgY29uc3QgbGlzdEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImF0dGVtcHRzLWxpc3QiKTsKICAgICAgICBjb25zdCB0YXNrU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YXNrLWJyZWFrZG93biIpOwoKICAgICAgICBsb2FkaW5nRWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgICAgaWYgKCFhdHRlbXB0cyB8fCBhdHRlbXB0cy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgZW1wdHlFbC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbGlzdEVsLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIGxpc3RFbC5pbm5lckhUTUwgPSAiIjsKCiAgICAgICAgYXR0ZW1wdHMuZm9yRWFjaCgoYXR0ZW1wdCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgY29uc3QgYXR0ZW1wdE51bSA9IGF0dGVtcHRzLmxlbmd0aCAtIGluZGV4OwogICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYXR0ZW1wdC50aW1lc3RhbXApOwogICAgICAgICAgICBjb25zdCBkYXRlU3RyID0gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKSArICIgIiArIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCk7CgogICAgICAgICAgICBsZXQgc3RhdHVzQ2xhc3MsIHN0YXR1c1RleHQ7CiAgICAgICAgICAgIGlmIChhdHRlbXB0LnBhc3NlZCkgewogICAgICAgICAgICAgICAgc3RhdHVzQ2xhc3MgPSAicGFzcyI7CiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gIlBhc3NlZCI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0ZW1wdC52ZXJiID09PSAiaW5jb21wbGV0ZSIpIHsKICAgICAgICAgICAgICAgIHN0YXR1c0NsYXNzID0gImluY29tcGxldGUiOwogICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICJJbmNvbXBsZXRlIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHN0YXR1c0NsYXNzID0gImZhaWwiOwogICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICJGYWlsZWQiOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBzY29yZVRleHQgPSBhdHRlbXB0LnNjb3JlCiAgICAgICAgICAgICAgICA/IGBTY29yZTogJHtNYXRoLnJvdW5kKGF0dGVtcHQuc2NvcmUuc2NhbGVkICogMTAwKX0lICgke2F0dGVtcHQuc2NvcmUucmF3fS8ke2F0dGVtcHQuc2NvcmUubWF4fSB0YXNrcylgCiAgICAgICAgICAgICAgICA6IGBUYXNrczogJHthdHRlbXB0LnRhc2tzPy5maWx0ZXIodCA9PiB0LnBhc3NlZCkubGVuZ3RoIHx8IDB9IHBhc3NlZGA7CgogICAgICAgICAgICBjb25zdCBodG1sID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYXR0ZW1wdC1pdGVtICR7c3RhdHVzQ2xhc3N9Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRlbXB0LW51bWJlciI+JHthdHRlbXB0TnVtfTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImF0dGVtcHQtZGV0YWlscyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImF0dGVtcHQtZGF0ZSI+JHtkYXRlU3RyfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRlbXB0LXNjb3JlIj4ke3Njb3JlVGV4dH08L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXR0ZW1wdC1zdGF0dXMgJHtzdGF0dXNDbGFzc30iPiR7c3RhdHVzVGV4dH08L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKCiAgICAgICAgICAgIGxpc3RFbC5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZWVuZCIsIGh0bWwpOwogICAgICAgIH0pOwoKICAgICAgICAvLyBTaG93IHRhc2sgYnJlYWtkb3duIGZvciBsYXRlc3QgYXR0ZW1wdAogICAgICAgIGlmIChhdHRlbXB0c1swXSAmJiBhdHRlbXB0c1swXS50YXNrcyAmJiBhdHRlbXB0c1swXS50YXNrcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGRpc3BsYXlUYXNrcyhhdHRlbXB0c1swXS50YXNrcyk7CiAgICAgICAgICAgIHRhc2tTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIERpc3BsYXkgdGFzayBicmVha2Rvd24KICAgICAqLwogICAgZnVuY3Rpb24gZGlzcGxheVRhc2tzKHRhc2tzKSB7CiAgICAgICAgY29uc3QgdGFza3NFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YXNrcy1saXN0Iik7CiAgICAgICAgdGFza3NFbC5pbm5lckhUTUwgPSAiIjsKCiAgICAgICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHsKICAgICAgICAgICAgY29uc3QgaWNvblN2ZyA9IHRhc2sucGFzc2VkCiAgICAgICAgICAgICAgICA/ICc8c3ZnIGNsYXNzPSJ0YXNrLWljb24gcGFzcyIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJjdXJyZW50Q29sb3IiPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MUw5IDE2LjE3eiIvPjwvc3ZnPicKICAgICAgICAgICAgICAgIDogJzxzdmcgY2xhc3M9InRhc2staWNvbiBmYWlsIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9ImN1cnJlbnRDb2xvciI+PHBhdGggZD0iTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMiAxOSA2LjQxeiIvPjwvc3ZnPic7CgogICAgICAgICAgICBjb25zdCBodG1sID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFzay1pdGVtIj4KICAgICAgICAgICAgICAgICAgICAke2ljb25Tdmd9CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRhc2stbmFtZSI+JHt0YXNrLnRhc2tOYW1lfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idGFzay1zdGF0dXMgJHt0YXNrLnBhc3NlZCA/ICdwYXNzJyA6ICdmYWlsJ30iPiR7dGFzay5wYXNzZWQgPyAnUEFTUycgOiAnRkFJTCd9PC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CgogICAgICAgICAgICB0YXNrc0VsLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIiwgaHRtbCk7CiAgICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBIaWRlIGxvYWRpbmcgaW5kaWNhdG9yCiAgICAgKi8KICAgIGZ1bmN0aW9uIGhpZGVMb2FkaW5nKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRlbXB0cy1sb2FkaW5nIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KCiAgICAvKioKICAgICAqIFNob3cgZXJyb3IgbW9kYWwKICAgICAqLwogICAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3ItbWVzc2FnZSIpLnRleHRDb250ZW50ID0gbWVzc2FnZTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3ItbW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgfQoKICAgIC8qKgogICAgICogQ2xvc2UgZXJyb3IgbW9kYWwKICAgICAqLwogICAgd2luZG93LmNsb3NlRXJyb3JNb2RhbCA9IGZ1bmN0aW9uKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlcnJvci1tb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9OwoKICAgIC8qKgogICAgICogUmVmcmVzaCBncmFkZXMgZnJvbSBMUlMKICAgICAqLwogICAgd2luZG93LnJlZnJlc2hHcmFkZXMgPSBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoIXN0dWRlbnRFbWFpbCkgewogICAgICAgICAgICBzaG93RW1haWxNb2RhbCgpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVmcmVzaC1idG4iKTsKICAgICAgICBjb25zdCBhdHRlbXB0c0xvYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXR0ZW1wdHMtbG9hZGluZyIpOwogICAgICAgIGNvbnN0IGF0dGVtcHRzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRlbXB0cy1saXN0Iik7CiAgICAgICAgY29uc3QgYXR0ZW1wdHNFbXB0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhdHRlbXB0cy1lbXB0eSIpOwoKICAgICAgICAvLyBTaG93IGxvYWRpbmcgc3RhdGUKICAgICAgICBidG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCJsb2FkaW5nIik7CiAgICAgICAgYXR0ZW1wdHNMb2FkaW5nLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIGF0dGVtcHRzTGlzdC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIGF0dGVtcHRzRW1wdHkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgICAgLy8gUmVzZXQgZ3JhZGUgZGlzcGxheQogICAgICAgIGNvbnN0IGdyYWRlQ2lyY2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdyYWRlLWNpcmNsZSIpOwogICAgICAgIGNvbnN0IGdyYWRlVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ3JhZGUtdmFsdWUiKTsKICAgICAgICBjb25zdCBncmFkZVN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJncmFkZS1zdGF0dXMiKTsKICAgICAgICBncmFkZUNpcmNsZS5jbGFzc05hbWUgPSAiZ3JhZGUtY2lyY2xlIjsKICAgICAgICBncmFkZVZhbHVlLnRleHRDb250ZW50ID0gIi0tIjsKICAgICAgICBncmFkZVN0YXR1cy50ZXh0Q29udGVudCA9ICJSZWZyZXNoaW5nLi4uIjsKICAgICAgICBncmFkZVN0YXR1cy5jbGFzc05hbWUgPSAiZ3JhZGUtc3RhdHVzIjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYXdhaXQgbG9hZEdyYWRlcygpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIHJlZnJlc2hpbmcgZ3JhZGVzOiIsIGVycm9yKTsKICAgICAgICAgICAgc2hvd0Vycm9yKGBGYWlsZWQgdG8gcmVmcmVzaCBncmFkZXM6ICR7ZXJyb3IubWVzc2FnZX1gKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoImxvYWRpbmciKTsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogRWRpdCBlbWFpbCBhZGRyZXNzIC0gc2hvdyB0aGUgZW1haWwgbW9kYWwgd2l0aCBjdXJyZW50IGVtYWlsIHByZS1maWxsZWQKICAgICAqLwogICAgd2luZG93LmVkaXRFbWFpbCA9IGZ1bmN0aW9uKCkgewogICAgICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZW1haWwtaW5wdXQiKTsKICAgICAgICBpZiAoc3R1ZGVudEVtYWlsKSB7CiAgICAgICAgICAgIGVtYWlsSW5wdXQudmFsdWUgPSBzdHVkZW50RW1haWw7CiAgICAgICAgfQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbWFpbC1tb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgZW1haWxJbnB1dC5mb2N1cygpOwogICAgICAgIGVtYWlsSW5wdXQuc2VsZWN0KCk7CiAgICB9OwoKICAgIC8vIFRyYWNrIHNlc3Npb24gdGltZQogICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gc2Vzc2lvblN0YXJ0VGltZSkgLyAxMDAwKTsKICAgICAgICBTY29ybUFQSS5zZXRTZXNzaW9uVGltZShzZWNvbmRzKTsKICAgIH0sIDMwMDAwKTsKCiAgICAvLyBJbml0aWFsaXplIHdoZW4gRE9NIGlzIHJlYWR5CiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImxvYWRpbmciKSB7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGluaXQpOwogICAgfSBlbHNlIHsKICAgICAgICBpbml0KCk7CiAgICB9Cn0pKCk7CicnJwoKCmRlZiBnZW5lcmF0ZV9pbXNtYW5pZmVzdChjb25maWc6IERpY3Rbc3RyLCBBbnldKSAtPiBzdHI6CiAgICAiIiJHZW5lcmF0ZSB0aGUgU0NPUk0gMS4yIGltc21hbmlmZXN0LnhtbCBjb250ZW50LiIiIgogICAgbWFuaWZlc3RfaWQgPSBmIm1hbmlmZXN0X3t1dWlkLnV1aWQ0KCkuaGV4WzoxNl19IgogICAgb3JnX2lkID0gZiJvcmdfe3V1aWQudXVpZDQoKS5oZXhbOjhdfSIKICAgIGl0ZW1faWQgPSBmIml0ZW1fe3V1aWQudXVpZDQoKS5oZXhbOjhdfSIKICAgIHJlc291cmNlX2lkID0gZiJyZXNvdXJjZV97dXVpZC51dWlkNCgpLmhleFs6OF19IgoKICAgIGxhYl9uYW1lX3NhZmUgPSBjb25maWdbJ2xhYk5hbWUnXS5yZXBsYWNlKCImIiwgIiZhbXA7IikucmVwbGFjZSgiPCIsICImbHQ7IikucmVwbGFjZSgiPiIsICImZ3Q7IikKCiAgICByZXR1cm4gZicnJzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+CjxtYW5pZmVzdCBpZGVudGlmaWVyPSJ7bWFuaWZlc3RfaWR9IiB2ZXJzaW9uPSIxLjAiCiAgICAgICAgICB4bWxucz0iaHR0cDovL3d3dy5pbXNwcm9qZWN0Lm9yZy94c2QvaW1zY3Bfcm9vdHYxcDFwMiIKICAgICAgICAgIHhtbG5zOmFkbGNwPSJodHRwOi8vd3d3LmFkbG5ldC5vcmcveHNkL2FkbGNwX3Jvb3R2MXAyIgogICAgICAgICAgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIKICAgICAgICAgIHhzaTpzY2hlbWFMb2NhdGlvbj0iaHR0cDovL3d3dy5pbXNwcm9qZWN0Lm9yZy94c2QvaW1zY3Bfcm9vdHYxcDFwMiBpbXNjcF9yb290djFwMXAyLnhzZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodHRwOi8vd3d3Lmltc2dsb2JhbC5vcmcveHNkL2ltc21kX3Jvb3R2MXAycDEgaW1zbWRfcm9vdHYxcDJwMS54c2QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy5hZGxuZXQub3JnL3hzZC9hZGxjcF9yb290djFwMiBhZGxjcF9yb290djFwMi54c2QiPgogIDxtZXRhZGF0YT4KICAgIDxzY2hlbWE+QURMIFNDT1JNPC9zY2hlbWE+CiAgICA8c2NoZW1hdmVyc2lvbj4xLjI8L3NjaGVtYXZlcnNpb24+CiAgPC9tZXRhZGF0YT4KICA8b3JnYW5pemF0aW9ucyBkZWZhdWx0PSJ7b3JnX2lkfSI+CiAgICA8b3JnYW5pemF0aW9uIGlkZW50aWZpZXI9IntvcmdfaWR9Ij4KICAgICAgPHRpdGxlPntsYWJfbmFtZV9zYWZlfTwvdGl0bGU+CiAgICAgIDxpdGVtIGlkZW50aWZpZXI9IntpdGVtX2lkfSIgaWRlbnRpZmllcnJlZj0ie3Jlc291cmNlX2lkfSI+CiAgICAgICAgPHRpdGxlPntsYWJfbmFtZV9zYWZlfTwvdGl0bGU+CiAgICAgICAgPGFkbGNwOm1hc3RlcnlzY29yZT57aW50KGNvbmZpZ1sncGFzc2luZ1Njb3JlJ10gKiAxMDApfTwvYWRsY3A6bWFzdGVyeXNjb3JlPgogICAgICA8L2l0ZW0+CiAgICA8L29yZ2FuaXphdGlvbj4KICA8L29yZ2FuaXphdGlvbnM+CiAgPHJlc291cmNlcz4KICAgIDxyZXNvdXJjZSBpZGVudGlmaWVyPSJ7cmVzb3VyY2VfaWR9IiB0eXBlPSJ3ZWJjb250ZW50IiBhZGxjcDpzY29ybXR5cGU9InNjbyIgaHJlZj0iaW5kZXguaHRtbCI+CiAgICAgIDxmaWxlIGhyZWY9ImluZGV4Lmh0bWwiLz4KICAgICAgPGZpbGUgaHJlZj0ic3R5bGVzLmNzcyIvPgogICAgICA8ZmlsZSBocmVmPSJzY29ybV9hcGkuanMiLz4KICAgICAgPGZpbGUgaHJlZj0ibHJzX2NsaWVudC5qcyIvPgogICAgICA8ZmlsZSBocmVmPSJjb25maWcuanMiLz4KICAgICAgPGZpbGUgaHJlZj0ibWFpbi5qcyIvPgogICAgPC9yZXNvdXJjZT4KICA8L3Jlc291cmNlcz4KPC9tYW5pZmVzdD4nJycKCgpkZWYgZ2VuZXJhdGVfc2Nvcm1fcGFja2FnZSgKICAgIGxhYl9zbHVnOiBzdHIsCiAgICBsYWJfbmFtZTogc3RyLAogICAgY291cnNlX3NrdTogc3RyLAogICAgbHJzX2VuZHBvaW50OiBzdHIsCiAgICBscnNfYXV0aF90b2tlbjogc3RyLAogICAgcGFzc2luZ19zY29yZTogZmxvYXQgPSAwLjcsCiAgICBncmFkZV9zdHJhdGVneTogc3RyID0gImJlc3QiLAogICAgdG90YWxfcG9pbnRzOiBpbnQgPSAxMDAsCiAgICBvdXRwdXRfcGF0aDogT3B0aW9uYWxbc3RyXSA9IE5vbmUKKSAtPiBQYXRoOgogICAgIiIiCiAgICBHZW5lcmF0ZSBhIGNvbXBsZXRlIFNDT1JNIDEuMiBwYWNrYWdlLgoKICAgIEFyZ3M6CiAgICAgICAgbGFiX3NsdWc6IExhYiBpZGVudGlmaWVyIChlLmcuLCAidXNlcnMtbWFuYWdlIikKICAgICAgICBsYWJfbmFtZTogSHVtYW4tcmVhZGFibGUgbGFiIG5hbWUKICAgICAgICBjb3Vyc2Vfc2t1OiBDb3Vyc2UgU0tVIChlLmcuLCAicmgxMjQiKQogICAgICAgIGxyc19lbmRwb2ludDogTFJTIGVuZHBvaW50IFVSTAogICAgICAgIGxyc19hdXRoX3Rva2VuOiBCYXNlNjQtZW5jb2RlZCBMUlMgY3JlZGVudGlhbHMKICAgICAgICBwYXNzaW5nX3Njb3JlOiBNaW5pbXVtIHNjb3JlIHRvIHBhc3MgKDAuMC0xLjApCiAgICAgICAgZ3JhZGVfc3RyYXRlZ3k6IEdyYWRlIGNhbGN1bGF0aW9uIHN0cmF0ZWd5ICgiYmVzdCIsICJsYXRlc3QiLCAiYXZlcmFnZSIpCiAgICAgICAgdG90YWxfcG9pbnRzOiBUb3RhbCBwb3NzaWJsZSBwb2ludHMKICAgICAgICBvdXRwdXRfcGF0aDogT3B0aW9uYWwgY3VzdG9tIG91dHB1dCBwYXRoCgogICAgUmV0dXJuczoKICAgICAgICBQYXRoIHRvIHRoZSBnZW5lcmF0ZWQgU0NPUk0gcGFja2FnZQogICAgIiIiCiAgICAjIEVuc3VyZSBvdXRwdXQgZGlyZWN0b3J5IGV4aXN0cwogICAgT1VUUFVUX0RJUi5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgIyBHZW5lcmF0ZSBjb25maWcKICAgIGNvbmZpZyA9IGdlbmVyYXRlX3Njb3JtX2NvbmZpZygKICAgICAgICBsYWJfc2x1Zz1sYWJfc2x1ZywKICAgICAgICBsYWJfbmFtZT1sYWJfbmFtZSwKICAgICAgICBjb3Vyc2Vfc2t1PWNvdXJzZV9za3UsCiAgICAgICAgbHJzX2VuZHBvaW50PWxyc19lbmRwb2ludCwKICAgICAgICBscnNfYXV0aF90b2tlbj1scnNfYXV0aF90b2tlbiwKICAgICAgICBwYXNzaW5nX3Njb3JlPXBhc3Npbmdfc2NvcmUsCiAgICAgICAgZ3JhZGVfc3RyYXRlZ3k9Z3JhZGVfc3RyYXRlZ3ksCiAgICAgICAgdG90YWxfcG9pbnRzPXRvdGFsX3BvaW50cwogICAgKQoKICAgICMgRGV0ZXJtaW5lIG91dHB1dCBmaWxlbmFtZQogICAgaWYgb3V0cHV0X3BhdGg6CiAgICAgICAgb3V0cHV0X2ZpbGUgPSBQYXRoKG91dHB1dF9wYXRoKQogICAgZWxzZToKICAgICAgICBzYWZlX3NsdWcgPSBsYWJfc2x1Zy5yZXBsYWNlKCIvIiwgIi0iKS5yZXBsYWNlKCJcXCIsICItIikKICAgICAgICB0aW1lc3RhbXAgPSBkYXRldGltZS51dGNub3coKS5zdHJmdGltZSgiJVklbSVkXyVIJU0lUyIpCiAgICAgICAgb3V0cHV0X2ZpbGUgPSBPVVRQVVRfRElSIC8gZiJzY29ybV97Y291cnNlX3NrdX1fe3NhZmVfc2x1Z31fe3RpbWVzdGFtcH0uemlwIgoKICAgICMgQ3JlYXRlIHRoZSBTQ09STSBwYWNrYWdlCiAgICB3aXRoIHppcGZpbGUuWmlwRmlsZShvdXRwdXRfZmlsZSwgInciLCB6aXBmaWxlLlpJUF9ERUZMQVRFRCkgYXMgemY6CiAgICAgICAgIyBBZGQgbWFuaWZlc3QKICAgICAgICB6Zi53cml0ZXN0cigiaW1zbWFuaWZlc3QueG1sIiwgZ2VuZXJhdGVfaW1zbWFuaWZlc3QoY29uZmlnKSkKCiAgICAgICAgIyBBZGQgSFRNTAogICAgICAgIHpmLndyaXRlc3RyKCJpbmRleC5odG1sIiwgZ2V0X3BsYXllcl9odG1sKCkpCgogICAgICAgICMgQWRkIENTUwogICAgICAgIHpmLndyaXRlc3RyKCJzdHlsZXMuY3NzIiwgZ2V0X3N0eWxlc19jc3MoKSkKCiAgICAgICAgIyBBZGQgSmF2YVNjcmlwdCBmaWxlcwogICAgICAgIHpmLndyaXRlc3RyKCJzY29ybV9hcGkuanMiLCBnZXRfc2Nvcm1fYXBpX2pzKCkpCiAgICAgICAgemYud3JpdGVzdHIoImxyc19jbGllbnQuanMiLCBnZXRfbHJzX2NsaWVudF9qcygpKQogICAgICAgIHpmLndyaXRlc3RyKCJtYWluLmpzIiwgZ2V0X21haW5fanMoKSkKCiAgICAgICAgIyBBZGQgY29uZmlnLmpzIHdpdGggdGhlIGFjdHVhbCBjb25maWd1cmF0aW9uCiAgICAgICAgY29uZmlnX2pzID0gZiJjb25zdCBDT05GSUcgPSB7anNvbi5kdW1wcyhjb25maWcsIGluZGVudD0yKX07IgogICAgICAgIHpmLndyaXRlc3RyKCJjb25maWcuanMiLCBjb25maWdfanMpCgogICAgcmV0dXJuIG91dHB1dF9maWxlCgoKZGVmIGJ1bGtfZ2VuZXJhdGVfc2Nvcm1fcGFja2FnZXMoCiAgICBjb3Vyc2Vfc2t1OiBzdHIsCiAgICBscnNfZW5kcG9pbnQ6IHN0ciwKICAgIGxyc19hdXRoX3Rva2VuOiBzdHIsCiAgICBwYXNzaW5nX3Njb3JlOiBmbG9hdCA9IDAuNywKICAgIGdyYWRlX3N0cmF0ZWd5OiBzdHIgPSAiYmVzdCIsCiAgICBvdXRwdXRfZGlyOiBPcHRpb25hbFtzdHJdID0gTm9uZQopIC0+IExpc3RbUGF0aF06CiAgICAiIiIKICAgIEdlbmVyYXRlIFNDT1JNIHBhY2thZ2VzIGZvciBhbGwgbGFicyBpbiBhIGNvdXJzZS4KCiAgICBBcmdzOgogICAgICAgIGNvdXJzZV9za3U6IENvdXJzZSBTS1UgdG8gZmlsdGVyIGxhYnMgKGUuZy4sICJyaDEyNCIpCiAgICAgICAgbHJzX2VuZHBvaW50OiBMUlMgZW5kcG9pbnQgVVJMCiAgICAgICAgbHJzX2F1dGhfdG9rZW46IEJhc2U2NC1lbmNvZGVkIExSUyBjcmVkZW50aWFscwogICAgICAgIHBhc3Npbmdfc2NvcmU6IE1pbmltdW0gc2NvcmUgdG8gcGFzcyAoMC4wLTEuMCkKICAgICAgICBncmFkZV9zdHJhdGVneTogR3JhZGUgY2FsY3VsYXRpb24gc3RyYXRlZ3kKICAgICAgICBvdXRwdXRfZGlyOiBPcHRpb25hbCBvdXRwdXQgZGlyZWN0b3J5IHBhdGgKCiAgICBSZXR1cm5zOgogICAgICAgIExpc3Qgb2YgcGF0aHMgdG8gZ2VuZXJhdGVkIFNDT1JNIHBhY2thZ2VzCiAgICAiIiIKICAgICMgR2V0IGFsbCBsYWJzIGZvciB0aGUgY291cnNlCiAgICBsYWJzID0gbG9hZF9sYWJfZGVmaW5pdGlvbnMoY291cnNlX2ZpbHRlcj1jb3Vyc2Vfc2t1KQoKICAgIGlmIG5vdCBsYWJzOgogICAgICAgIHByaW50KGYiTm8gbGFicyBmb3VuZCBmb3IgY291cnNlOiB7Y291cnNlX3NrdX0iKQogICAgICAgIHJldHVybiBbXQoKICAgICMgRGV0ZXJtaW5lIG91dHB1dCBkaXJlY3RvcnkKICAgIGlmIG91dHB1dF9kaXI6CiAgICAgICAgb3V0X3BhdGggPSBQYXRoKG91dHB1dF9kaXIpCiAgICBlbHNlOgogICAgICAgIG91dF9wYXRoID0gT1VUUFVUX0RJUiAvIGNvdXJzZV9za3UubG93ZXIoKQoKICAgIG91dF9wYXRoLm1rZGlyKHBhcmVudHM9VHJ1ZSwgZXhpc3Rfb2s9VHJ1ZSkKCiAgICBwcmludChmIlxuR2VuZXJhdGluZyBTQ09STSBwYWNrYWdlcyBmb3Ige2NvdXJzZV9za3UudXBwZXIoKX0uLi4iKQogICAgcHJpbnQoZiJPdXRwdXQgZGlyZWN0b3J5OiB7b3V0X3BhdGh9IikKICAgIHByaW50KGYiRm91bmQge2xlbihsYWJzKX0gbGFic1xuIikKCiAgICBnZW5lcmF0ZWQgPSBbXQogICAgZmFpbGVkID0gW10KCiAgICBmb3IgaSwgbGFiIGluIGVudW1lcmF0ZShzb3J0ZWQobGFicywga2V5PWxhbWJkYSB4OiB4WydzbHVnJ10pLCAxKToKICAgICAgICBzbHVnID0gbGFiWydzbHVnJ10KICAgICAgICBuYW1lID0gbGFiWyduYW1lJ10KICAgICAgICB0b3RhbF9wb2ludHMgPSBsYWJbJ3RvdGFsX3BvaW50cyddCgogICAgICAgIHByaW50KGYiICBbe2l9L3tsZW4obGFicyl9XSB7c2x1Z30uLi4iLCBlbmQ9IiAiLCBmbHVzaD1UcnVlKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIG91dHB1dF9maWxlID0gb3V0X3BhdGggLyBmInNjb3JtX3tjb3Vyc2Vfc2t1fV97c2x1Z30uemlwIgogICAgICAgICAgICBnZW5lcmF0ZV9zY29ybV9wYWNrYWdlKAogICAgICAgICAgICAgICAgbGFiX3NsdWc9c2x1ZywKICAgICAgICAgICAgICAgIGxhYl9uYW1lPW5hbWUsCiAgICAgICAgICAgICAgICBjb3Vyc2Vfc2t1PWNvdXJzZV9za3UsCiAgICAgICAgICAgICAgICBscnNfZW5kcG9pbnQ9bHJzX2VuZHBvaW50LAogICAgICAgICAgICAgICAgbHJzX2F1dGhfdG9rZW49bHJzX2F1dGhfdG9rZW4sCiAgICAgICAgICAgICAgICBwYXNzaW5nX3Njb3JlPXBhc3Npbmdfc2NvcmUsCiAgICAgICAgICAgICAgICBncmFkZV9zdHJhdGVneT1ncmFkZV9zdHJhdGVneSwKICAgICAgICAgICAgICAgIHRvdGFsX3BvaW50cz10b3RhbF9wb2ludHMsCiAgICAgICAgICAgICAgICBvdXRwdXRfcGF0aD1zdHIob3V0cHV0X2ZpbGUpCiAgICAgICAgICAgICkKICAgICAgICAgICAgZ2VuZXJhdGVkLmFwcGVuZChvdXRwdXRfZmlsZSkKICAgICAgICAgICAgcHJpbnQoIk9LIikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIGZhaWxlZC5hcHBlbmQoKHNsdWcsIHN0cihlKSkpCiAgICAgICAgICAgIHByaW50KGYiRkFJTEVEOiB7ZX0iKQoKICAgICMgU3VtbWFyeQogICAgcHJpbnQoZiJcbnsnPScgKiA1MH0iKQogICAgcHJpbnQoZiJCdWxrIGdlbmVyYXRpb24gY29tcGxldGUhIikKICAgIHByaW50KGYiICBHZW5lcmF0ZWQ6IHtsZW4oZ2VuZXJhdGVkKX0gcGFja2FnZXMiKQogICAgaWYgZmFpbGVkOgogICAgICAgIHByaW50KGYiICBGYWlsZWQ6IHtsZW4oZmFpbGVkKX0gcGFja2FnZXMiKQogICAgICAgIGZvciBzbHVnLCBlcnJvciBpbiBmYWlsZWQ6CiAgICAgICAgICAgIHByaW50KGYiICAgIC0ge3NsdWd9OiB7ZXJyb3J9IikKICAgIHByaW50KGYiXG5PdXRwdXQgZGlyZWN0b3J5OiB7b3V0X3BhdGh9IikKCiAgICByZXR1cm4gZ2VuZXJhdGVkCgoKZGVmIGludGVyYWN0aXZlX2dlbmVyYXRvcigpOgogICAgIiIiSW50ZXJhY3RpdmUgbW9kZSBmb3IgZ2VuZXJhdGluZyBTQ09STSBwYWNrYWdlcy4iIiIKICAgIHByaW50KCJcbiIgKyAiPSIgKiA2MCkKICAgIHByaW50KCIgIFNDT1JNIFBhY2thZ2UgR2VuZXJhdG9yIGZvciBMYWIgeEFQSSBJbnRlZ3JhdGlvbiIpCiAgICBwcmludCgiPSIgKiA2MCArICJcbiIpCgogICAgIyBMb2FkIGF2YWlsYWJsZSBsYWJzCiAgICBsYWJzID0gbG9hZF9sYWJfZGVmaW5pdGlvbnMoKQoKICAgIGlmIGxhYnM6CiAgICAgICAgcHJpbnQoIkF2YWlsYWJsZSBsYWJzOlxuIikKICAgICAgICBmb3IgaSwgbGFiIGluIGVudW1lcmF0ZShsYWJzLCAxKToKICAgICAgICAgICAgcHJpbnQoZiIgIHtpOjN9LiBbe2xhYlsnY291cnNlJ10udXBwZXIoKTo2fV0ge2xhYlsnbmFtZSddfSIpCiAgICAgICAgICAgIHByaW50KGYiICAgICAgIFNsdWc6IHtsYWJbJ3NsdWcnXX0sIFRhc2tzOiB7bGFiWyd0YXNrcyddfSwgUG9pbnRzOiB7bGFiWyd0b3RhbF9wb2ludHMnXX0iKQogICAgICAgIHByaW50KCkKCiAgICAgICAgIyBTZWxlY3QgbGFiIG9yIGVudGVyIGN1c3RvbQogICAgICAgIHNlbGVjdGlvbiA9IGlucHV0KCJFbnRlciBsYWIgbnVtYmVyIChvciAnYycgZm9yIGN1c3RvbSk6ICIpLnN0cmlwKCkKCiAgICAgICAgaWYgc2VsZWN0aW9uLmxvd2VyKCkgPT0gJ2MnOgogICAgICAgICAgICBsYWJfc2x1ZyA9IGlucHV0KCJMYWIgc2x1ZzogIikuc3RyaXAoKQogICAgICAgICAgICBsYWJfbmFtZSA9IGlucHV0KCJMYWIgbmFtZTogIikuc3RyaXAoKQogICAgICAgICAgICBjb3Vyc2Vfc2t1ID0gaW5wdXQoIkNvdXJzZSBTS1UgKGUuZy4sIHJoMTI0KTogIikuc3RyaXAoKQogICAgICAgICAgICB0b3RhbF9wb2ludHMgPSBpbnQoaW5wdXQoIlRvdGFsIHBvaW50cyBbMTAwXTogIikuc3RyaXAoKSBvciAiMTAwIikKICAgICAgICBlbHNlOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBpZHggPSBpbnQoc2VsZWN0aW9uKSAtIDEKICAgICAgICAgICAgICAgIHNlbGVjdGVkX2xhYiA9IGxhYnNbaWR4XQogICAgICAgICAgICAgICAgbGFiX3NsdWcgPSBzZWxlY3RlZF9sYWJbJ3NsdWcnXQogICAgICAgICAgICAgICAgbGFiX25hbWUgPSBzZWxlY3RlZF9sYWJbJ25hbWUnXQogICAgICAgICAgICAgICAgY291cnNlX3NrdSA9IHNlbGVjdGVkX2xhYlsnY291cnNlJ10KICAgICAgICAgICAgICAgIHRvdGFsX3BvaW50cyA9IHNlbGVjdGVkX2xhYlsndG90YWxfcG9pbnRzJ10KICAgICAgICAgICAgICAgIHByaW50KGYiXG5TZWxlY3RlZDoge2xhYl9uYW1lfSIpCiAgICAgICAgICAgIGV4Y2VwdCAoVmFsdWVFcnJvciwgSW5kZXhFcnJvcik6CiAgICAgICAgICAgICAgICBwcmludCgiSW52YWxpZCBzZWxlY3Rpb24uIEV4aXRpbmcuIikKICAgICAgICAgICAgICAgIHJldHVybgogICAgZWxzZToKICAgICAgICBwcmludCgiTm8gbGFiIGRlZmluaXRpb25zIGZvdW5kLiBFbnRlciBjdXN0b20gdmFsdWVzOlxuIikKICAgICAgICBsYWJfc2x1ZyA9IGlucHV0KCJMYWIgc2x1ZzogIikuc3RyaXAoKQogICAgICAgIGxhYl9uYW1lID0gaW5wdXQoIkxhYiBuYW1lOiAiKS5zdHJpcCgpCiAgICAgICAgY291cnNlX3NrdSA9IGlucHV0KCJDb3Vyc2UgU0tVIChlLmcuLCByaDEyNCk6ICIpLnN0cmlwKCkKICAgICAgICB0b3RhbF9wb2ludHMgPSBpbnQoaW5wdXQoIlRvdGFsIHBvaW50cyBbMTAwXTogIikuc3RyaXAoKSBvciAiMTAwIikKCiAgICAjIExSUyBDb25maWd1cmF0aW9uCiAgICBwcmludCgiXG5MUlMgQ29uZmlndXJhdGlvbjoiKQogICAgbHJzX2VuZHBvaW50ID0gaW5wdXQoZiJMUlMgZW5kcG9pbnQgW3tERUZBVUxUX0xSU19FTkRQT0lOVH1dOiAiKS5zdHJpcCgpCiAgICBpZiBub3QgbHJzX2VuZHBvaW50OgogICAgICAgIGxyc19lbmRwb2ludCA9IERFRkFVTFRfTFJTX0VORFBPSU5UCgogICAgbHJzX2F1dGhfdG9rZW4gPSBpbnB1dCgiTFJTIGF1dGggdG9rZW4gKGJhc2U2NCk6ICIpLnN0cmlwKCkKICAgIGlmIG5vdCBscnNfYXV0aF90b2tlbjoKICAgICAgICAjIFRyeSB0byBsb2FkIGZyb20gY29uZmlnCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmcm9tIGNvbmZpZyBpbXBvcnQgbG9hZF9jb25maWcKICAgICAgICAgICAgY2ZnID0gbG9hZF9jb25maWcoKQogICAgICAgICAgICBscnNfYXV0aF90b2tlbiA9IGNmZy5nZXQoJ2xyc19hdXRoX3Rva2VuJywgJycpCiAgICAgICAgICAgIGlmIGxyc19hdXRoX3Rva2VuOgogICAgICAgICAgICAgICAgcHJpbnQoIiAgKFVzaW5nIHRva2VuIGZyb20gY29uZmlnKSIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcGFzcwoKICAgIGlmIG5vdCBscnNfYXV0aF90b2tlbjoKICAgICAgICBwcmludCgiV2FybmluZzogTm8gTFJTIGF1dGggdG9rZW4gcHJvdmlkZWQuIFBhY2thZ2Ugd2lsbCBub3QgYmUgYWJsZSB0byBmZXRjaCBncmFkZXMuIikKCiAgICAjIEdyYWRpbmcgb3B0aW9ucwogICAgcHJpbnQoIlxuR3JhZGluZyBPcHRpb25zOiIpCiAgICBwYXNzaW5nX3Njb3JlX3N0ciA9IGlucHV0KCJQYXNzaW5nIHNjb3JlIHBlcmNlbnRhZ2UgWzcwXTogIikuc3RyaXAoKQogICAgcGFzc2luZ19zY29yZSA9IGZsb2F0KHBhc3Npbmdfc2NvcmVfc3RyKSAvIDEwMCBpZiBwYXNzaW5nX3Njb3JlX3N0ciBlbHNlIDAuNwoKICAgIHByaW50KCJHcmFkZSBzdHJhdGVneSBvcHRpb25zOiBiZXN0LCBsYXRlc3QsIGF2ZXJhZ2UiKQogICAgZ3JhZGVfc3RyYXRlZ3kgPSBpbnB1dCgiR3JhZGUgc3RyYXRlZ3kgW2Jlc3RdOiAiKS5zdHJpcCgpIG9yICJiZXN0IgoKICAgICMgR2VuZXJhdGUgcGFja2FnZQogICAgcHJpbnQoIlxuR2VuZXJhdGluZyBTQ09STSBwYWNrYWdlLi4uIikKCiAgICBvdXRwdXRfcGF0aCA9IGdlbmVyYXRlX3Njb3JtX3BhY2thZ2UoCiAgICAgICAgbGFiX3NsdWc9bGFiX3NsdWcsCiAgICAgICAgbGFiX25hbWU9bGFiX25hbWUsCiAgICAgICAgY291cnNlX3NrdT1jb3Vyc2Vfc2t1LAogICAgICAgIGxyc19lbmRwb2ludD1scnNfZW5kcG9pbnQsCiAgICAgICAgbHJzX2F1dGhfdG9rZW49bHJzX2F1dGhfdG9rZW4sCiAgICAgICAgcGFzc2luZ19zY29yZT1wYXNzaW5nX3Njb3JlLAogICAgICAgIGdyYWRlX3N0cmF0ZWd5PWdyYWRlX3N0cmF0ZWd5LAogICAgICAgIHRvdGFsX3BvaW50cz10b3RhbF9wb2ludHMKICAgICkKCiAgICBwcmludChmIlxuU0NPUk0gcGFja2FnZSBjcmVhdGVkOiB7b3V0cHV0X3BhdGh9IikKICAgIHByaW50KCJcblVwbG9hZCB0aGlzIFpJUCBmaWxlIHRvIHlvdXIgTE1TIGFzIGEgU0NPUk0gMS4yIHBhY2thZ2UuIikKICAgIHByaW50KCJTdHVkZW50cyB3aWxsIHNlZSB0aGVpciBsYWIgZ3JhZGVzIHdoZW4gdGhleSBvcGVuIHRoZSBjb250ZW50LiIpCgoKZGVmIG1haW4oKToKICAgICIiIkNvbW1hbmQtbGluZSBpbnRlcmZhY2UuIiIiCiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcigKICAgICAgICBkZXNjcmlwdGlvbj0iR2VuZXJhdGUgU0NPUk0gcGFja2FnZXMgZm9yIExhYiB4QVBJIGdyYWRlIHBhc3NiYWNrIiwKICAgICAgICBmb3JtYXR0ZXJfY2xhc3M9YXJncGFyc2UuUmF3RGVzY3JpcHRpb25IZWxwRm9ybWF0dGVyLAogICAgICAgIGVwaWxvZz0iIiIKRXhhbXBsZXM6CiAgIyBJbnRlcmFjdGl2ZSBtb2RlCiAgcHl0aG9uIHNjb3JtX3BhY2thZ2VfZ2VuZXJhdG9yLnB5CgogICMgQ29tbWFuZC1saW5lIG1vZGUKICBweXRob24gc2Nvcm1fcGFja2FnZV9nZW5lcmF0b3IucHkgLS1zbHVnIHVzZXJzLW1hbmFnZSAtLW5hbWUgIk1hbmFnZSBVc2VycyBMYWIiIFxcCiAgICAgIC0tY291cnNlIHJoMTI0IC0tbHJzLWVuZHBvaW50IGh0dHBzOi8vbHJzLmV4YW1wbGUuY29tL3hhcGkgXFwKICAgICAgLS1scnMtdG9rZW4gPGJhc2U2NF90b2tlbj4gLS1wYXNzaW5nLXNjb3JlIDcwCgogICMgTGlzdCBhdmFpbGFibGUgbGFicwogIHB5dGhvbiBzY29ybV9wYWNrYWdlX2dlbmVyYXRvci5weSAtLWxpc3QKCiAgIyBMaXN0IGF2YWlsYWJsZSBjb3Vyc2VzCiAgcHl0aG9uIHNjb3JtX3BhY2thZ2VfZ2VuZXJhdG9yLnB5IC0tY291cnNlcwoKICAjIEJ1bGsgZ2VuZXJhdGUgYWxsIGxhYnMgZm9yIGEgY291cnNlCiAgcHl0aG9uIHNjb3JtX3BhY2thZ2VfZ2VuZXJhdG9yLnB5IC0tYnVsayByaDEyNAogIHB5dGhvbiBzY29ybV9wYWNrYWdlX2dlbmVyYXRvci5weSAtLWJ1bGsgcmgxMzQgLS1wYXNzaW5nLXNjb3JlIDgwIC0tb3V0cHV0IC4vcGFja2FnZXMKIiIiCiAgICApCgogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1saXN0IiwgYWN0aW9uPSJzdG9yZV90cnVlIiwKICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJMaXN0IGF2YWlsYWJsZSBsYWIgZGVmaW5pdGlvbnMiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1jb3Vyc2VzIiwgYWN0aW9uPSJzdG9yZV90cnVlIiwKICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJMaXN0IGF2YWlsYWJsZSBjb3Vyc2VzIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tYnVsayIsIG1ldGF2YXI9IkNPVVJTRSIsCiAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iQnVsayBnZW5lcmF0ZSBTQ09STSBwYWNrYWdlcyBmb3IgYWxsIGxhYnMgaW4gYSBjb3Vyc2UiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1zbHVnIiwgaGVscD0iTGFiIHNsdWcgaWRlbnRpZmllciIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLW5hbWUiLCBoZWxwPSJIdW1hbi1yZWFkYWJsZSBsYWIgbmFtZSIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLWNvdXJzZSIsIGRlZmF1bHQ9InJoMTI0IiwgaGVscD0iQ291cnNlIFNLVSAoZGVmYXVsdDogcmgxMjQpIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tbHJzLWVuZHBvaW50IiwgZGVmYXVsdD1ERUZBVUxUX0xSU19FTkRQT0lOVCwKICAgICAgICAgICAgICAgICAgICAgICBoZWxwPWYiTFJTIGVuZHBvaW50IFVSTCAoZGVmYXVsdDoge0RFRkFVTFRfTFJTX0VORFBPSU5UfSkiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1scnMtdG9rZW4iLCBoZWxwPSJCYXNlNjQtZW5jb2RlZCBMUlMgYXV0aCB0b2tlbiIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXBhc3Npbmctc2NvcmUiLCB0eXBlPWludCwgZGVmYXVsdD03MCwKICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSJQYXNzaW5nIHNjb3JlIHBlcmNlbnRhZ2UgKGRlZmF1bHQ6IDcwKSIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXN0cmF0ZWd5IiwgY2hvaWNlcz1bImJlc3QiLCAibGF0ZXN0IiwgImF2ZXJhZ2UiXSwgZGVmYXVsdD0iYmVzdCIsCiAgICAgICAgICAgICAgICAgICAgICAgaGVscD0iR3JhZGUgY2FsY3VsYXRpb24gc3RyYXRlZ3kgKGRlZmF1bHQ6IGJlc3QpIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tcG9pbnRzIiwgdHlwZT1pbnQsIGRlZmF1bHQ9MTAwLAogICAgICAgICAgICAgICAgICAgICAgIGhlbHA9IlRvdGFsIHBvc3NpYmxlIHBvaW50cyAoZGVmYXVsdDogMTAwKSIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLW91dHB1dCIsICItbyIsIGhlbHA9Ik91dHB1dCBmaWxlL2RpcmVjdG9yeSBwYXRoIikKCiAgICBhcmdzID0gcGFyc2VyLnBhcnNlX2FyZ3MoKQoKICAgICMgTGlzdCBhdmFpbGFibGUgY291cnNlcwogICAgaWYgYXJncy5jb3Vyc2VzOgogICAgICAgIGNvdXJzZXMgPSBnZXRfYXZhaWxhYmxlX2NvdXJzZXMoKQogICAgICAgIGlmIG5vdCBjb3Vyc2VzOgogICAgICAgICAgICBwcmludCgiTm8gY291cnNlcyBmb3VuZC4iKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgcHJpbnQoZiJcbkF2YWlsYWJsZSBjb3Vyc2VzICh7bGVuKGNvdXJzZXMpfSB0b3RhbCk6XG4iKQogICAgICAgIGZvciBjb3Vyc2UgaW4gY291cnNlczoKICAgICAgICAgICAgbGFiX2NvdW50ID0gbGVuKGxvYWRfbGFiX2RlZmluaXRpb25zKGNvdXJzZV9maWx0ZXI9Y291cnNlKSkKICAgICAgICAgICAgcHJpbnQoZiIgIHtjb3Vyc2UudXBwZXIoKToxMH0gKHtsYWJfY291bnR9IGxhYnMpIikKICAgICAgICBwcmludCgiXG5Vc2UgLS1idWxrIDxjb3Vyc2U+IHRvIGdlbmVyYXRlIFNDT1JNIHBhY2thZ2VzIGZvciBhbGwgbGFicyBpbiBhIGNvdXJzZS4iKQogICAgICAgIHJldHVybgoKICAgICMgTGlzdCBhdmFpbGFibGUgbGFicwogICAgaWYgYXJncy5saXN0OgogICAgICAgIGxhYnMgPSBsb2FkX2xhYl9kZWZpbml0aW9ucygpCiAgICAgICAgaWYgbm90IGxhYnM6CiAgICAgICAgICAgIHByaW50KCJObyBsYWIgZGVmaW5pdGlvbnMgZm91bmQuIikKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHByaW50KGYiXG5BdmFpbGFibGUgbGFicyAoe2xlbihsYWJzKX0gdG90YWwpOlxuIikKICAgICAgICBjdXJyZW50X2NvdXJzZSA9IE5vbmUKICAgICAgICBmb3IgbGFiIGluIHNvcnRlZChsYWJzLCBrZXk9bGFtYmRhIHg6ICh4Wydjb3Vyc2UnXSwgeFsnc2x1ZyddKSk6CiAgICAgICAgICAgIGlmIGxhYlsnY291cnNlJ10gIT0gY3VycmVudF9jb3Vyc2U6CiAgICAgICAgICAgICAgICBjdXJyZW50X2NvdXJzZSA9IGxhYlsnY291cnNlJ10KICAgICAgICAgICAgICAgIHByaW50KGYiXG4gIHtjdXJyZW50X2NvdXJzZS51cHBlcigpfToiKQogICAgICAgICAgICBzb3VyY2VfbWFya2VyID0gIioiIGlmIGxhYi5nZXQoJ3NvdXJjZScpID09ICd1c2VyJyBlbHNlICIiCiAgICAgICAgICAgIHByaW50KGYiICAgIC0ge2xhYlsnc2x1ZyddfToge2xhYlsnbmFtZSddfSAoe2xhYlsndGFza3MnXX0gdGFza3Mpe3NvdXJjZV9tYXJrZXJ9IikKICAgICAgICBwcmludCgiXG4gICogPSB1c2VyLWRlZmluZWQgbGFiIikKICAgICAgICByZXR1cm4KCiAgICAjIEJ1bGsgZ2VuZXJhdGUgZm9yIGEgY291cnNlCiAgICBpZiBhcmdzLmJ1bGs6CiAgICAgICAgbHJzX3Rva2VuID0gYXJncy5scnNfdG9rZW4KICAgICAgICBpZiBub3QgbHJzX3Rva2VuOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBmcm9tIGNvbmZpZyBpbXBvcnQgbG9hZF9jb25maWcKICAgICAgICAgICAgICAgIGNmZyA9IGxvYWRfY29uZmlnKCkKICAgICAgICAgICAgICAgIGxyc190b2tlbiA9IGNmZy5nZXQoJ2xyc19hdXRoX3Rva2VuJywgJycpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICBwYXNzCgogICAgICAgIGJ1bGtfZ2VuZXJhdGVfc2Nvcm1fcGFja2FnZXMoCiAgICAgICAgICAgIGNvdXJzZV9za3U9YXJncy5idWxrLAogICAgICAgICAgICBscnNfZW5kcG9pbnQ9YXJncy5scnNfZW5kcG9pbnQsCiAgICAgICAgICAgIGxyc19hdXRoX3Rva2VuPWxyc190b2tlbiBvciAiIiwKICAgICAgICAgICAgcGFzc2luZ19zY29yZT1hcmdzLnBhc3Npbmdfc2NvcmUgLyAxMDAsCiAgICAgICAgICAgIGdyYWRlX3N0cmF0ZWd5PWFyZ3Muc3RyYXRlZ3ksCiAgICAgICAgICAgIG91dHB1dF9kaXI9YXJncy5vdXRwdXQKICAgICAgICApCiAgICAgICAgcmV0dXJuCgogICAgIyBTaW5nbGUgcGFja2FnZSBnZW5lcmF0aW9uCiAgICBpZiBhcmdzLnNsdWcgYW5kIGFyZ3MubmFtZToKICAgICAgICAjIENvbW1hbmQtbGluZSBtb2RlCiAgICAgICAgbHJzX3Rva2VuID0gYXJncy5scnNfdG9rZW4KICAgICAgICBpZiBub3QgbHJzX3Rva2VuOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBmcm9tIGNvbmZpZyBpbXBvcnQgbG9hZF9jb25maWcKICAgICAgICAgICAgICAgIGNmZyA9IGxvYWRfY29uZmlnKCkKICAgICAgICAgICAgICAgIGxyc190b2tlbiA9IGNmZy5nZXQoJ2xyc19hdXRoX3Rva2VuJywgJycpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICBwYXNzCgogICAgICAgIG91dHB1dF9wYXRoID0gZ2VuZXJhdGVfc2Nvcm1fcGFja2FnZSgKICAgICAgICAgICAgbGFiX3NsdWc9YXJncy5zbHVnLAogICAgICAgICAgICBsYWJfbmFtZT1hcmdzLm5hbWUsCiAgICAgICAgICAgIGNvdXJzZV9za3U9YXJncy5jb3Vyc2UsCiAgICAgICAgICAgIGxyc19lbmRwb2ludD1hcmdzLmxyc19lbmRwb2ludCwKICAgICAgICAgICAgbHJzX2F1dGhfdG9rZW49bHJzX3Rva2VuIG9yICIiLAogICAgICAgICAgICBwYXNzaW5nX3Njb3JlPWFyZ3MucGFzc2luZ19zY29yZSAvIDEwMCwKICAgICAgICAgICAgZ3JhZGVfc3RyYXRlZ3k9YXJncy5zdHJhdGVneSwKICAgICAgICAgICAgdG90YWxfcG9pbnRzPWFyZ3MucG9pbnRzLAogICAgICAgICAgICBvdXRwdXRfcGF0aD1hcmdzLm91dHB1dAogICAgICAgICkKICAgICAgICBwcmludChmIlNDT1JNIHBhY2thZ2UgY3JlYXRlZDoge291dHB1dF9wYXRofSIpCiAgICBlbHNlOgogICAgICAgICMgSW50ZXJhY3RpdmUgbW9kZQogICAgICAgIGludGVyYWN0aXZlX2dlbmVyYXRvcigpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQpTQ09STV9QQUNLQUdFX0dFTkVSQVRPUl9FT0YKCiAgICAjIENyZWF0ZSB1cGRhdGVfY2hlY2tlci5weQogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi91cGRhdGVfY2hlY2tlci5weSIgPDwgJ1VQREFURV9DSEVDS0VSX1BZX0VPRicKIyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiIKdXBkYXRlX2NoZWNrZXIucHkgLSBBdXRvLXVwZGF0ZSBmdW5jdGlvbmFsaXR5IGZvciBsYWIteGFwaQoKQ2hlY2tzIGEgR2l0SHViIHJlcG9zaXRvcnkgZm9yIG5ld2VyIHZlcnNpb25zIGFuZCBvcHRpb25hbGx5CnVwZGF0ZXMgdGhlIGxvY2FsIGluc3RhbGxhdGlvbiBhdXRvbWF0aWNhbGx5LgoiIiIKCmltcG9ydCBvcwppbXBvcnQgc3lzCmltcG9ydCBqc29uCmltcG9ydCBoYXNobGliCmltcG9ydCB0ZW1wZmlsZQppbXBvcnQgc2h1dGlsCmltcG9ydCBzdWJwcm9jZXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbCwgVHVwbGUsIERpY3QsIEFueQoKIyBDb25maWd1cmF0aW9uCkRFRkFVTFRfVVBEQVRFX1JFUE8gPSAiZnJhemllci1hdC1jcGNjL2xhYi14YXBpLWRpc3QiICAjIFB1YmxpYyBkaXN0cmlidXRpb24gcmVwbwpERUZBVUxUX0JSQU5DSCA9ICJtYWluIgpVUERBVEVfQ0hFQ0tfSU5URVJWQUxfSE9VUlMgPSAxICAjIENoZWNrIGF0IG1vc3Qgb25jZSBwZXIgaG91cgpWRVJTSU9OX0ZJTEUgPSAidmVyc2lvbi5qc29uIgpJTlNUQUxMRVJfRklMRSA9ICJzZXR1cC1sYWIteGFwaS5zaCIKCiMgUGF0aHMKQ09ORklHX0RJUiA9IFBhdGguaG9tZSgpIC8gIi5jb25maWciIC8gImxhYi14YXBpIgpJTlNUQUxMX0RJUiA9IFBhdGguaG9tZSgpIC8gIi5sb2NhbCIgLyAic2hhcmUiIC8gImxhYi14YXBpIgpVUERBVEVfU1RBVEVfRklMRSA9IENPTkZJR19ESVIgLyAidXBkYXRlX3N0YXRlLmpzb24iCgoKZGVmIGdldF9sb2NhbF92ZXJzaW9uKCkgLT4gT3B0aW9uYWxbc3RyXToKICAgICIiIkdldCB0aGUgY3VycmVudGx5IGluc3RhbGxlZCB2ZXJzaW9uLiIiIgogICAgdmVyc2lvbl9wYXRoID0gSU5TVEFMTF9ESVIgLyAidmVyc2lvbi5qc29uIgogICAgaWYgdmVyc2lvbl9wYXRoLmV4aXN0cygpOgogICAgICAgIHRyeToKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCkgYXMgZjoKICAgICAgICAgICAgICAgIGRhdGEgPSBqc29uLmxvYWQoZikKICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmdldCgidmVyc2lvbiIpCiAgICAgICAgZXhjZXB0IChqc29uLkpTT05EZWNvZGVFcnJvciwgSU9FcnJvcik6CiAgICAgICAgICAgIHBhc3MKCiAgICAjIEZhbGxiYWNrOiBjaGVjayBmb3IgdmVyc2lvbiBpbiBsYWJfd3JhcHBlci5weQogICAgd3JhcHBlcl9wYXRoID0gSU5TVEFMTF9ESVIgLyAibGFiX3dyYXBwZXIucHkiCiAgICBpZiB3cmFwcGVyX3BhdGguZXhpc3RzKCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aXRoIG9wZW4od3JhcHBlcl9wYXRoKSBhcyBmOgogICAgICAgICAgICAgICAgZm9yIGxpbmUgaW4gZjoKICAgICAgICAgICAgICAgICAgICBpZiBsaW5lLnN0YXJ0c3dpdGgoIl9fdmVyc2lvbl9fIik6CiAgICAgICAgICAgICAgICAgICAgICAgICMgRXh0cmFjdCB2ZXJzaW9uIGZyb20gX192ZXJzaW9uX18gPSAieC55LnoiCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5lLnNwbGl0KCI9IilbMV0uc3RyaXAoKS5zdHJpcCgnIlwnJykKICAgICAgICBleGNlcHQgSU9FcnJvcjoKICAgICAgICAgICAgcGFzcwoKICAgIHJldHVybiBOb25lCgoKZGVmIGdldF91cGRhdGVfc3RhdGUoKSAtPiBEaWN0W3N0ciwgQW55XToKICAgICIiIkxvYWQgdGhlIHVwZGF0ZSBzdGF0ZSAobGFzdCBjaGVjayB0aW1lLCBldGMuKS4iIiIKICAgIGlmIFVQREFURV9TVEFURV9GSUxFLmV4aXN0cygpOgogICAgICAgIHRyeToKICAgICAgICAgICAgd2l0aCBvcGVuKFVQREFURV9TVEFURV9GSUxFKSBhcyBmOgogICAgICAgICAgICAgICAgcmV0dXJuIGpzb24ubG9hZChmKQogICAgICAgIGV4Y2VwdCAoanNvbi5KU09ORGVjb2RlRXJyb3IsIElPRXJyb3IpOgogICAgICAgICAgICBwYXNzCiAgICByZXR1cm4ge30KCgpkZWYgc2F2ZV91cGRhdGVfc3RhdGUoc3RhdGU6IERpY3Rbc3RyLCBBbnldKSAtPiBOb25lOgogICAgIiIiU2F2ZSB0aGUgdXBkYXRlIHN0YXRlLiIiIgogICAgQ09ORklHX0RJUi5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKFVQREFURV9TVEFURV9GSUxFLCAidyIpIGFzIGY6CiAgICAgICAgICAgIGpzb24uZHVtcChzdGF0ZSwgZiwgaW5kZW50PTIpCiAgICBleGNlcHQgSU9FcnJvciBhcyBlOgogICAgICAgIHByaW50KGYiV2FybmluZzogQ291bGQgbm90IHNhdmUgdXBkYXRlIHN0YXRlOiB7ZX0iLCBmaWxlPXN5cy5zdGRlcnIpCgoKZGVmIHNob3VsZF9jaGVja19mb3JfdXBkYXRlcyhmb3JjZTogYm9vbCA9IEZhbHNlKSAtPiBib29sOgogICAgIiIiRGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBjaGVjayBmb3IgdXBkYXRlcyBiYXNlZCBvbiBpbnRlcnZhbC4iIiIKICAgIGlmIGZvcmNlOgogICAgICAgIHJldHVybiBUcnVlCgogICAgc3RhdGUgPSBnZXRfdXBkYXRlX3N0YXRlKCkKICAgIGxhc3RfY2hlY2sgPSBzdGF0ZS5nZXQoImxhc3RfY2hlY2siKQoKICAgIGlmIG5vdCBsYXN0X2NoZWNrOgogICAgICAgIHJldHVybiBUcnVlCgogICAgdHJ5OgogICAgICAgIGxhc3RfY2hlY2tfdGltZSA9IGRhdGV0aW1lLmZyb21pc29mb3JtYXQobGFzdF9jaGVjaykKICAgICAgICBpZiBkYXRldGltZS5ub3coKSAtIGxhc3RfY2hlY2tfdGltZSA+IHRpbWVkZWx0YShob3Vycz1VUERBVEVfQ0hFQ0tfSU5URVJWQUxfSE9VUlMpOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgZXhjZXB0IChWYWx1ZUVycm9yLCBUeXBlRXJyb3IpOgogICAgICAgIHJldHVybiBUcnVlCgogICAgcmV0dXJuIEZhbHNlCgoKZGVmIGZldGNoX3JlbW90ZV92ZXJzaW9uKHJlcG86IHN0ciA9IERFRkFVTFRfVVBEQVRFX1JFUE8sIGJyYW5jaDogc3RyID0gREVGQVVMVF9CUkFOQ0gpIC0+IE9wdGlvbmFsW0RpY3Rbc3RyLCBBbnldXToKICAgICIiIkZldGNoIHZlcnNpb24gaW5mbyBmcm9tIHRoZSByZW1vdGUgcmVwb3NpdG9yeS4iIiIKICAgIHRyeToKICAgICAgICBpbXBvcnQgcmVxdWVzdHMKICAgIGV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgICAgICAjIEZhbGwgYmFjayB0byBjdXJsIGlmIHJlcXVlc3RzIG5vdCBhdmFpbGFibGUKICAgICAgICByZXR1cm4gZmV0Y2hfcmVtb3RlX3ZlcnNpb25fY3VybChyZXBvLCBicmFuY2gpCgogICAgdXJsID0gZiJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20ve3JlcG99L3ticmFuY2h9L3tWRVJTSU9OX0ZJTEV9IgoKICAgIHRyeToKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCh1cmwsIHRpbWVvdXQ9NSkKICAgICAgICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcGFzcwoKICAgIHJldHVybiBOb25lCgoKZGVmIGZldGNoX3JlbW90ZV92ZXJzaW9uX2N1cmwocmVwbzogc3RyLCBicmFuY2g6IHN0cikgLT4gT3B0aW9uYWxbRGljdFtzdHIsIEFueV1dOgogICAgIiIiRmV0Y2ggdmVyc2lvbiBpbmZvIHVzaW5nIGN1cmwgYXMgZmFsbGJhY2suIiIiCiAgICB1cmwgPSBmImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS97cmVwb30ve2JyYW5jaH0ve1ZFUlNJT05fRklMRX0iCgogICAgdHJ5OgogICAgICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKAogICAgICAgICAgICBbImN1cmwiLCAiLXNTTCIsICItLW1heC10aW1lIiwgIjUiLCB1cmxdLAogICAgICAgICAgICBjYXB0dXJlX291dHB1dD1UcnVlLAogICAgICAgICAgICB0ZXh0PVRydWUKICAgICAgICApCiAgICAgICAgaWYgcmVzdWx0LnJldHVybmNvZGUgPT0gMCBhbmQgcmVzdWx0LnN0ZG91dDoKICAgICAgICAgICAgcmV0dXJuIGpzb24ubG9hZHMocmVzdWx0LnN0ZG91dCkKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcGFzcwoKICAgIHJldHVybiBOb25lCgoKZGVmIGNoZWNrX2Zvcl91cGRhdGVzKAogICAgcmVwbzogc3RyID0gREVGQVVMVF9VUERBVEVfUkVQTywKICAgIGJyYW5jaDogc3RyID0gREVGQVVMVF9CUkFOQ0gsCiAgICBmb3JjZTogYm9vbCA9IEZhbHNlCikgLT4gVHVwbGVbYm9vbCwgT3B0aW9uYWxbc3RyXSwgT3B0aW9uYWxbc3RyXV06CiAgICAiIiIKICAgIENoZWNrIGlmIHVwZGF0ZXMgYXJlIGF2YWlsYWJsZS4KCiAgICBSZXR1cm5zOgogICAgICAgICh1cGRhdGVfYXZhaWxhYmxlLCBsb2NhbF92ZXJzaW9uLCByZW1vdGVfdmVyc2lvbikKICAgICIiIgogICAgaWYgbm90IHNob3VsZF9jaGVja19mb3JfdXBkYXRlcyhmb3JjZSk6CiAgICAgICAgcmV0dXJuIEZhbHNlLCBOb25lLCBOb25lCgogICAgbG9jYWxfdmVyc2lvbiA9IGdldF9sb2NhbF92ZXJzaW9uKCkKICAgIHJlbW90ZV9pbmZvID0gZmV0Y2hfcmVtb3RlX3ZlcnNpb24ocmVwbywgYnJhbmNoKQoKICAgICMgVXBkYXRlIGxhc3QgY2hlY2sgdGltZQogICAgc3RhdGUgPSBnZXRfdXBkYXRlX3N0YXRlKCkKICAgIHN0YXRlWyJsYXN0X2NoZWNrIl0gPSBkYXRldGltZS5ub3coKS5pc29mb3JtYXQoKQogICAgc2F2ZV91cGRhdGVfc3RhdGUoc3RhdGUpCgogICAgaWYgbm90IHJlbW90ZV9pbmZvOgogICAgICAgIHJldHVybiBGYWxzZSwgbG9jYWxfdmVyc2lvbiwgTm9uZQoKICAgIHJlbW90ZV92ZXJzaW9uID0gcmVtb3RlX2luZm8uZ2V0KCJ2ZXJzaW9uIikKCiAgICBpZiBub3QgcmVtb3RlX3ZlcnNpb246CiAgICAgICAgcmV0dXJuIEZhbHNlLCBsb2NhbF92ZXJzaW9uLCBOb25lCgogICAgIyBDb21wYXJlIHZlcnNpb25zCiAgICBpZiBsb2NhbF92ZXJzaW9uICE9IHJlbW90ZV92ZXJzaW9uOgogICAgICAgIHJldHVybiBUcnVlLCBsb2NhbF92ZXJzaW9uLCByZW1vdGVfdmVyc2lvbgoKICAgIHJldHVybiBGYWxzZSwgbG9jYWxfdmVyc2lvbiwgcmVtb3RlX3ZlcnNpb24KCgpkZWYgZG93bmxvYWRfaW5zdGFsbGVyKHJlcG86IHN0ciA9IERFRkFVTFRfVVBEQVRFX1JFUE8sIGJyYW5jaDogc3RyID0gREVGQVVMVF9CUkFOQ0gpIC0+IE9wdGlvbmFsW1BhdGhdOgogICAgIiIiRG93bmxvYWQgdGhlIGluc3RhbGxlciBzY3JpcHQgdG8gYSB0ZW1wb3JhcnkgbG9jYXRpb24uIiIiCiAgICB1cmwgPSBmImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS97cmVwb30ve2JyYW5jaH0ve0lOU1RBTExFUl9GSUxFfSIKCiAgICB0cnk6CiAgICAgICAgaW1wb3J0IHJlcXVlc3RzCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCB0aW1lb3V0PTMwKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgdGVtcF9maWxlID0gUGF0aCh0ZW1wZmlsZS5ta3RlbXAoc3VmZml4PSIuc2giKSkKICAgICAgICAgICAgdGVtcF9maWxlLndyaXRlX3RleHQocmVzcG9uc2UudGV4dCkKICAgICAgICAgICAgdGVtcF9maWxlLmNobW9kKDBvNzU1KQogICAgICAgICAgICByZXR1cm4gdGVtcF9maWxlCiAgICBleGNlcHQgSW1wb3J0RXJyb3I6CiAgICAgICAgIyBGYWxsIGJhY2sgdG8gY3VybAogICAgICAgIHBhc3MKCiAgICAjIGN1cmwgZmFsbGJhY2sKICAgIHRyeToKICAgICAgICB0ZW1wX2ZpbGUgPSBQYXRoKHRlbXBmaWxlLm1rdGVtcChzdWZmaXg9Ii5zaCIpKQogICAgICAgIHJlc3VsdCA9IHN1YnByb2Nlc3MucnVuKAogICAgICAgICAgICBbImN1cmwiLCAiLXNTTCIsICItLW1heC10aW1lIiwgIjMwIiwgIi1vIiwgc3RyKHRlbXBfZmlsZSksIHVybF0sCiAgICAgICAgICAgIGNhcHR1cmVfb3V0cHV0PVRydWUKICAgICAgICApCiAgICAgICAgaWYgcmVzdWx0LnJldHVybmNvZGUgPT0gMCBhbmQgdGVtcF9maWxlLmV4aXN0cygpOgogICAgICAgICAgICB0ZW1wX2ZpbGUuY2htb2QoMG83NTUpCiAgICAgICAgICAgIHJldHVybiB0ZW1wX2ZpbGUKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcGFzcwoKICAgIHJldHVybiBOb25lCgoKZGVmIHJ1bl91cGRhdGUocmVwbzogc3RyID0gREVGQVVMVF9VUERBVEVfUkVQTywgYnJhbmNoOiBzdHIgPSBERUZBVUxUX0JSQU5DSCwgcXVpZXQ6IGJvb2wgPSBGYWxzZSkgLT4gYm9vbDoKICAgICIiIgogICAgRG93bmxvYWQgYW5kIHJ1biB0aGUgaW5zdGFsbGVyIHRvIHVwZGF0ZS4KCiAgICBSZXR1cm5zIFRydWUgaWYgdXBkYXRlIHdhcyBzdWNjZXNzZnVsLgogICAgIiIiCiAgICBpZiBub3QgcXVpZXQ6CiAgICAgICAgcHJpbnQoIkRvd25sb2FkaW5nIGxhdGVzdCB2ZXJzaW9uLi4uIiwgZmlsZT1zeXMuc3RkZXJyKQoKICAgIGluc3RhbGxlcl9wYXRoID0gZG93bmxvYWRfaW5zdGFsbGVyKHJlcG8sIGJyYW5jaCkKCiAgICBpZiBub3QgaW5zdGFsbGVyX3BhdGg6CiAgICAgICAgaWYgbm90IHF1aWV0OgogICAgICAgICAgICBwcmludCgiRmFpbGVkIHRvIGRvd25sb2FkIGluc3RhbGxlci4iLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgdHJ5OgogICAgICAgIGlmIG5vdCBxdWlldDoKICAgICAgICAgICAgcHJpbnQoIkluc3RhbGxpbmcgdXBkYXRlLi4uIiwgZmlsZT1zeXMuc3RkZXJyKQoKICAgICAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bigKICAgICAgICAgICAgWyJiYXNoIiwgc3RyKGluc3RhbGxlcl9wYXRoKV0sCiAgICAgICAgICAgIGNhcHR1cmVfb3V0cHV0PXF1aWV0CiAgICAgICAgKQoKICAgICAgICByZXR1cm4gcmVzdWx0LnJldHVybmNvZGUgPT0gMAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGlmIG5vdCBxdWlldDoKICAgICAgICAgICAgcHJpbnQoZiJVcGRhdGUgZmFpbGVkOiB7ZX0iLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBmaW5hbGx5OgogICAgICAgICMgQ2xlYW4gdXAgdGVtcCBmaWxlCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpbnN0YWxsZXJfcGF0aC51bmxpbmsoKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHBhc3MKCgpkZWYgcHJvbXB0X2Zvcl91cGRhdGUobG9jYWxfdmVyc2lvbjogT3B0aW9uYWxbc3RyXSwgcmVtb3RlX3ZlcnNpb246IHN0cikgLT4gYm9vbDoKICAgICIiIkFzayB0aGUgdXNlciBpZiB0aGV5IHdhbnQgdG8gdXBkYXRlLiIiIgogICAgbG9jYWxfc3RyID0gbG9jYWxfdmVyc2lvbiBvciAidW5rbm93biIKICAgIHByaW50KGYiXG57Jz0nKjUwfSIsIGZpbGU9c3lzLnN0ZGVycikKICAgIHByaW50KGYiQSBuZXcgdmVyc2lvbiBvZiBsYWIteGFwaSBpcyBhdmFpbGFibGUhIiwgZmlsZT1zeXMuc3RkZXJyKQogICAgcHJpbnQoZiIgIEN1cnJlbnQ6IHtsb2NhbF9zdHJ9IiwgZmlsZT1zeXMuc3RkZXJyKQogICAgcHJpbnQoZiIgIExhdGVzdDogIHtyZW1vdGVfdmVyc2lvbn0iLCBmaWxlPXN5cy5zdGRlcnIpCiAgICBwcmludChmInsnPScqNTB9XG4iLCBmaWxlPXN5cy5zdGRlcnIpCgogICAgdHJ5OgogICAgICAgIHJlc3BvbnNlID0gaW5wdXQoIlVwZGF0ZSBub3c/IFtZL25dOiAiKS5zdHJpcCgpLmxvd2VyKCkKICAgICAgICByZXR1cm4gcmVzcG9uc2UgaW4gKCIiLCAieSIsICJ5ZXMiKQogICAgZXhjZXB0IChFT0ZFcnJvciwgS2V5Ym9hcmRJbnRlcnJ1cHQpOgogICAgICAgIHJldHVybiBGYWxzZQoKCmRlZiBjaGVja19hbmRfcHJvbXB0X3VwZGF0ZSgKICAgIHJlcG86IHN0ciA9IERFRkFVTFRfVVBEQVRFX1JFUE8sCiAgICBicmFuY2g6IHN0ciA9IERFRkFVTFRfQlJBTkNILAogICAgYXV0b191cGRhdGU6IGJvb2wgPSBGYWxzZSwKICAgIGZvcmNlX2NoZWNrOiBib29sID0gRmFsc2UsCiAgICBxdWlldDogYm9vbCA9IEZhbHNlCikgLT4gYm9vbDoKICAgICIiIgogICAgTWFpbiBlbnRyeSBwb2ludDogY2hlY2sgZm9yIHVwZGF0ZXMgYW5kIG9wdGlvbmFsbHkgdXBkYXRlLgoKICAgIEFyZ3M6CiAgICAgICAgcmVwbzogR2l0SHViIHJlcG9zaXRvcnkgKG93bmVyL3JlcG8gZm9ybWF0KQogICAgICAgIGJyYW5jaDogQnJhbmNoIHRvIGNoZWNrCiAgICAgICAgYXV0b191cGRhdGU6IElmIFRydWUsIHVwZGF0ZSB3aXRob3V0IHByb21wdGluZwogICAgICAgIGZvcmNlX2NoZWNrOiBJZiBUcnVlLCBjaGVjayBldmVuIGlmIHJlY2VudGx5IGNoZWNrZWQKICAgICAgICBxdWlldDogSWYgVHJ1ZSwgc3VwcHJlc3Mgb3V0cHV0IHVubGVzcyB1cGRhdGUgYXZhaWxhYmxlCgogICAgUmV0dXJuczoKICAgICAgICBUcnVlIGlmIGFuIHVwZGF0ZSB3YXMgcGVyZm9ybWVkCiAgICAiIiIKICAgIHVwZGF0ZV9hdmFpbGFibGUsIGxvY2FsX3ZlcnNpb24sIHJlbW90ZV92ZXJzaW9uID0gY2hlY2tfZm9yX3VwZGF0ZXMoCiAgICAgICAgcmVwbywgYnJhbmNoLCBmb3JjZV9jaGVjawogICAgKQoKICAgIGlmIG5vdCB1cGRhdGVfYXZhaWxhYmxlIG9yIG5vdCByZW1vdGVfdmVyc2lvbjoKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBpZiBhdXRvX3VwZGF0ZToKICAgICAgICBpZiBub3QgcXVpZXQ6CiAgICAgICAgICAgIHByaW50KGYiQXV0by11cGRhdGluZyBmcm9tIHtsb2NhbF92ZXJzaW9uIG9yICd1bmtub3duJ30gdG8ge3JlbW90ZV92ZXJzaW9ufS4uLiIsCiAgICAgICAgICAgICAgICAgIGZpbGU9c3lzLnN0ZGVycikKICAgICAgICByZXR1cm4gcnVuX3VwZGF0ZShyZXBvLCBicmFuY2gsIHF1aWV0KQogICAgZWxzZToKICAgICAgICBpZiBwcm9tcHRfZm9yX3VwZGF0ZShsb2NhbF92ZXJzaW9uLCByZW1vdGVfdmVyc2lvbik6CiAgICAgICAgICAgIHJldHVybiBydW5fdXBkYXRlKHJlcG8sIGJyYW5jaCkKCiAgICByZXR1cm4gRmFsc2UKCgpkZWYgc3luY19jdXN0b21fbGFicyhyZXBvOiBzdHIgPSBERUZBVUxUX1VQREFURV9SRVBPLCBicmFuY2g6IHN0ciA9IERFRkFVTFRfQlJBTkNIKSAtPiBib29sOgogICAgIiIiCiAgICBTeW5jIGN1c3RvbSBsYWIgZGVmaW5pdGlvbnMgZnJvbSB0aGUgcmVtb3RlIHJlcG9zaXRvcnkuCgogICAgVGhpcyBkb3dubG9hZHMgYW55IG5ldyBvciB1cGRhdGVkIGxhYiBKU09OIGZpbGVzIHRvIHRoZSBleGFtcGxlcyBkaXJlY3RvcnkuCiAgICAiIiIKICAgIGV4YW1wbGVzX2RpciA9IElOU1RBTExfRElSIC8gImN1c3RvbV9sYWJzIiAvICJleGFtcGxlcyIKICAgIGV4YW1wbGVzX2Rpci5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgIyBGZXRjaCB0aGUgbGFiIG1hbmlmZXN0CiAgICB1cmwgPSBmImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS97cmVwb30ve2JyYW5jaH0vY3VzdG9tX2xhYnMvbWFuaWZlc3QuanNvbiIKCiAgICB0cnk6CiAgICAgICAgaW1wb3J0IHJlcXVlc3RzCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCB0aW1lb3V0PTEwKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlICE9IDIwMDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgbWFuaWZlc3QgPSByZXNwb25zZS5qc29uKCkKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgIyBEb3dubG9hZCBlYWNoIGxhYiBmaWxlCiAgICB1cGRhdGVkID0gMAogICAgZm9yIGxhYiBpbiBtYW5pZmVzdC5nZXQoImxhYnMiLCBbXSk6CiAgICAgICAgbGFiX2ZpbGUgPSBsYWIuZ2V0KCJmaWxlIikKICAgICAgICBpZiBub3QgbGFiX2ZpbGU6CiAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgIGxhYl91cmwgPSBmImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS97cmVwb30ve2JyYW5jaH0vY3VzdG9tX2xhYnMvZXhhbXBsZXMve2xhYl9maWxlfSIKICAgICAgICBsb2NhbF9wYXRoID0gZXhhbXBsZXNfZGlyIC8gbGFiX2ZpbGUKCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXNwID0gcmVxdWVzdHMuZ2V0KGxhYl91cmwsIHRpbWVvdXQ9MTApCiAgICAgICAgICAgIGlmIHJlc3Auc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICAgICAgIyBDaGVjayBpZiBjb250ZW50IGNoYW5nZWQKICAgICAgICAgICAgICAgIG5ld19jb250ZW50ID0gcmVzcC50ZXh0CiAgICAgICAgICAgICAgICBpZiBsb2NhbF9wYXRoLmV4aXN0cygpOgogICAgICAgICAgICAgICAgICAgIG9sZF9jb250ZW50ID0gbG9jYWxfcGF0aC5yZWFkX3RleHQoKQogICAgICAgICAgICAgICAgICAgIGlmIG9sZF9jb250ZW50ID09IG5ld19jb250ZW50OgogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgICAgIGxvY2FsX3BhdGgud3JpdGVfdGV4dChuZXdfY29udGVudCkKICAgICAgICAgICAgICAgIHVwZGF0ZWQgKz0gMQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIGNvbnRpbnVlCgogICAgcmV0dXJuIHVwZGF0ZWQgPiAwCgoKIyBDTEkgaW50ZXJmYWNlCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBpbXBvcnQgYXJncGFyc2UKCiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihkZXNjcmlwdGlvbj0iQ2hlY2sgZm9yIGxhYi14YXBpIHVwZGF0ZXMiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1jaGVjayIsIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsIGhlbHA9IkNoZWNrIGZvciB1cGRhdGVzIG9ubHkiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS11cGRhdGUiLCBhY3Rpb249InN0b3JlX3RydWUiLCBoZWxwPSJVcGRhdGUgaWYgYXZhaWxhYmxlIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tYXV0byIsIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsIGhlbHA9IkF1dG8tdXBkYXRlIHdpdGhvdXQgcHJvbXB0aW5nIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoIi0tZm9yY2UiLCBhY3Rpb249InN0b3JlX3RydWUiLCBoZWxwPSJGb3JjZSBjaGVjayAoaWdub3JlIGludGVydmFsKSIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXN5bmMtbGFicyIsIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsIGhlbHA9IlN5bmMgY3VzdG9tIGxhYiBkZWZpbml0aW9ucyIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXJlcG8iLCBkZWZhdWx0PURFRkFVTFRfVVBEQVRFX1JFUE8sIGhlbHA9IkdpdEh1YiByZXBvIChvd25lci9yZXBvKSIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLWJyYW5jaCIsIGRlZmF1bHQ9REVGQVVMVF9CUkFOQ0gsIGhlbHA9IkJyYW5jaCB0byBjaGVjayIpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXF1aWV0IiwgIi1xIiwgYWN0aW9uPSJzdG9yZV90cnVlIiwgaGVscD0iUXVpZXQgbW9kZSIpCgogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKCiAgICBpZiBhcmdzLnN5bmNfbGFiczoKICAgICAgICBpZiBzeW5jX2N1c3RvbV9sYWJzKGFyZ3MucmVwbywgYXJncy5icmFuY2gpOgogICAgICAgICAgICBpZiBub3QgYXJncy5xdWlldDoKICAgICAgICAgICAgICAgIHByaW50KCJDdXN0b20gbGFicyBzeW5jZWQgc3VjY2Vzc2Z1bGx5LiIpCiAgICAgICAgICAgIHN5cy5leGl0KDApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgbm90IGFyZ3MucXVpZXQ6CiAgICAgICAgICAgICAgICBwcmludCgiTm8gdXBkYXRlcyB0byBjdXN0b20gbGFicy4iKQogICAgICAgICAgICBzeXMuZXhpdCgwKQoKICAgIGlmIGFyZ3MuY2hlY2s6CiAgICAgICAgdXBkYXRlX2F2YWlsYWJsZSwgbG9jYWwsIHJlbW90ZSA9IGNoZWNrX2Zvcl91cGRhdGVzKAogICAgICAgICAgICBhcmdzLnJlcG8sIGFyZ3MuYnJhbmNoLCBhcmdzLmZvcmNlCiAgICAgICAgKQogICAgICAgIGlmIHVwZGF0ZV9hdmFpbGFibGU6CiAgICAgICAgICAgIHByaW50KGYiVXBkYXRlIGF2YWlsYWJsZToge2xvY2FsIG9yICd1bmtub3duJ30gLT4ge3JlbW90ZX0iKQogICAgICAgICAgICBzeXMuZXhpdCgxKSAgIyBFeGl0IDEgaW5kaWNhdGVzIHVwZGF0ZSBhdmFpbGFibGUKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBub3QgYXJncy5xdWlldDoKICAgICAgICAgICAgICAgIHByaW50KGYiVXAgdG8gZGF0ZToge2xvY2FsIG9yICd1bmtub3duJ30iKQogICAgICAgICAgICBzeXMuZXhpdCgwKQoKICAgIGlmIGFyZ3MudXBkYXRlIG9yIGFyZ3MuYXV0bzoKICAgICAgICB1cGRhdGVkID0gY2hlY2tfYW5kX3Byb21wdF91cGRhdGUoCiAgICAgICAgICAgIHJlcG89YXJncy5yZXBvLAogICAgICAgICAgICBicmFuY2g9YXJncy5icmFuY2gsCiAgICAgICAgICAgIGF1dG9fdXBkYXRlPWFyZ3MuYXV0bywKICAgICAgICAgICAgZm9yY2VfY2hlY2s9YXJncy5mb3JjZSwKICAgICAgICAgICAgcXVpZXQ9YXJncy5xdWlldAogICAgICAgICkKICAgICAgICBzeXMuZXhpdCgwIGlmIHVwZGF0ZWQgZWxzZSAxKQoKICAgICMgRGVmYXVsdDogY2hlY2sgYW5kIHByb21wdAogICAgY2hlY2tfYW5kX3Byb21wdF91cGRhdGUoCiAgICAgICAgcmVwbz1hcmdzLnJlcG8sCiAgICAgICAgYnJhbmNoPWFyZ3MuYnJhbmNoLAogICAgICAgIGZvcmNlX2NoZWNrPWFyZ3MuZm9yY2UsCiAgICAgICAgcXVpZXQ9YXJncy5xdWlldAogICAgKQpVUERBVEVfQ0hFQ0tFUl9QWV9FT0YKCiAgICAjIENyZWF0ZSB2ZXJzaW9uLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvdmVyc2lvbi5qc29uIiA8PCAnVkVSU0lPTl9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMC4xIiwKICAicmVsZWFzZV9kYXRlIjogIjIwMjYtMDEtMjciLAogICJtaW5fcHl0aG9uX3ZlcnNpb24iOiAiMy44IiwKICAiY2hhbmdlbG9nIjogImh0dHBzOi8vZ2l0aHViLmNvbS9mcmF6aWVyLWF0LWNwY2MvbGFiLXhhcGktZGlzdC9ibG9iL21haW4vQ0hBTkdFTE9HLm1kIiwKICAiZmVhdHVyZXMiOiBbCiAgICAieEFQSSBncmFkZSByZXBvcnRpbmciLAogICAgIkN1c3RvbSBsYWIgZGVmaW5pdGlvbnMiLAogICAgIlNDT1JNIHBhY2thZ2UgZ2VuZXJhdGlvbiIsCiAgICAiQXV0by11cGRhdGUgc3VwcG9ydCIKICBdCn0KVkVSU0lPTl9KU09OX0VPRgoKICAgICMgQ3JlYXRlIGxhYl9zdGF0ZS5weQogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9sYWJfc3RhdGUucHkiIDw8ICdMQUJfU1RBVEVfUFlfRU9GJwojIS91c3IvYmluL2VudiBweXRob24zCiIiIgpsYWJfc3RhdGUucHkgLSBUcmFjayBsYWIgc3RhcnQvZ3JhZGUgc3RhdGUgdG8gcmVtaW5kIHN0dWRlbnRzIHRvIGdyYWRlCgpUcmFja3Mgd2hpY2ggbGFicyBoYXZlIGJlZW4gc3RhcnRlZCBhbmQgZ3JhZGVkIHRvIHByb21wdCB1c2Vycwp3aG8gZm9yZ2V0IHRvIGdyYWRlIGJlZm9yZSBmaW5pc2hpbmcuCiIiIgoKaW1wb3J0IGpzb24KaW1wb3J0IG9zCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIERpY3QsIEFueQoKIyBTdGF0ZSBmaWxlIGxvY2F0aW9uCkNPTkZJR19ESVIgPSBQYXRoLmhvbWUoKSAvICIuY29uZmlnIiAvICJsYWIteGFwaSIKU1RBVEVfRklMRSA9IENPTkZJR19ESVIgLyAibGFiX3N0YXRlLmpzb24iCgoKZGVmIF9sb2FkX3N0YXRlKCkgLT4gRGljdFtzdHIsIEFueV06CiAgICAiIiJMb2FkIHRoZSBsYWIgc3RhdGUgZnJvbSBkaXNrLiIiIgogICAgaWYgU1RBVEVfRklMRS5leGlzdHMoKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdpdGggb3BlbihTVEFURV9GSUxFKSBhcyBmOgogICAgICAgICAgICAgICAgcmV0dXJuIGpzb24ubG9hZChmKQogICAgICAgIGV4Y2VwdCAoanNvbi5KU09ORGVjb2RlRXJyb3IsIElPRXJyb3IpOgogICAgICAgICAgICBwYXNzCiAgICByZXR1cm4geyJsYWJzIjoge319CgoKZGVmIF9zYXZlX3N0YXRlKHN0YXRlOiBEaWN0W3N0ciwgQW55XSkgLT4gTm9uZToKICAgICIiIlNhdmUgdGhlIGxhYiBzdGF0ZSB0byBkaXNrLiIiIgogICAgQ09ORklHX0RJUi5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKFNUQVRFX0ZJTEUsICJ3IikgYXMgZjoKICAgICAgICAgICAganNvbi5kdW1wKHN0YXRlLCBmLCBpbmRlbnQ9MikKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHBhc3MgICMgU2lsZW50IGZhaWwgLSBzdGF0ZSB0cmFja2luZyBpcyBub24tY3JpdGljYWwKCgpkZWYgcmVjb3JkX2xhYl9zdGFydChzbHVnOiBzdHIpIC0+IE5vbmU6CiAgICAiIiJSZWNvcmQgdGhhdCBhIGxhYiB3YXMgc3RhcnRlZC4iIiIKICAgIHN0YXRlID0gX2xvYWRfc3RhdGUoKQoKICAgIGlmICJsYWJzIiBub3QgaW4gc3RhdGU6CiAgICAgICAgc3RhdGVbImxhYnMiXSA9IHt9CgogICAgc3RhdGVbImxhYnMiXVtzbHVnXSA9IHsKICAgICAgICAic3RhcnRlZF9hdCI6IGRhdGV0aW1lLm5vdygpLmlzb2Zvcm1hdCgpLAogICAgICAgICJncmFkZWQiOiBGYWxzZSwKICAgICAgICAiZ3JhZGVkX2F0IjogTm9uZQogICAgfQoKICAgIF9zYXZlX3N0YXRlKHN0YXRlKQoKCmRlZiByZWNvcmRfbGFiX2dyYWRlKHNsdWc6IHN0cikgLT4gTm9uZToKICAgICIiIlJlY29yZCB0aGF0IGEgbGFiIHdhcyBncmFkZWQuIiIiCiAgICBzdGF0ZSA9IF9sb2FkX3N0YXRlKCkKCiAgICBpZiAibGFicyIgbm90IGluIHN0YXRlOgogICAgICAgIHN0YXRlWyJsYWJzIl0gPSB7fQoKICAgIGlmIHNsdWcgaW4gc3RhdGVbImxhYnMiXToKICAgICAgICBzdGF0ZVsibGFicyJdW3NsdWddWyJncmFkZWQiXSA9IFRydWUKICAgICAgICBzdGF0ZVsibGFicyJdW3NsdWddWyJncmFkZWRfYXQiXSA9IGRhdGV0aW1lLm5vdygpLmlzb2Zvcm1hdCgpCiAgICBlbHNlOgogICAgICAgICMgTGFiIHdhcyBncmFkZWQgd2l0aG91dCBiZWluZyBzdGFydGVkIHRocm91Z2ggb3VyIHdyYXBwZXIKICAgICAgICBzdGF0ZVsibGFicyJdW3NsdWddID0gewogICAgICAgICAgICAic3RhcnRlZF9hdCI6IE5vbmUsCiAgICAgICAgICAgICJncmFkZWQiOiBUcnVlLAogICAgICAgICAgICAiZ3JhZGVkX2F0IjogZGF0ZXRpbWUubm93KCkuaXNvZm9ybWF0KCkKICAgICAgICB9CgogICAgX3NhdmVfc3RhdGUoc3RhdGUpCgoKZGVmIGNoZWNrX25lZWRzX2dyYWRpbmcoc2x1Zzogc3RyKSAtPiBib29sOgogICAgIiIiCiAgICBDaGVjayBpZiBhIGxhYiBuZWVkcyBncmFkaW5nIGJlZm9yZSBmaW5pc2hpbmcuCgogICAgUmV0dXJucyBUcnVlIGlmOgogICAgLSBUaGUgbGFiIHdhcyBzdGFydGVkIGJ1dCBub3QgZ3JhZGVkCiAgICAiIiIKICAgIHN0YXRlID0gX2xvYWRfc3RhdGUoKQoKICAgIGlmICJsYWJzIiBub3QgaW4gc3RhdGU6CiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgbGFiX3N0YXRlID0gc3RhdGUuZ2V0KCJsYWJzIiwge30pLmdldChzbHVnKQoKICAgIGlmIG5vdCBsYWJfc3RhdGU6CiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgIyBJZiBzdGFydGVkIGJ1dCBub3QgZ3JhZGVkLCBuZWVkcyBncmFkaW5nCiAgICBpZiBsYWJfc3RhdGUuZ2V0KCJzdGFydGVkX2F0IikgYW5kIG5vdCBsYWJfc3RhdGUuZ2V0KCJncmFkZWQiKToKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIHJldHVybiBGYWxzZQoKCmRlZiBjbGVhcl9sYWJfc3RhdGUoc2x1Zzogc3RyKSAtPiBOb25lOgogICAgIiIiQ2xlYXIgdGhlIHN0YXRlIGZvciBhIGxhYiAoYWZ0ZXIgZmluaXNoKS4iIiIKICAgIHN0YXRlID0gX2xvYWRfc3RhdGUoKQoKICAgIGlmICJsYWJzIiBpbiBzdGF0ZSBhbmQgc2x1ZyBpbiBzdGF0ZVsibGFicyJdOgogICAgICAgIGRlbCBzdGF0ZVsibGFicyJdW3NsdWddCiAgICAgICAgX3NhdmVfc3RhdGUoc3RhdGUpCgoKZGVmIGdldF9sYWJfc3RhdGUoc2x1Zzogc3RyKSAtPiBPcHRpb25hbFtEaWN0W3N0ciwgQW55XV06CiAgICAiIiJHZXQgdGhlIGN1cnJlbnQgc3RhdGUgb2YgYSBsYWIuIiIiCiAgICBzdGF0ZSA9IF9sb2FkX3N0YXRlKCkKICAgIHJldHVybiBzdGF0ZS5nZXQoImxhYnMiLCB7fSkuZ2V0KHNsdWcpCgoKZGVmIHByb21wdF9mb3JfZ3JhZGluZyhzbHVnOiBzdHIpIC0+IGJvb2w6CiAgICAiIiIKICAgIFByb21wdCB0aGUgdXNlciB0byBncmFkZSBiZWZvcmUgZmluaXNoaW5nLgoKICAgIFJldHVybnMgVHJ1ZSBpZiB1c2VyIHdhbnRzIHRvIGNvbnRpbnVlIHdpdGhvdXQgZ3JhZGluZywKICAgIEZhbHNlIGlmIHVzZXIgd2FudHMgdG8gZ3JhZGUgZmlyc3QuCiAgICAiIiIKICAgIGltcG9ydCBzeXMKCiAgICBwcmludCgiXG4iICsgIj0iICogNjAsIGZpbGU9c3lzLnN0ZGVycikKICAgIHByaW50KCIgIFdBUk5JTkc6IFlvdSBoYXZlbid0IGdyYWRlZCB0aGlzIGxhYiB5ZXQhIiwgZmlsZT1zeXMuc3RkZXJyKQogICAgcHJpbnQoIj0iICogNjAsIGZpbGU9c3lzLnN0ZGVycikKICAgIHByaW50KGYiXG4gIExhYjoge3NsdWd9IiwgZmlsZT1zeXMuc3RkZXJyKQogICAgcHJpbnQoIlxuICBJdCBsb29rcyBsaWtlIHlvdSBzdGFydGVkIHRoaXMgbGFiIGJ1dCBoYXZlbid0IHJ1biIsIGZpbGU9c3lzLnN0ZGVycikKICAgIHByaW50KCIgICdsYWIgZ3JhZGUnIHRvIGNoZWNrIHlvdXIgd29yay4iLCBmaWxlPXN5cy5zdGRlcnIpCiAgICBwcmludCgiXG4gIFJlY29tbWVuZGVkOiBSdW4gJ2xhYiBncmFkZSB7fScgZmlyc3QiLmZvcm1hdChzbHVnKSwgZmlsZT1zeXMuc3RkZXJyKQogICAgcHJpbnQoIj0iICogNjAgKyAiXG4iLCBmaWxlPXN5cy5zdGRlcnIpCgogICAgdHJ5OgogICAgICAgIHJlc3BvbnNlID0gaW5wdXQoIkNvbnRpbnVlIHdpdGggJ2xhYiBmaW5pc2gnIGFueXdheT8gW3kvTl06ICIpLnN0cmlwKCkubG93ZXIoKQogICAgICAgIHJldHVybiByZXNwb25zZSBpbiAoInkiLCAieWVzIikKICAgIGV4Y2VwdCAoRU9GRXJyb3IsIEtleWJvYXJkSW50ZXJydXB0KToKICAgICAgICBwcmludCgiXG5DYW5jZWxsZWQuIiwgZmlsZT1zeXMuc3RkZXJyKQogICAgICAgIHJldHVybiBGYWxzZQoKCiMgQ0xJIGludGVyZmFjZSBmb3IgdGVzdGluZwppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgaW1wb3J0IGFyZ3BhcnNlCgogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoZGVzY3JpcHRpb249IkxhYiBzdGF0ZSB0cmFja2VyIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoImFjdGlvbiIsIGNob2ljZXM9WyJzdGFydCIsICJncmFkZSIsICJjaGVjayIsICJjbGVhciIsICJzaG93Il0pCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCJzbHVnIiwgbmFyZ3M9Ij8iLCBoZWxwPSJMYWIgc2x1ZyIpCgogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKCiAgICBpZiBhcmdzLmFjdGlvbiA9PSAic2hvdyI6CiAgICAgICAgc3RhdGUgPSBfbG9hZF9zdGF0ZSgpCiAgICAgICAgcHJpbnQoanNvbi5kdW1wcyhzdGF0ZSwgaW5kZW50PTIpKQogICAgZWxpZiBhcmdzLmFjdGlvbiA9PSAic3RhcnQiOgogICAgICAgIGlmIGFyZ3Muc2x1ZzoKICAgICAgICAgICAgcmVjb3JkX2xhYl9zdGFydChhcmdzLnNsdWcpCiAgICAgICAgICAgIHByaW50KGYiUmVjb3JkZWQgc3RhcnQgZm9yOiB7YXJncy5zbHVnfSIpCiAgICBlbGlmIGFyZ3MuYWN0aW9uID09ICJncmFkZSI6CiAgICAgICAgaWYgYXJncy5zbHVnOgogICAgICAgICAgICByZWNvcmRfbGFiX2dyYWRlKGFyZ3Muc2x1ZykKICAgICAgICAgICAgcHJpbnQoZiJSZWNvcmRlZCBncmFkZSBmb3I6IHthcmdzLnNsdWd9IikKICAgIGVsaWYgYXJncy5hY3Rpb24gPT0gImNoZWNrIjoKICAgICAgICBpZiBhcmdzLnNsdWc6CiAgICAgICAgICAgIG5lZWRzX2dyYWRpbmcgPSBjaGVja19uZWVkc19ncmFkaW5nKGFyZ3Muc2x1ZykKICAgICAgICAgICAgcHJpbnQoZiJOZWVkcyBncmFkaW5nOiB7bmVlZHNfZ3JhZGluZ30iKQogICAgZWxpZiBhcmdzLmFjdGlvbiA9PSAiY2xlYXIiOgogICAgICAgIGlmIGFyZ3Muc2x1ZzoKICAgICAgICAgICAgY2xlYXJfbGFiX3N0YXRlKGFyZ3Muc2x1ZykKICAgICAgICAgICAgcHJpbnQoZiJDbGVhcmVkIHN0YXRlIGZvcjoge2FyZ3Muc2x1Z30iKQpMQUJfU1RBVEVfUFlfRU9GCgoKICAgICMgQ3JlYXRlIGN1c3RvbV9sYWJzL2V4YW1wbGVzL2NsaS1kZXNrdG9wLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvY2xpLWRlc2t0b3AuanNvbiIgPDwgJ0NMSV9ERVNLVE9QX0pTT05fRU9GJwp7CiAgInZlcnNpb24iOiAiMS4wIiwKICAibWV0YWRhdGEiOiB7CiAgICAic2x1ZyI6ICJjbGktZGVza3RvcCIsCiAgICAibmFtZSI6ICJBY2Nlc3MgdGhlIENvbW1hbmQgTGluZSB3aXRoIHRoZSBEZXNrdG9wIEVudmlyb25tZW50IiwKICAgICJkZXNjcmlwdGlvbiI6ICJMb2cgaW4gdG8gYSBMaW51eCBzeXN0ZW0gd2l0aCB0aGUgR05PTUUgZGVza3RvcCBlbnZpcm9ubWVudCBhbmQgcnVuIGNvbW1hbmRzIGZyb20gYSBzaGVsbCBwcm9tcHQgaW4gYSB0ZXJtaW5hbCBwcm9ncmFtIiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciAyIiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIxNSBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiTG9nIGluIHRvIGEgTGludXggc3lzdGVtIHVzaW5nIHRoZSBHTk9NRSBkZXNrdG9wIGVudmlyb25tZW50IiwKICAgICAgIkNoYW5nZSBhIHVzZXIgcGFzc3dvcmQgdXNpbmcgdGhlIHBhc3N3ZCBjb21tYW5kIiwKICAgICAgIlZlcmlmeSBwYXNzd29yZCBjaGFuZ2VzIGJ5IGxvZ2dpbmcgb3V0IGFuZCBiYWNrIGluIiwKICAgICAgIkxvY2sgYW5kIHVubG9jayB0aGUgc2NyZWVuIiwKICAgICAgIk5hdmlnYXRlIHRoZSBHTk9NRSBzeXN0ZW0gbWVudSBhbmQgcG93ZXIgb3B0aW9ucyIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIkFjY2VzcyB0byB3b3Jrc3RhdGlvbiBtYWNoaW5lIiwKICAgICAgIktub3dsZWRnZSBvZiBzdHVkZW50IHVzZXIgY3JlZGVudGlhbHMiCiAgICBdLAogICAgInRhZ3MiOiBbImdub21lIiwgImRlc2t0b3AiLCAicGFzc3dkIiwgImxvZ2luIiwgInRlcm1pbmFsIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogIndvcmtzdGF0aW9uIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU3R1ZGVudCB3b3Jrc3RhdGlvbiB3aXRoIEdOT01FIGRlc2t0b3AiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHsKICAgICAgIlRBUkdFVF9VU0VSIjogInN0dWRlbnQiLAogICAgICAiTkVXX1BBU1NXT1JEIjogInJlZGhhdCEyMyIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogInBhc3N3b3JkLWNoYW5nZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgcGFzc3dvcmQgY2hhbmdlZCB0byByZWRoYXQhMjMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHN0dWRlbnQgdXNlciBwYXNzd29yZCBtdXN0IGJlIGNoYW5nZWQgZnJvbSAnc3R1ZGVudCcgdG8gJ3JlZGhhdCEyMycgdXNpbmcgdGhlIHBhc3N3ZCBjb21tYW5kIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJmYXRhbCI6IGZhbHNlLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogInNjcmlwdCIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAidXNlciI6ICJyb290IiwKICAgICAgICAgICJzY3JpcHQiOiAicHl0aG9uMyAtYyBcIlxuaW1wb3J0IHdhcm5pbmdzXG53YXJuaW5ncy5maWx0ZXJ3YXJuaW5ncyhcXFwiaWdub3JlXFxcIiwgY2F0ZWdvcnk9RGVwcmVjYXRpb25XYXJuaW5nKVxuaW1wb3J0IGNyeXB0XG5pbXBvcnQgc3VicHJvY2Vzc1xuXG4jIEdldCB0aGUgcGFzc3dvcmQgaGFzaCBmcm9tIC9ldGMvc2hhZG93IChydW5uaW5nIGFzIHJvb3QsIG5vIHN1ZG8gbmVlZGVkKVxucmVzdWx0ID0gc3VicHJvY2Vzcy5ydW4oW1xcXCJnZXRlbnRcXFwiLCBcXFwic2hhZG93XFxcIiwgXFxcInN0dWRlbnRcXFwiXSwgY2FwdHVyZV9vdXRwdXQ9VHJ1ZSwgdGV4dD1UcnVlKVxuaWYgcmVzdWx0LnJldHVybmNvZGUgIT0gMDpcbiAgICBleGl0KDEpXG5cbmxpbmUgPSByZXN1bHQuc3Rkb3V0LnN0cmlwKClcbmlmIG5vdCBsaW5lOlxuICAgIGV4aXQoMSlcblxuIyBQYXJzZSB0aGUgaGFzaCAoc2Vjb25kIGZpZWxkKVxuZmllbGRzID0gbGluZS5zcGxpdChcXFwiOlxcXCIpXG5pZiBsZW4oZmllbGRzKSA8IDI6XG4gICAgZXhpdCgxKVxuXG5zdG9yZWRfaGFzaCA9IGZpZWxkc1sxXVxuXG4jIFZlcmlmeSB0aGUgcGFzc3dvcmRcbmlmIGNyeXB0LmNyeXB0KFxcXCJyZWRoYXQhMjNcXFwiLCBzdG9yZWRfaGFzaCkgPT0gc3RvcmVkX2hhc2g6XG4gICAgcHJpbnQoXFxcIlBhc3N3b3JkIHZlcmlmaWVkOiByZWRoYXQhMjNcXFwiKVxuICAgIGV4aXQoMClcbmVsc2U6XG4gICAgcHJpbnQoXFxcIlBhc3N3b3JkIGRvZXMgbm90IG1hdGNoIHJlZGhhdCEyM1xcXCIpXG4gICAgZXhpdCgxKVxuXCIiLAogICAgICAgICAgInRpbWVvdXQiOiAzMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJQYXNzd29yZCBzdWNjZXNzZnVsbHkgY2hhbmdlZCB0byAncmVkaGF0ITIzJyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiUGFzc3dvcmQgaGFzIG5vdCBiZWVuIGNoYW5nZWQgdG8gJ3JlZGhhdCEyMyciLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIk9wZW4gYSB0ZXJtaW5hbCB1c2luZyB0aGUgQWN0aXZpdGllcyBtZW51IG9yIGJ5IHByZXNzaW5nIFN1cGVyIGtleSB0d2ljZSIsCiAgICAgICAgIlJ1biB0aGUgJ3Bhc3N3ZCcgY29tbWFuZCIsCiAgICAgICAgIkVudGVyIHlvdXIgY3VycmVudCBwYXNzd29yZDogc3R1ZGVudCIsCiAgICAgICAgIkVudGVyIHRoZSBuZXcgcGFzc3dvcmQ6IHJlZGhhdCEyMyIsCiAgICAgICAgIkNvbmZpcm0gdGhlIG5ldyBwYXNzd29yZDogcmVkaGF0ITIzIgogICAgICBdCiAgICB9CiAgXSwKICAiY2xlYW51cCI6IHsKICAgICJlbmFibGVkIjogZmFsc2UsCiAgICAiY29tbWFuZHMiOiBbXQogIH0KfQpDTElfREVTS1RPUF9KU09OX0VPRgoKICAgICMgQ3JlYXRlIGN1c3RvbV9sYWJzL2V4YW1wbGVzL2VkaXQtZmlsZS5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL2VkaXQtZmlsZS5qc29uIiA8PCAnRURJVF9GSUxFX0pTT05fRU9GJwp7CiAgInZlcnNpb24iOiAiMS4wIiwKICAibWV0YWRhdGEiOiB7CiAgICAic2x1ZyI6ICJlZGl0LWZpbGUiLAogICAgIm5hbWUiOiAiRWRpdCBUZXh0IEZpbGVzIGZyb20gdGhlIENvbW1hbmQgTGluZSIsCiAgICAiZGVzY3JpcHRpb24iOiAiQ3JlYXRlLCB2aWV3LCBhbmQgZWRpdCB0ZXh0IGZpbGVzIGJ5IHVzaW5nIHRoZSBWaW0gZWRpdG9yIiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciAzIiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIzMCBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiR2FpbiBjb21wZXRlbmN5IGluIFZpbSBieSB1c2luZyB0aGUgdmltdHV0b3IgY29tbWFuZCIsCiAgICAgICJOYXZpZ2F0ZSB3aXRoIGgsIGosIGssIGwga2V5cyIsCiAgICAgICJEZWxldGUgdGV4dCB3aXRoIHgga2V5IiwKICAgICAgIkVudGVyIGluc2VydCBtb2RlIHdpdGggaSBrZXkiLAogICAgICAiU2F2ZSBhbmQgcXVpdCB3aXRoIDp3cSIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIkFjY2VzcyB0byBzZXJ2ZXJhIG1hY2hpbmUiLAogICAgICAiQmFzaWMgdGVybWluYWwgdXNhZ2UiCiAgICBdLAogICAgInRhZ3MiOiBbInZpbSIsICJ2aSIsICJlZGl0b3IiLCAidmltdHV0b3IiLCAidGV4dCJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIGZvciBWaW0gcHJhY3RpY2UiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHsKICAgICAgIkhPTUVfRElSIjogIi9ob21lL3N0dWRlbnQiCiAgICB9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJ2aW0taW5zdGFsbGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IFZpbSBpcyBpbnN0YWxsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHZpbS1lbmhhbmNlZCBwYWNrYWdlIG11c3QgYmUgaW5zdGFsbGVkIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJmYXRhbCI6IHRydWUsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogIndoaWNoIHZpbSIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJWaW0gaXMgaW5zdGFsbGVkIGFuZCBhdmFpbGFibGUiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIlZpbSBpcyBub3QgaW5zdGFsbGVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJJbnN0YWxsIHdpdGg6IHN1ZG8gZG5mIGluc3RhbGwgdmltLWVuaGFuY2VkIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAidmltdHV0b3ItYXZhaWxhYmxlIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHZpbXR1dG9yIGNvbW1hbmQgaXMgYXZhaWxhYmxlIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSB2aW10dXRvciBjb21tYW5kIHNob3VsZCBiZSBhdmFpbGFibGUiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAid2hpY2ggdmltdHV0b3IiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAidmltdHV0b3IgY29tbWFuZCBpcyBhdmFpbGFibGUiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInZpbXR1dG9yIGNvbW1hbmQgbm90IGZvdW5kIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJ2aW10dXRvciBpcyBpbmNsdWRlZCB3aXRoIHZpbS1lbmhhbmNlZCBwYWNrYWdlIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAidmltLXByYWN0aWNlLWZpbGUiLAogICAgICAibmFtZSI6ICJWZXJpZnkgcHJhY3RpY2UgZmlsZSBjcmVhdGVkIHdpdGggVmltIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkNyZWF0ZSBhIHByYWN0aWNlIGZpbGUgdXNpbmcgVmltIHRvIGRlbW9uc3RyYXRlIGVkaXRvciB1c2FnZSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtIT01FX0RJUn0vdmltLXByYWN0aWNlLnR4dCIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfY29udGFpbnMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke0hPTUVfRElSfS92aW0tcHJhY3RpY2UudHh0IiwKICAgICAgICAgICJwYXR0ZXJuIjogIi4iCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIlByYWN0aWNlIGZpbGUgY3JlYXRlZCB3aXRoIFZpbSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiUHJhY3RpY2UgZmlsZSBub3QgZm91bmQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIk9wZW4gdmltOiB2aW0gfi92aW0tcHJhY3RpY2UudHh0IiwKICAgICAgICAiUHJlc3MgaSB0byBlbnRlciBpbnNlcnQgbW9kZSIsCiAgICAgICAgIlR5cGUgc29tZSB0ZXh0IiwKICAgICAgICAiUHJlc3MgRXNjLCB0aGVuIHR5cGUgOndxIHRvIHNhdmUgYW5kIHF1aXQiCiAgICAgIF0KICAgIH0KICBdCn0KRURJVF9GSUxFX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvZmlsZXMtbWFrZS5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL2ZpbGVzLW1ha2UuanNvbiIgPDwgJ0ZJTEVTX01BS0VfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogImZpbGVzLW1ha2UiLAogICAgIm5hbWUiOiAiQ3JlYXRlIExpbmtzIEJldHdlZW4gRmlsZXMiLAogICAgImRlc2NyaXB0aW9uIjogIkNyZWF0ZSBhbmQgY29tcGFyZSB0aGUgdXNlIG9mIGhhcmQgbGlua3MgYW5kIHN5bWJvbGljIGxpbmtzIHRvIHJlZmVyZW5jZSB0aGUgc2FtZSBmaWxlIiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciAzIiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIxNSBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiQ3JlYXRlIGhhcmQgbGlua3MgYmV0d2VlbiBmaWxlcyIsCiAgICAgICJDcmVhdGUgc3ltYm9saWMgbGlua3MgYmV0d2VlbiBmaWxlcyIsCiAgICAgICJVbmRlcnN0YW5kIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gaGFyZCBhbmQgc3ltYm9saWMgbGlua3MiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBtYWNoaW5lIiwKICAgICAgIlVuZGVyc3RhbmRpbmcgb2YgZmlsZXMgYW5kIGRpcmVjdG9yaWVzIgogICAgXSwKICAgICJ0YWdzIjogWyJsaW5rcyIsICJoYXJkbGluayIsICJzeW1saW5rIiwgImxuIiwgImlub2RlIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTZXJ2ZXIgZm9yIGxpbmsgcHJhY3RpY2UiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHsKICAgICAgIkhPTUVfRElSIjogIi9ob21lL3N0dWRlbnQiLAogICAgICAiVEFSR0VUX0ZJTEUiOiAiL2hvbWUvc3R1ZGVudC9maWxlcy90YXJnZXQuZmlsZSIsCiAgICAgICJIQVJEX0xJTksiOiAiL2hvbWUvc3R1ZGVudC9saW5rcy9maWxlLmhhcmRsaW5rIiwKICAgICAgIlNZTV9MSU5LIjogIi9ob21lL3N0dWRlbnQvdGVtcGRpciIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogInRhcmdldC1maWxlLWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSB0YXJnZXQuZmlsZSBleGlzdHMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHRhcmdldCBmaWxlIG11c3QgZXhpc3QgYmVmb3JlIGNyZWF0aW5nIGxpbmtzIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJmYXRhbCI6IHRydWUsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1RBUkdFVF9GSUxFfSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiVGFyZ2V0IGZpbGUgZXhpc3RzIGF0IC9ob21lL3N0dWRlbnQvZmlsZXMvdGFyZ2V0LmZpbGUiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIlRhcmdldCBmaWxlIG5vdCBmb3VuZCAtIHJ1biAnbGFiIHN0YXJ0IGZpbGVzLW1ha2UnIGZpcnN0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJSdW4gJ2xhYiBzdGFydCBmaWxlcy1tYWtlJyB0byBjcmVhdGUgdGhlIHJlcXVpcmVkIGZpbGVzIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiaGFyZC1saW5rLWNyZWF0ZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgaGFyZCBsaW5rIGZpbGUuaGFyZGxpbmsgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkEgaGFyZCBsaW5rIHRvIHRhcmdldC5maWxlIHNob3VsZCBleGlzdCBhdCAvaG9tZS9zdHVkZW50L2xpbmtzL2ZpbGUuaGFyZGxpbmsiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7SEFSRF9MSU5LfSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJ0ZXN0ICQoc3RhdCAtYyAlaSAvaG9tZS9zdHVkZW50L2ZpbGVzL3RhcmdldC5maWxlKSAtZXEgJChzdGF0IC1jICVpIC9ob21lL3N0dWRlbnQvbGlua3MvZmlsZS5oYXJkbGluaykiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiSGFyZCBsaW5rIGNyZWF0ZWQgLSBzYW1lIGlub2RlIGFzIHRhcmdldCBmaWxlIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJIYXJkIGxpbmsgbWlzc2luZyBvciBub3QgbGlua2VkIHRvIHRhcmdldCBmaWxlIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgaGFyZCBsaW5rOiBsbiAvaG9tZS9zdHVkZW50L2ZpbGVzL3RhcmdldC5maWxlIC9ob21lL3N0dWRlbnQvbGlua3MvZmlsZS5oYXJkbGluayIsCiAgICAgICAgIlZlcmlmeSB3aXRoOiBscyAtbGkgZmlsZXMvdGFyZ2V0LmZpbGUgbGlua3MvZmlsZS5oYXJkbGluayIsCiAgICAgICAgIkJvdGggZmlsZXMgc2hvdWxkIGhhdmUgdGhlIHNhbWUgaW5vZGUgbnVtYmVyIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiaGFyZC1saW5rLWNvdW50IiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGhhcmQgbGluayBjb3VudCBpcyAyIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSB0YXJnZXQgZmlsZSBzaG91bGQgaGF2ZSBhIGxpbmsgY291bnQgb2YgMiIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJ0ZXN0ICQoc3RhdCAtYyAlaCAvaG9tZS9zdHVkZW50L2ZpbGVzL3RhcmdldC5maWxlKSAtZXEgMiIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJMaW5rIGNvdW50IGlzIDIgKG9yaWdpbmFsICsgaGFyZCBsaW5rKSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiTGluayBjb3VudCBpcyBub3QgMiIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ2hlY2sgbGluayBjb3VudCB3aXRoOiBscyAtbCBmaWxlcy90YXJnZXQuZmlsZSIsCiAgICAgICAgIlRoZSBudW1iZXIgYWZ0ZXIgcGVybWlzc2lvbnMgc2hvdWxkIGJlIDIiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJzeW1saW5rLWNyZWF0ZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc3ltYm9saWMgbGluayB0ZW1wZGlyIGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJBIHN5bWJvbGljIGxpbmsgdG8gL3RtcCBzaG91bGQgZXhpc3QgYXQgL2hvbWUvc3R1ZGVudC90ZW1wZGlyIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogInRlc3QgLUwgL2hvbWUvc3R1ZGVudC90ZW1wZGlyIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAicmVhZGxpbmsgL2hvbWUvc3R1ZGVudC90ZW1wZGlyIHwgZ3JlcCAtcSAnXi90bXAkJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJTeW1ib2xpYyBsaW5rIHRlbXBkaXIgLT4gL3RtcCBjcmVhdGVkIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJTeW1ib2xpYyBsaW5rIG1pc3Npbmcgb3IgcG9pbnRpbmcgdG8gd3JvbmcgdGFyZ2V0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgc3ltYm9saWMgbGluazogbG4gLXMgL3RtcCAvaG9tZS9zdHVkZW50L3RlbXBkaXIiLAogICAgICAgICJWZXJpZnkgd2l0aDogbHMgLWwgL2hvbWUvc3R1ZGVudC90ZW1wZGlyIiwKICAgICAgICAiU2hvdWxkIHNob3c6IHRlbXBkaXIgLT4gL3RtcCIKICAgICAgXQogICAgfQogIF0KfQpGSUxFU19NQUtFX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvZmlsZXMtbWFuYWdlLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvZmlsZXMtbWFuYWdlLmpzb24iIDw8ICdGSUxFU19NQU5BR0VfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogImZpbGVzLW1hbmFnZSIsCiAgICAibmFtZSI6ICJNYW5hZ2UgRmlsZXMgd2l0aCBDb21tYW5kLWxpbmUgVG9vbHMiLAogICAgImRlc2NyaXB0aW9uIjogIkNyZWF0ZSwgY29weSwgbW92ZSwgYW5kIHJlbW92ZSBmaWxlcyBhbmQgZGlyZWN0b3JpZXMiLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDMiLAogICAgImVzdGltYXRlZF90aW1lIjogIjIwIG1pbnV0ZXMiLAogICAgIm9iamVjdGl2ZXMiOiBbCiAgICAgICJDcmVhdGUgZGlyZWN0b3JpZXMgdXNpbmcgbWtkaXIiLAogICAgICAiQ3JlYXRlIGVtcHR5IGZpbGVzIHVzaW5nIHRvdWNoIiwKICAgICAgIk1vdmUgZmlsZXMgdXNpbmcgbXYiLAogICAgICAiQ29weSBmaWxlcyBhbmQgZGlyZWN0b3JpZXMgdXNpbmcgY3AiLAogICAgICAiUmVtb3ZlIGZpbGVzIGFuZCBkaXJlY3RvcmllcyB1c2luZyBybSIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIkFjY2VzcyB0byBzZXJ2ZXJhIG1hY2hpbmUiLAogICAgICAiQmFzaWMgY29tbWFuZCBsaW5lIG5hdmlnYXRpb24iCiAgICBdLAogICAgInRhZ3MiOiBbImZpbGVzIiwgImRpcmVjdG9yaWVzIiwgIm1rZGlyIiwgInRvdWNoIiwgIm12IiwgImNwIiwgInJtIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTZXJ2ZXIgZm9yIGZpbGUgbWFuYWdlbWVudCBwcmFjdGljZSIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiSE9NRV9ESVIiOiAiL2hvbWUvc3R1ZGVudCIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogIm11c2ljLWRpcmVjdG9yeSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBNdXNpYyBkaXJlY3RvcnkgZXhpc3RzIHdpdGggc29uZyBmaWxlcyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJNdXNpYyBkaXJlY3Rvcnkgc2hvdWxkIGNvbnRhaW4gc29uZzEubXAzIHRocm91Z2ggc29uZzYubXAzIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZGlyZWN0b3J5X2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7SE9NRV9ESVJ9L011c2ljIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke0hPTUVfRElSfS9NdXNpYy9zb25nMS5tcDMiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7SE9NRV9ESVJ9L011c2ljL3Nvbmc2Lm1wMyIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJscyAke0hPTUVfRElSfS9NdXNpYy8qLm1wMyB8IHdjIC1sIHwgZ3JlcCAtcSAnXjYkJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJNdXNpYyBkaXJlY3RvcnkgY29udGFpbnMgYWxsIDYgc29uZyBmaWxlcyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiTXVzaWMgZGlyZWN0b3J5IG1pc3Npbmcgb3IgaW5jb21wbGV0ZSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIGRpcmVjdG9yeTogbWtkaXIgfi9NdXNpYyIsCiAgICAgICAgIkNyZWF0ZSBmaWxlczogdG91Y2ggc29uZzEubXAzIHNvbmcyLm1wMyAuLi4gc29uZzYubXAzIiwKICAgICAgICAiTW92ZSBmaWxlczogbXYgc29uZyoubXAzIE11c2ljLyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInBpY3R1cmVzLWRpcmVjdG9yeSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBQaWN0dXJlcyBkaXJlY3RvcnkgZXhpc3RzIHdpdGggc25hcCBmaWxlcyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJQaWN0dXJlcyBkaXJlY3Rvcnkgc2hvdWxkIGNvbnRhaW4gc25hcDEuanBnIHRocm91Z2ggc25hcDYuanBnIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZGlyZWN0b3J5X2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7SE9NRV9ESVJ9L1BpY3R1cmVzIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke0hPTUVfRElSfS9QaWN0dXJlcy9zbmFwMS5qcGciCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7SE9NRV9ESVJ9L1BpY3R1cmVzL3NuYXA2LmpwZyIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJscyAke0hPTUVfRElSfS9QaWN0dXJlcy8qLmpwZyB8IHdjIC1sIHwgZ3JlcCAtcSAnXjYkJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJQaWN0dXJlcyBkaXJlY3RvcnkgY29udGFpbnMgYWxsIDYgc25hcCBmaWxlcyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiUGljdHVyZXMgZGlyZWN0b3J5IG1pc3Npbmcgb3IgaW5jb21wbGV0ZSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIGRpcmVjdG9yeTogbWtkaXIgfi9QaWN0dXJlcyIsCiAgICAgICAgIkNyZWF0ZSBmaWxlczogdG91Y2ggc25hcDEuanBnIHNuYXAyLmpwZyAuLi4gc25hcDYuanBnIiwKICAgICAgICAiTW92ZSBmaWxlczogbXYgc25hcCouanBnIFBpY3R1cmVzLyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInZpZGVvcy1kaXJlY3RvcnkiLAogICAgICAibmFtZSI6ICJWZXJpZnkgVmlkZW9zIGRpcmVjdG9yeSBleGlzdHMgd2l0aCBmaWxtIGZpbGVzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlZpZGVvcyBkaXJlY3Rvcnkgc2hvdWxkIGNvbnRhaW4gZmlsbTEuYXZpIHRocm91Z2ggZmlsbTYuYXZpIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZGlyZWN0b3J5X2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7SE9NRV9ESVJ9L1ZpZGVvcyIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtIT01FX0RJUn0vVmlkZW9zL2ZpbG0xLmF2aSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtIT01FX0RJUn0vVmlkZW9zL2ZpbG02LmF2aSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJscyAke0hPTUVfRElSfS9WaWRlb3MvKi5hdmkgfCB3YyAtbCB8IGdyZXAgLXEgJ142JCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiVmlkZW9zIGRpcmVjdG9yeSBjb250YWlucyBhbGwgNiBmaWxtIGZpbGVzIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJWaWRlb3MgZGlyZWN0b3J5IG1pc3Npbmcgb3IgaW5jb21wbGV0ZSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIGRpcmVjdG9yeTogbWtkaXIgfi9WaWRlb3MiLAogICAgICAgICJDcmVhdGUgZmlsZXM6IHRvdWNoIGZpbG0xLmF2aSBmaWxtMi5hdmkgLi4uIGZpbG02LmF2aSIsCiAgICAgICAgIk1vdmUgZmlsZXM6IG12IGZpbG0qLmF2aSBWaWRlb3MvIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiY2xlYW51cC1jb21wbGV0ZSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBjbGVhbnVwIGNvbXBsZXRlZCAoZmFtaWx5LCBmcmllbmRzLCB3b3JrIHJlbW92ZWQpIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBmYW1pbHksIGZyaWVuZHMsIGFuZCB3b3JrIGRpcmVjdG9yaWVzIHNob3VsZCBiZSByZW1vdmVkIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogInRlc3QgISAtZCAke0hPTUVfRElSfS9mYW1pbHkiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJ0ZXN0ICEgLWQgJHtIT01FX0RJUn0vZnJpZW5kcyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogInRlc3QgISAtZCAke0hPTUVfRElSfS93b3JrIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkNsZWFudXAgY29tcGxldGUgLSB0ZW1wb3JhcnkgZGlyZWN0b3JpZXMgcmVtb3ZlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiVGVtcG9yYXJ5IGRpcmVjdG9yaWVzIHN0aWxsIGV4aXN0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJSZW1vdmUgZGlyZWN0b3JpZXM6IHJtIC1yZiB+L2ZhbWlseSB+L2ZyaWVuZHMgfi93b3JrIgogICAgICBdCiAgICB9CiAgXQp9CkZJTEVTX01BTkFHRV9KU09OX0VPRgoKICAgICMgQ3JlYXRlIGN1c3RvbV9sYWJzL2V4YW1wbGVzL2ZsYXRwYWstYXBwbGljYXRpb24uanNvbgogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9jdXN0b21fbGFicy9leGFtcGxlcy9mbGF0cGFrLWFwcGxpY2F0aW9uLmpzb24iIDw8ICdGTEFUUEFLX0FQUExJQ0FUSU9OX0pTT05fRU9GJwp7CiAgInZlcnNpb24iOiAiMS4wIiwKICAibWV0YWRhdGEiOiB7CiAgICAic2x1ZyI6ICJmbGF0cGFrLWFwcGxpY2F0aW9uIiwKICAgICJuYW1lIjogIk1hbmFnZSBBcHBsaWNhdGlvbnMgZnJvbSBGbGF0cGFrIiwKICAgICJkZXNjcmlwdGlvbiI6ICJMaXN0LCBzZWFyY2gsIGluc3RhbGwsIHJlbW92ZSwgYW5kIGdldCBtZXRhZGF0YSBpbmZvcm1hdGlvbiBvZiBhcHBsaWNhdGlvbnMgYnkgdXNpbmcgRmxhdHBhayIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgNyIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMjUgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIlVzZSBGbGF0cGFrIGNvbW1hbmRzIHRvIG1hbmFnZSBhcHBsaWNhdGlvbnMgYW5kIHJ1bnRpbWVzIiwKICAgICAgIkluc3RhbGwgYXBwbGljYXRpb25zIGFuZCByZXZpZXcgdGhlaXIgaW5mb3JtYXRpb24iLAogICAgICAiVW5pbnN0YWxsIEZsYXRwYWsgYXBwbGljYXRpb25zIGFuZCB0aGVpciBkZXBlbmRlbmNpZXMiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gd29ya3N0YXRpb24gbWFjaGluZSIsCiAgICAgICJyaGVsIGFuZCBteXJlcG8gRmxhdHBhayByZW1vdGVzIGNvbmZpZ3VyZWQiLAogICAgICAiRmxhdHBhayBwYWNrYWdlcyBpbnN0YWxsZWQiCiAgICBdLAogICAgInRhZ3MiOiBbImZsYXRwYWsiLCAiYXBwbGljYXRpb24iLCAiaW5zdGFsbCIsICJ1bmluc3RhbGwiLCAicnVudGltZSIsICJjb2RpdW0iLCAib2JzaWRpYW4iXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7CiAgICAgICAgIm5hbWUiOiAid29ya3N0YXRpb24iLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJXb3Jrc3RhdGlvbiBmb3IgRmxhdHBhayBhcHBsaWNhdGlvbiBtYW5hZ2VtZW50IiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfQogICAgXSwKICAgICJ2YXJpYWJsZXMiOiB7CiAgICAgICJDT0RJVU1fSUQiOiAiY29tLnZzY29kaXVtLmNvZGl1bSIsCiAgICAgICJPQlNJRElBTl9JRCI6ICJtZC5vYnNpZGlhbi5PYnNpZGlhbiIsCiAgICAgICJQTEFURk9STV9JRCI6ICJvcmcuZnJlZWRlc2t0b3AuUGxhdGZvcm0iLAogICAgICAiU0RLX0lEIjogIm9yZy5mcmVlZGVza3RvcC5TZGsiCiAgICB9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJyZW1vdGVzLWNvbmZpZ3VyZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgRmxhdHBhayByZW1vdGVzIGFyZSBjb25maWd1cmVkIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkJvdGggcmhlbCBhbmQgbXlyZXBvIHJlbW90ZXMgc2hvdWxkIGJlIGF2YWlsYWJsZSIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiZmF0YWwiOiB0cnVlLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgImNvbW1hbmQiOiAiZmxhdHBhayByZW1vdGVzIHwgZ3JlcCAtRSAnXihyaGVsfG15cmVwbyknIHwgd2MgLWwgfCBncmVwIC1xICdbMTJdJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJGbGF0cGFrIHJlbW90ZXMgYXJlIGNvbmZpZ3VyZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIlJlcXVpcmVkIEZsYXRwYWsgcmVtb3RlcyBub3QgZm91bmQgLSBydW4gJ2xhYiBzdGFydCBmbGF0cGFrLWFwcGxpY2F0aW9uJyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuICdsYWIgc3RhcnQgZmxhdHBhay1hcHBsaWNhdGlvbicgdG8gY29uZmlndXJlIHJlbW90ZXMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJjb2RpdW0tdW5pbnN0YWxsZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgVlNDb2RpdW0gaXMgdW5pbnN0YWxsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGNvbS52c2NvZGl1bS5jb2RpdW0gYXBwbGljYXRpb24gc2hvdWxkIGJlIHJlbW92ZWQiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogIndvcmtzdGF0aW9uIiwKICAgICAgICAgICJjb21tYW5kIjogIiEgZmxhdHBhayBsaXN0IC0tdXNlciAyPi9kZXYvbnVsbCB8IGdyZXAgLXFpIGNvZGl1bSIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJWU0NvZGl1bSBhcHBsaWNhdGlvbiBpcyB1bmluc3RhbGxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiVlNDb2RpdW0gaXMgc3RpbGwgaW5zdGFsbGVkIC0gc2hvdWxkIGJlIHJlbW92ZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlVuaW5zdGFsbCB3aXRoOiBmbGF0cGFrIHVuaW5zdGFsbCBjb20udnNjb2RpdW0uY29kaXVtIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAib2JzaWRpYW4tdW5pbnN0YWxsZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgT2JzaWRpYW4gaXMgdW5pbnN0YWxsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG1kLm9ic2lkaWFuLk9ic2lkaWFuIGFwcGxpY2F0aW9uIHNob3VsZCBiZSByZW1vdmVkIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAiY29tbWFuZCI6ICIhIGZsYXRwYWsgbGlzdCAtLXVzZXIgMj4vZGV2L251bGwgfCBncmVwIC1xaSBvYnNpZGlhbiIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJPYnNpZGlhbiBhcHBsaWNhdGlvbiBpcyB1bmluc3RhbGxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiT2JzaWRpYW4gaXMgc3RpbGwgaW5zdGFsbGVkIC0gc2hvdWxkIGJlIHJlbW92ZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlVuaW5zdGFsbCB2aWEgR05PTUUgU29mdHdhcmUgb3I6IGZsYXRwYWsgdW5pbnN0YWxsIG1kLm9ic2lkaWFuLk9ic2lkaWFuIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAic2RrLXVuaW5zdGFsbGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IEZyZWVkZXNrdG9wIFNESyBpcyB1bmluc3RhbGxlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgb3JnLmZyZWVkZXNrdG9wLlNkayBydW50aW1lIHNob3VsZCBiZSByZW1vdmVkIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAiY29tbWFuZCI6ICIhIGZsYXRwYWsgbGlzdCAtLXVzZXIgMj4vZGV2L251bGwgfCBncmVwIC1xICdvcmcuZnJlZWRlc2t0b3AuU2RrJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJGcmVlZGVza3RvcCBTREsgcnVudGltZSBpcyB1bmluc3RhbGxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiRnJlZWRlc2t0b3AgU0RLIGlzIHN0aWxsIGluc3RhbGxlZCAtIHNob3VsZCBiZSByZW1vdmVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVbmluc3RhbGwgd2l0aDogZmxhdHBhayB1bmluc3RhbGwgb3JnLmZyZWVkZXNrdG9wLlNkayIsCiAgICAgICAgIk11c3QgdW5pbnN0YWxsIGNvZGl1bSBmaXJzdCAoaXQgZGVwZW5kcyBvbiBTREspIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAicGxhdGZvcm0tdW5pbnN0YWxsZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgRnJlZWRlc2t0b3AgUGxhdGZvcm0gaXMgdW5pbnN0YWxsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG9yZy5mcmVlZGVza3RvcC5QbGF0Zm9ybSBydW50aW1lIHNob3VsZCBiZSByZW1vdmVkIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAiY29tbWFuZCI6ICIhIGZsYXRwYWsgbGlzdCAtLXVzZXIgMj4vZGV2L251bGwgfCBncmVwIC1xICdvcmcuZnJlZWRlc2t0b3AuUGxhdGZvcm0nIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkZyZWVkZXNrdG9wIFBsYXRmb3JtIHJ1bnRpbWUgaXMgdW5pbnN0YWxsZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkZyZWVkZXNrdG9wIFBsYXRmb3JtIGlzIHN0aWxsIGluc3RhbGxlZCAtIHNob3VsZCBiZSByZW1vdmVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVbmluc3RhbGwgdmlhIEdOT01FIFNvZnR3YXJlIG9yOiBmbGF0cGFrIHVuaW5zdGFsbCBvcmcuZnJlZWRlc2t0b3AuUGxhdGZvcm0iLAogICAgICAgICJNdXN0IHVuaW5zdGFsbCBPYnNpZGlhbiBmaXJzdCAoaXQgZGVwZW5kcyBvbiBQbGF0Zm9ybSkiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJuby1mbGF0cGFrcy1pbnN0YWxsZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgbm8gdXNlciBGbGF0cGFrIG9iamVjdHMgcmVtYWluIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkFsbCB1c2VyIEZsYXRwYWsgYXBwbGljYXRpb25zIGFuZCBydW50aW1lcyBzaG91bGQgYmUgcmVtb3ZlZCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgImNvbW1hbmQiOiAidGVzdCAteiBcIiQoZmxhdHBhayBsaXN0IC0tdXNlciAyPi9kZXYvbnVsbCB8IGdyZXAgLXYgJ14kJylcIiIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJObyB1c2VyIEZsYXRwYWsgb2JqZWN0cyBpbnN0YWxsZWQgKGNsZWFuIHN0YXRlKSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiU29tZSBGbGF0cGFrIG9iamVjdHMgYXJlIHN0aWxsIGluc3RhbGxlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiTGlzdCBpbnN0YWxsZWQ6IGZsYXRwYWsgbGlzdCAtLXVzZXIiLAogICAgICAgICJSZW1vdmUgYWxsIHVudXNlZDogZmxhdHBhayB1bmluc3RhbGwgLS11bnVzZWQiCiAgICAgIF0KICAgIH0KICBdCn0KRkxBVFBBS19BUFBMSUNBVElPTl9KU09OX0VPRgoKICAgICMgQ3JlYXRlIGN1c3RvbV9sYWJzL2V4YW1wbGVzL2ZsYXRwYWstY29uZmlndXJlLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvZmxhdHBhay1jb25maWd1cmUuanNvbiIgPDwgJ0ZMQVRQQUtfQ09ORklHVVJFX0pTT05fRU9GJwp7CiAgInZlcnNpb24iOiAiMS4wIiwKICAibWV0YWRhdGEiOiB7CiAgICAic2x1ZyI6ICJmbGF0cGFrLWNvbmZpZ3VyZSIsCiAgICAibmFtZSI6ICJDb25maWd1cmUgRmxhdHBhayBmb3IgQXBwbGljYXRpb24gSW5zdGFsbGF0aW9uIiwKICAgICJkZXNjcmlwdGlvbiI6ICJJbnN0YWxsIGFuZCBjb25maWd1cmUgRmxhdHBhayB0b29scyBhbmQgYWNjZXNzIHRvIHJlbW90ZSByZXBvc2l0b3JpZXMiLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDciLAogICAgImVzdGltYXRlZF90aW1lIjogIjIwIG1pbnV0ZXMiLAogICAgIm9iamVjdGl2ZXMiOiBbCiAgICAgICJWZXJpZnkgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIHByZWluc3RhbGxlZCBGbGF0cGFrIHBhY2thZ2UgbWFuYWdlciIsCiAgICAgICJEaXNhYmxlIGFuZCBlbmFibGUgYSByZW1vdGUgRmxhdHBhayByZXBvc2l0b3J5IiwKICAgICAgIkFkZCBhIGN1c3RvbSByZW1vdGUgcmVwb3NpdG9yeSIsCiAgICAgICJJbnN0YWxsIGFuZCByZW1vdmUgRmxhdHBhayBhcHBsaWNhdGlvbnMiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gd29ya3N0YXRpb24gbWFjaGluZSIsCiAgICAgICJGbGF0cGFrIHBhY2thZ2VzIGluc3RhbGxlZCIsCiAgICAgICJOZXR3b3JrIGFjY2VzcyB0byBmbGF0cGFrLmxhYi5leGFtcGxlLmNvbSIKICAgIF0sCiAgICAidGFncyI6IFsiZmxhdHBhayIsICJyZXBvc2l0b3J5IiwgInJlbW90ZSIsICJhcHBsaWNhdGlvbiIsICJydW50aW1lIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogIndvcmtzdGF0aW9uIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiV29ya3N0YXRpb24gZm9yIEZsYXRwYWsgY29uZmlndXJhdGlvbiBwcmFjdGljZSIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiRkxBVFBBS19DT05GSUdfRElSIjogIi9ldGMvZmxhdHBhayIsCiAgICAgICJSSEVMX1JFUE9fRklMRSI6ICIvZXRjL2ZsYXRwYWsvcmVtb3Rlcy5kL3JoZWwuZmxhdHBha3JlcG8iLAogICAgICAiTVlSRVBPX1VSTCI6ICJodHRwOi8vZmxhdHBhay5sYWIuZXhhbXBsZS5jb20vbXlyZXBvLmZsYXRwYWtyZXBvIgogICAgfQogIH0sCiAgInRhc2tzIjogWwogICAgewogICAgICAiaWQiOiAiZmxhdHBhay1pbnN0YWxsZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgRmxhdHBhayBwYWNrYWdlcyBhcmUgaW5zdGFsbGVkIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkZsYXRwYWsgcGFja2FnZSBtYW5hZ2VyIG11c3QgYmUgaW5zdGFsbGVkIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJmYXRhbCI6IHRydWUsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAicGFja2FnZV9pbnN0YWxsZWQiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgInBhY2thZ2UiOiAiZmxhdHBhayIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiRmxhdHBhayBwYWNrYWdlcyBhcmUgaW5zdGFsbGVkIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJGbGF0cGFrIGlzIG5vdCBpbnN0YWxsZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkluc3RhbGwgd2l0aDogc3VkbyBkbmYgaW5zdGFsbCBmbGF0cGFrIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiZmxhdHBhay1jb25maWctZXhpc3RzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IEZsYXRwYWsgY29uZmlndXJhdGlvbiBkaXJlY3RvcnkgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSAvZXRjL2ZsYXRwYWsgZGlyZWN0b3J5IHNob3VsZCBjb250YWluIGNvbmZpZ3VyYXRpb24gZmlsZXMiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJkaXJlY3RvcnlfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogIndvcmtzdGF0aW9uIiwKICAgICAgICAgICJwYXRoIjogIiR7RkxBVFBBS19DT05GSUdfRElSfSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiRmxhdHBhayBjb25maWd1cmF0aW9uIGRpcmVjdG9yeSBleGlzdHMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIi9ldGMvZmxhdHBhayBkaXJlY3Rvcnkgbm90IGZvdW5kIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJUaGlzIGRpcmVjdG9yeSBpcyBjcmVhdGVkIHdoZW4gRmxhdHBhayBpcyBpbnN0YWxsZWQiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJyaGVsLWZsYXRwYWtyZXBvLWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSByaGVsLmZsYXRwYWtyZXBvIGZpbGUgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBwcmVjb25maWd1cmVkIFJIRUwgRmxhdHBhayByZXBvc2l0b3J5IGZpbGUgc2hvdWxkIGV4aXN0IiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgInBhdGgiOiAiJHtSSEVMX1JFUE9fRklMRX0iCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogInJoZWwuZmxhdHBha3JlcG8gY29uZmlndXJhdGlvbiBmaWxlIGV4aXN0cyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAicmhlbC5mbGF0cGFrcmVwbyBub3QgZm91bmQgaW4gL2V0Yy9mbGF0cGFrL3JlbW90ZXMuZC8iLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSByZWRoYXQtZmxhdHBhay1yZXBvIHBhY2thZ2UiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJyaGVsLXJlbW90ZS1lbmFibGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHJoZWwgcmVtb3RlIHJlcG9zaXRvcnkgaXMgZW5hYmxlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgcmhlbCByZW1vdGUgc2hvdWxkIGJlIHJlLWVuYWJsZWQgKGZpbmFsIHN0YXRlKSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgImNvbW1hbmQiOiAiZmxhdHBhayByZW1vdGVzIHwgZ3JlcCAtRSAnXnJoZWxcXHMnIHwgZ3JlcCAtdiBkaXNhYmxlZCIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJyaGVsIHJlbW90ZSByZXBvc2l0b3J5IGlzIGVuYWJsZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInJoZWwgcmVtb3RlIHJlcG9zaXRvcnkgaXMgZGlzYWJsZWQgb3Igbm90IGNvbmZpZ3VyZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkVuYWJsZSB2aWEgR05PTUUgU29mdHdhcmU6IFNvZnR3YXJlIFJlcG9zaXRvcmllcyA+IFJlZCBIYXQgRW50ZXJwcmlzZSBMaW51eCA+IE9uIiwKICAgICAgICAiT3IgdXNlOiBmbGF0cGFrIHJlbW90ZS1tb2RpZnkgLS1lbmFibGUgcmhlbCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm15cmVwby1yZW1vdmVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IG15cmVwbyByZW1vdGUgaXMgcmVtb3ZlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgY3VzdG9tIG15cmVwbyByZW1vdGUgc2hvdWxkIGJlIGRlbGV0ZWQgKGZpbmFsIHN0YXRlKSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgImNvbW1hbmQiOiAiISBmbGF0cGFrIHJlbW90ZXMgLS11c2VyIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSBteXJlcG8iLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAibXlyZXBvIHJlbW90ZSByZXBvc2l0b3J5IGhhcyBiZWVuIHJlbW92ZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIm15cmVwbyByZW1vdGUgc3RpbGwgZXhpc3RzIC0gc2hvdWxkIGJlIGRlbGV0ZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkRlbGV0ZSB3aXRoOiBmbGF0cGFrIHJlbW90ZS1kZWxldGUgbXlyZXBvIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiZnJlZWRlc2t0b3AtcGxhdGZvcm0tcmVtb3ZlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBmcmVlZGVza3RvcC5QbGF0Zm9ybSBydW50aW1lIGlzIHJlbW92ZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGZyZWVkZXNrdG9wLlBsYXRmb3JtIHJ1bnRpbWUgc2hvdWxkIGJlIHVuaW5zdGFsbGVkIChyZW1vdmVkIHdpdGggbXlyZXBvKSIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgImNvbW1hbmQiOiAiISBmbGF0cGFrIGxpc3QgLS11c2VyIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSBvcmcuZnJlZWRlc2t0b3AuUGxhdGZvcm0iLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiZnJlZWRlc2t0b3AuUGxhdGZvcm0gcnVudGltZSBoYXMgYmVlbiByZW1vdmVkIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJmcmVlZGVza3RvcC5QbGF0Zm9ybSBydW50aW1lIHN0aWxsIGluc3RhbGxlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiVGhpcyBzaG91bGQgYmUgcmVtb3ZlZCB3aGVuIGRlbGV0aW5nIG15cmVwbyIsCiAgICAgICAgIk9yIG1hbnVhbGx5OiBmbGF0cGFrIHVuaW5zdGFsbCBvcmcuZnJlZWRlc2t0b3AuUGxhdGZvcm0iCiAgICAgIF0KICAgIH0KICBdCn0KRkxBVFBBS19DT05GSUdVUkVfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9mcy1sb2NhdGUuanNvbgogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9jdXN0b21fbGFicy9leGFtcGxlcy9mcy1sb2NhdGUuanNvbiIgPDwgJ0ZTX0xPQ0FURV9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAiZnMtbG9jYXRlIiwKICAgICJuYW1lIjogIkxvY2F0ZSBGaWxlcyBvbiBhIEZpbGUgU3lzdGVtIiwKICAgICJkZXNjcmlwdGlvbiI6ICJTZWFyY2ggZm9yIGZpbGVzIG9uIGEgZmlsZSBzeXN0ZW0gdGhhdCBpcyBjdXJyZW50bHkgbW91bnRlZCIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgOCIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMTUgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIlVwZGF0ZSB0aGUgbG9jYXRlIGRhdGFiYXNlIHdpdGggdXBkYXRlZGIiLAogICAgICAiU2VhcmNoIGZvciBmaWxlcyB1c2luZyB0aGUgbG9jYXRlIGNvbW1hbmQiLAogICAgICAiU2VhcmNoIGZvciBmaWxlcyB1c2luZyB0aGUgZmluZCBjb21tYW5kIHdpdGggdmFyaW91cyBjcml0ZXJpYSIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIkFjY2VzcyB0byBzZXJ2ZXJhIG1hY2hpbmUiLAogICAgICAiUm9vdCBhY2Nlc3MgdmlhIHN1ZG8iCiAgICBdLAogICAgInRhZ3MiOiBbImZpbmQiLCAibG9jYXRlIiwgInNlYXJjaCIsICJmaWxlcyIsICJmaWxlc3lzdGVtIiwgInVwZGF0ZWRiIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTZXJ2ZXIgZm9yIGZpbGUgc2VhcmNoIHByYWN0aWNlIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfQogICAgXSwKICAgICJ2YXJpYWJsZXMiOiB7fQogIH0sCiAgInRhc2tzIjogWwogICAgewogICAgICAiaWQiOiAibG9jYXRlLWluc3RhbGxlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBsb2NhdGUvbWxvY2F0ZSBwYWNrYWdlIGlzIGluc3RhbGxlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgbG9jYXRlIGNvbW1hbmQgbXVzdCBiZSBhdmFpbGFibGUiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImZhdGFsIjogdHJ1ZSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAid2hpY2ggbG9jYXRlIHx8IHdoaWNoIG1sb2NhdGUgfHwgd2hpY2ggcGxvY2F0ZSIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJsb2NhdGUgY29tbWFuZCBpcyBhdmFpbGFibGUiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImxvY2F0ZSBjb21tYW5kIG5vdCBmb3VuZCAtIGluc3RhbGwgbWxvY2F0ZSBvciBwbG9jYXRlIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJJbnN0YWxsIHdpdGg6IHN1ZG8gZG5mIGluc3RhbGwgbWxvY2F0ZSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImxvY2F0ZWRiLXVwZGF0ZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgbG9jYXRlIGRhdGFiYXNlIHdhcyB1cGRhdGVkIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBsb2NhdGUgZGF0YWJhc2Ugc2hvdWxkIGhhdmUgYmVlbiB1cGRhdGVkIHJlY2VudGx5IHdpdGggdXBkYXRlZGIiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAidGVzdCAtZiAvdmFyL2xpYi9tbG9jYXRlL21sb2NhdGUuZGIgLW8gLWYgL3Zhci9saWIvcGxvY2F0ZS9wbG9jYXRlLmRiIC1vIC1mIC92YXIvbGliL2xvY2F0ZS9sb2NhdGVkYiAmJiBmaW5kIC92YXIvbGliL21sb2NhdGUgL3Zhci9saWIvcGxvY2F0ZSAvdmFyL2xpYi9sb2NhdGUgLW5hbWUgJyouZGInIC1tbWluIC02MCAyPi9kZXYvbnVsbCB8IGdyZXAgLXEgLiIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJsb2NhdGUgZGF0YWJhc2Ugd2FzIHVwZGF0ZWQgcmVjZW50bHkiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImxvY2F0ZSBkYXRhYmFzZSBub3QgZm91bmQgb3Igbm90IHJlY2VudGx5IHVwZGF0ZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlVwZGF0ZSBkYXRhYmFzZTogc3VkbyB1cGRhdGVkYiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImxvY2F0ZS1sb2dyb3RhdGUiLAogICAgICAibmFtZSI6ICJWZXJpZnkgbG9jYXRlIGZpbmRzIGxvZ3JvdGF0ZS5jb25mIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBsb2NhdGUgY29tbWFuZCBzaG91bGQgZmluZCBsb2dyb3RhdGUuY29uZiIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJsb2NhdGUgbG9ncm90YXRlLmNvbmYgfCBncmVwIC1xIGxvZ3JvdGF0ZS5jb25mIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImxvY2F0ZSBzdWNjZXNzZnVsbHkgZmluZHMgbG9ncm90YXRlLmNvbmYiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImxvY2F0ZSBjYW5ub3QgZmluZCBsb2dyb3RhdGUuY29uZiIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuOiBsb2NhdGUgbG9ncm90YXRlLmNvbmYiLAogICAgICAgICJJZiBub3QgZm91bmQsIHVwZGF0ZSBkYXRhYmFzZTogc3VkbyB1cGRhdGVkYiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImxvY2F0ZS1uZXR3b3JrbWFuYWdlciIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBsb2NhdGUgZmluZHMgTmV0d29ya01hbmFnZXIuY29uZiAoY2FzZS1pbnNlbnNpdGl2ZSkiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGxvY2F0ZSAtaSBjb21tYW5kIHNob3VsZCBmaW5kIE5ldHdvcmtNYW5hZ2VyLmNvbmYiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAibG9jYXRlIC1pIG5ldHdvcmttYW5hZ2VyLmNvbmYgfCBncmVwIC1xaSBuZXR3b3JrbWFuYWdlci5jb25mIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImxvY2F0ZSAtaSBzdWNjZXNzZnVsbHkgZmluZHMgTmV0d29ya01hbmFnZXIuY29uZiIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAibG9jYXRlIC1pIGNhbm5vdCBmaW5kIE5ldHdvcmtNYW5hZ2VyLmNvbmYiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlJ1bjogbG9jYXRlIC1pIG5ldHdvcmttYW5hZ2VyLmNvbmYiLAogICAgICAgICJUaGUgLWkgZmxhZyBlbmFibGVzIGNhc2UtaW5zZW5zaXRpdmUgc2VhcmNoIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiZmluZC1jaHJvbnktZmlsZXMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgZmluZCBsb2NhdGVzIGNocm9ueS1vd25lZCBmaWxlcyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgZmluZCBjb21tYW5kIHNob3VsZCBsb2NhdGUgZmlsZXMgb3duZWQgYnkgY2hyb255IGluIC92YXIvbGliIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiLAogICAgICAgICAgImNvbW1hbmQiOiAiZmluZCAvdmFyL2xpYiAtdXNlciBjaHJvbnkgMj4vZGV2L251bGwgfCBncmVwIC1xIGNocm9ueSIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJmaW5kIHN1Y2Nlc3NmdWxseSBsb2NhdGVzIGNocm9ueS1vd25lZCBmaWxlcyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiZmluZCBjYW5ub3QgbG9jYXRlIGNocm9ueS1vd25lZCBmaWxlcyBpbiAvdmFyL2xpYiIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuOiBzdWRvIGZpbmQgL3Zhci9saWIgLXVzZXIgY2hyb255IgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiZmluZC1yb290LW1haWwtZmlsZXMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgZmluZCBsb2NhdGVzIHJvb3Q6bWFpbCBvd25lZCBmaWxlcyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgZmluZCBjb21tYW5kIHNob3VsZCBsb2NhdGUgZmlsZXMgb3duZWQgYnkgcm9vdCB1c2VyIGFuZCBtYWlsIGdyb3VwIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiLAogICAgICAgICAgImNvbW1hbmQiOiAiZmluZCAvdmFyIC11c2VyIHJvb3QgLWdyb3VwIG1haWwgMj4vZGV2L251bGwgfCBncmVwIC1xIC4iLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiZmluZCBzdWNjZXNzZnVsbHkgbG9jYXRlcyByb290Om1haWwgb3duZWQgZmlsZXMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImZpbmQgY2Fubm90IGxvY2F0ZSBmaWxlcyBvd25lZCBieSByb290Om1haWwgaW4gL3ZhciIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuOiBzdWRvIGZpbmQgL3ZhciAtdXNlciByb290IC1ncm91cCBtYWlsIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiZmluZC1sYXJnZS1maWxlcyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBmaW5kIGxvY2F0ZXMgZmlsZXMgYnkgc2l6ZSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgZmluZCBjb21tYW5kIHNob3VsZCBsb2NhdGUgZmlsZXMgbGFyZ2VyIHRoYW4gNTBLQiBpbiAvdXNyL2JpbiIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJmaW5kIC91c3IvYmluIC1zaXplICs1MGsgMj4vZGV2L251bGwgfCBncmVwIC1xIC4iLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiZmluZCBzdWNjZXNzZnVsbHkgbG9jYXRlcyBmaWxlcyBsYXJnZXIgdGhhbiA1MEtCIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJmaW5kIGNhbm5vdCBsb2NhdGUgZmlsZXMgbGFyZ2VyIHRoYW4gNTBLQiBpbiAvdXNyL2JpbiIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuOiBmaW5kIC91c3IvYmluIC1zaXplICs1MGsiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJmaW5kLWJsb2NrLWRldmljZXMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgZmluZCBsb2NhdGVzIGJsb2NrIGRldmljZSBmaWxlcyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgZmluZCBjb21tYW5kIHNob3VsZCBsb2NhdGUgYmxvY2sgZGV2aWNlIGZpbGVzIGluIC9kZXYiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAiZmluZCAvZGV2IC10eXBlIGIgMj4vZGV2L251bGwgfCBncmVwIC1xIC4iLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiZmluZCBzdWNjZXNzZnVsbHkgbG9jYXRlcyBibG9jayBkZXZpY2UgZmlsZXMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImZpbmQgY2Fubm90IGxvY2F0ZSBibG9jayBkZXZpY2UgZmlsZXMgaW4gL2RldiIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuOiBmaW5kIC9kZXYgLXR5cGUgYiIsCiAgICAgICAgIlRoZSAtdHlwZSBiIGZsYWcgZmluZHMgYmxvY2sgc3BlY2lhbCBmaWxlcyIKICAgICAgXQogICAgfQogIF0KfQpGU19MT0NBVEVfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9mcy1tb3VudC5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL2ZzLW1vdW50Lmpzb24iIDw8ICdGU19NT1VOVF9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAiZnMtbW91bnQiLAogICAgIm5hbWUiOiAiTW91bnQgYW5kIFVubW91bnQgYSBGaWxlIFN5c3RlbSIsCiAgICAiZGVzY3JpcHRpb24iOiAiTW91bnQgYW5kIHVubW91bnQgYSBmaWxlIHN5c3RlbSB0aGF0IGlzIG9uIHJlbW92YWJsZSBtZWRpYSIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgOCIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMTUgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIklkZW50aWZ5IGFuZCBtb3VudCBhIG5ldyBmaWxlIHN5c3RlbSBhdCBhIHNwZWNpZmllZCBtb3VudCBwb2ludCIsCiAgICAgICJDcmVhdGUgZGlyZWN0b3JpZXMgYW5kIGZpbGVzIG9uIG1vdW50ZWQgZmlsZSBzeXN0ZW1zIiwKICAgICAgIlVubW91bnQgdGhlIGZpbGUgc3lzdGVtIHByb3Blcmx5IgogICAgXSwKICAgICJwcmVyZXF1aXNpdGVzIjogWwogICAgICAiQWNjZXNzIHRvIHNlcnZlcmEgbWFjaGluZSIsCiAgICAgICJSb290IGFjY2VzcyB2aWEgc3VkbyIsCiAgICAgICIvZGV2L3NkYjEgcGFydGl0aW9uIHdpdGggWEZTIGZpbGVzeXN0ZW0gZXhpc3RzIgogICAgXSwKICAgICJ0YWdzIjogWyJtb3VudCIsICJ1bW91bnQiLCAiZmlsZXN5c3RlbSIsICJ1dWlkIiwgInhmcyIsICJwYXJ0aXRpb24iXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7CiAgICAgICAgIm5hbWUiOiAic2VydmVyYSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlNlcnZlciBmb3IgZmlsZXN5c3RlbSBtb3VudGluZyBwcmFjdGljZSIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiTU9VTlRfUE9JTlQiOiAiL21udC9wYXJ0MSIsCiAgICAgICJERVZJQ0UiOiAiL2Rldi9zZGIxIiwKICAgICAgIlRFU1RfRElSIjogIi9tbnQvcGFydDEvdGVzdGRpciIsCiAgICAgICJURVNUX0ZJTEUiOiAiL21udC9wYXJ0MS90ZXN0ZGlyL25ld21vdW50IgogICAgfQogIH0sCiAgInRhc2tzIjogWwogICAgewogICAgICAiaWQiOiAicGFydGl0aW9uLWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSAvZGV2L3NkYjEgcGFydGl0aW9uIGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgL2Rldi9zZGIxIHBhcnRpdGlvbiBtdXN0IGV4aXN0IHdpdGggYSBmaWxlc3lzdGVtIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJmYXRhbCI6IHRydWUsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogImxzYmxrIC9kZXYvc2RiMSAyPi9kZXYvbnVsbCIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICIvZGV2L3NkYjEgcGFydGl0aW9uIGV4aXN0cyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiL2Rldi9zZGIxIHBhcnRpdGlvbiBub3QgZm91bmQgLSBydW4gJ2xhYiBzdGFydCBmcy1tb3VudCciLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlJ1biAnbGFiIHN0YXJ0IGZzLW1vdW50JyB0byBjcmVhdGUgdGhlIHBhcnRpdGlvbiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm1vdW50LXBvaW50LWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSAvbW50L3BhcnQxIG1vdW50IHBvaW50IGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgbW91bnQgcG9pbnQgZGlyZWN0b3J5IHNob3VsZCBleGlzdCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImRpcmVjdG9yeV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke01PVU5UX1BPSU5UfSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiL21udC9wYXJ0MSBtb3VudCBwb2ludCBkaXJlY3RvcnkgZXhpc3RzIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICIvbW50L3BhcnQxIGRpcmVjdG9yeSBub3QgZm91bmQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNyZWF0ZSBtb3VudCBwb2ludDogc3VkbyBta2RpciAvbW50L3BhcnQxIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAidGVzdGRpci1jcmVhdGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHRlc3RkaXIgd2FzIGNyZWF0ZWQgb24gZmlsZXN5c3RlbSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgdGVzdGRpciBkaXJlY3Rvcnkgc2hvdWxkIGV4aXN0IG9uIHRoZSAvZGV2L3NkYjEgZmlsZXN5c3RlbSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlciI6ICJyb290IiwKICAgICAgICAgICJjb21tYW5kIjogIm1vdW50IC9kZXYvc2RiMSAvbW50L3BhcnQxIDI+L2Rldi9udWxsOyB0ZXN0IC1kIC9tbnQvcGFydDEvdGVzdGRpcjsgcmM9JD87IHVtb3VudCAvbW50L3BhcnQxIDI+L2Rldi9udWxsOyBleGl0ICRyYyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJ0ZXN0ZGlyIGRpcmVjdG9yeSBleGlzdHMgb24gL2Rldi9zZGIxIGZpbGVzeXN0ZW0iLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInRlc3RkaXIgZGlyZWN0b3J5IG5vdCBmb3VuZCBvbiBmaWxlc3lzdGVtIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJNb3VudCB0aGUgZmlsZXN5c3RlbSBhbmQgY3JlYXRlOiBta2RpciAvbW50L3BhcnQxL3Rlc3RkaXIiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJuZXdtb3VudC1maWxlLWNyZWF0ZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgbmV3bW91bnQgZmlsZSB3YXMgY3JlYXRlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgdGVzdGRpci9uZXdtb3VudCBmaWxlIHNob3VsZCBleGlzdCBvbiB0aGUgZmlsZXN5c3RlbSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlciI6ICJyb290IiwKICAgICAgICAgICJjb21tYW5kIjogIm1vdW50IC9kZXYvc2RiMSAvbW50L3BhcnQxIDI+L2Rldi9udWxsOyB0ZXN0IC1mIC9tbnQvcGFydDEvdGVzdGRpci9uZXdtb3VudDsgcmM9JD87IHVtb3VudCAvbW50L3BhcnQxIDI+L2Rldi9udWxsOyBleGl0ICRyYyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJ0ZXN0ZGlyL25ld21vdW50IGZpbGUgZXhpc3RzIG9uIGZpbGVzeXN0ZW0iLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInRlc3RkaXIvbmV3bW91bnQgZmlsZSBub3QgZm91bmQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNyZWF0ZSBmaWxlOiB0b3VjaCAvbW50L3BhcnQxL3Rlc3RkaXIvbmV3bW91bnQiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJmaWxlc3lzdGVtLXVubW91bnRlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBmaWxlc3lzdGVtIGlzIHVubW91bnRlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgL2Rldi9zZGIxIGZpbGVzeXN0ZW0gc2hvdWxkIGJlIHVubW91bnRlZCAoZmluYWwgc3RhdGUpIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogIiEgbW91bnQgfCBncmVwIC1xICcvZGV2L3NkYjEnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIi9kZXYvc2RiMSBpcyB1bm1vdW50ZWQgKGNvcnJlY3QgZmluYWwgc3RhdGUpIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICIvZGV2L3NkYjEgaXMgc3RpbGwgbW91bnRlZCAtIHNob3VsZCBiZSB1bm1vdW50ZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNoYW5nZSB0byBhbm90aGVyIGRpcmVjdG9yeSBmaXJzdDogY2QiLAogICAgICAgICJVbm1vdW50OiBzdWRvIHVtb3VudCAvbW50L3BhcnQxIgogICAgICBdCiAgICB9CiAgXQp9CkZTX01PVU5UX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvaGVscC1tYW51YWwuanNvbgogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9jdXN0b21fbGFicy9leGFtcGxlcy9oZWxwLW1hbnVhbC5qc29uIiA8PCAnSEVMUF9NQU5VQUxfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogImhlbHAtbWFudWFsIiwKICAgICJuYW1lIjogIkdldCBIZWxwIGZyb20gTWFudWFsIFBhZ2VzIiwKICAgICJkZXNjcmlwdGlvbiI6ICJGaW5kIGluZm9ybWF0aW9uIGluIGxvY2FsIExpbnV4IHN5c3RlbSBtYW51YWwgcGFnZXMiLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDIiLAogICAgImVzdGltYXRlZF90aW1lIjogIjIwIG1pbnV0ZXMiLAogICAgIm9iamVjdGl2ZXMiOiBbCiAgICAgICJTZWFyY2ggYW5kIGJyb3dzZSB0aGUgTGludXggbWFudWFsIHBhZ2VzIiwKICAgICAgIlVzZSBtYW4gY29tbWFuZCB3aXRoIHNlY3Rpb24gbnVtYmVycyIsCiAgICAgICJTZWFyY2ggbWFuIHBhZ2VzIHdpdGggbWFuIC1rIiwKICAgICAgIlVzZSB3aGVyZWlzIHRvIGxvY2F0ZSBiaW5hcmllcyBhbmQgbWFuIHBhZ2VzIiwKICAgICAgIk9wZW4gZmlsZXMgYXQgc3BlY2lmaWMgbGluZSBudW1iZXJzIHdpdGggdmkiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gd29ya3N0YXRpb24gbWFjaGluZSIsCiAgICAgICJCYXNpYyB0ZXJtaW5hbCB1c2FnZSIKICAgIF0sCiAgICAidGFncyI6IFsibWFuIiwgImhlbHAiLCAiZG9jdW1lbnRhdGlvbiIsICJ2aSIsICJ3aGVyZWlzIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogIndvcmtzdGF0aW9uIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU3R1ZGVudCB3b3Jrc3RhdGlvbiIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiTUFOVUFMX0ZJTEUiOiAiL2hvbWUvc3R1ZGVudC9tYW51YWwiCiAgICB9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJtYW51YWwtZmlsZS1leGlzdHMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgbWFudWFsIGZpbGUgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSAvaG9tZS9zdHVkZW50L21hbnVhbCBmaWxlIHNob3VsZCBleGlzdCBmcm9tIGxhYiBzdGFydCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiZmF0YWwiOiB0cnVlLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogIndvcmtzdGF0aW9uIiwKICAgICAgICAgICJwYXRoIjogIiR7TUFOVUFMX0ZJTEV9IgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJNYW51YWwgZmlsZSBleGlzdHMgYXQgL2hvbWUvc3R1ZGVudC9tYW51YWwiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIk1hbnVhbCBmaWxlIG5vdCBmb3VuZCAtIHJ1biAnbGFiIHN0YXJ0IGhlbHAtbWFudWFsJyBmaXJzdCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuICdsYWIgc3RhcnQgaGVscC1tYW51YWwnIHRvIGNyZWF0ZSB0aGUgZXhlcmNpc2UgZW52aXJvbm1lbnQiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJtYW51YWwtZmlsZS1jb250ZW50IiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IG1hbnVhbCBmaWxlIGhhcyBleHBlY3RlZCBjb250ZW50IiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBtYW51YWwgZmlsZSBzaG91bGQgY29udGFpbiB0aGUgZXhwZWN0ZWQgdGV4dCBmb3IgdGhlIHZpIGV4ZXJjaXNlIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9jb250YWlucyIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAicGF0aCI6ICIke01BTlVBTF9GSUxFfSIsCiAgICAgICAgICAicGF0dGVybiI6ICJ0aGlzIGlzIHRoZSBmaXJzdCBsaW5lIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9jb250YWlucyIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAicGF0aCI6ICIke01BTlVBTF9GSUxFfSIsCiAgICAgICAgICAicGF0dGVybiI6ICJxdWljayBicm93biBmb3giCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIk1hbnVhbCBmaWxlIGNvbnRhaW5zIGV4cGVjdGVkIGNvbnRlbnQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIk1hbnVhbCBmaWxlIGNvbnRlbnQgaXMgaW5jb3JyZWN0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJUaGUgZmlsZSBzaG91bGQgY29udGFpbiBhdCBsZWFzdCB0d28gbGluZXMiLAogICAgICAgICJGaXJzdCBsaW5lOiAndGhpcyBpcyB0aGUgZmlyc3QgbGluZSciLAogICAgICAgICJTZWNvbmQgbGluZSBzaG91bGQgY29udGFpbiAncXVpY2sgYnJvd24gZm94JyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm1hbi1jb21tYW5kLWF2YWlsYWJsZSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBtYW4gY29tbWFuZCBpcyBmdW5jdGlvbmFsIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBtYW4gY29tbWFuZCBzaG91bGQgYmUgaW5zdGFsbGVkIGFuZCB3b3JraW5nIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAiY29tbWFuZCI6ICJtYW4gLS12ZXJzaW9uIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIm1hbiBjb21tYW5kIGlzIGF2YWlsYWJsZSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAibWFuIGNvbW1hbmQgaXMgbm90IHdvcmtpbmciCiAgICB9LAogICAgewogICAgICAiaWQiOiAid2hlcmVpcy1wYXNzd2QiLAogICAgICAibmFtZSI6ICJWZXJpZnkgd2hlcmVpcyBjYW4gbG9jYXRlIHBhc3N3ZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgd2hlcmVpcyBjb21tYW5kIHNob3VsZCBmaW5kIHBhc3N3ZCBiaW5hcnkgYW5kIG1hbiBwYWdlcyIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgImNvbW1hbmQiOiAid2hlcmVpcyBwYXNzd2QgfCBncmVwIC1xICcvdXNyL2Jpbi9wYXNzd2QnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogIndvcmtzdGF0aW9uIiwKICAgICAgICAgICJjb21tYW5kIjogIndoZXJlaXMgcGFzc3dkIHwgZ3JlcCAtcSAnbWFuJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJ3aGVyZWlzIGNvbW1hbmQgZm91bmQgcGFzc3dkIGJpbmFyeSBhbmQgbWFuIHBhZ2VzIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJ3aGVyZWlzIGNvdWxkIG5vdCBsb2NhdGUgcGFzc3dkIHByb3Blcmx5IgogICAgfQogIF0KfQpIRUxQX01BTlVBTF9KU09OX0VPRgoKICAgICMgQ3JlYXRlIGN1c3RvbV9sYWJzL2V4YW1wbGVzL2xpZ2h0c3BlZWQtYXNzaXN0YW50Lmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvbGlnaHRzcGVlZC1hc3Npc3RhbnQuanNvbiIgPDwgJ0xJR0hUU1BFRURfQVNTSVNUQU5UX0pTT05fRU9GJwp7CiAgInZlcnNpb24iOiAiMS4wIiwKICAibWV0YWRhdGEiOiB7CiAgICAic2x1ZyI6ICJsaWdodHNwZWVkLWFzc2lzdGFudCIsCiAgICAibmFtZSI6ICJHZXR0aW5nIEFJLWFzc2lzdGVkIEhlbHAgd2l0aCBSZWQgSGF0IEVudGVycHJpc2UgTGludXggTGlnaHRzcGVlZCIsCiAgICAiZGVzY3JpcHRpb24iOiAiSW5zdGFsbCBhbmQgdXNlIHRoZSBjb21tYW5kLWxpbmUgYXNzaXN0YW50IHRvIHRyb3VibGVzaG9vdCBzeXN0ZW0gaXNzdWVzIiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciAyIiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyNSBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiSW5zdGFsbCB0aGUgY29tbWFuZC1saW5lIGFzc2lzdGFudCIsCiAgICAgICJBc2sgZm9yIGEgcmVjb21tZW5kYXRpb24iLAogICAgICAiQXNrIGZvciBhbiBleHBsYW5hdGlvbiIsCiAgICAgICJUcm91Ymxlc2hvb3QgYW5kIHJlc29sdmUgYW4gaXNzdWUiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBtYWNoaW5lIiwKICAgICAgIkJhc2ljIGNvbW1hbmQgbGluZSBza2lsbHMiCiAgICBdLAogICAgInRhZ3MiOiBbImxpZ2h0c3BlZWQiLCAiYWkiLCAiYXNzaXN0YW50IiwgInRyb3VibGVzaG9vdGluZyIsICJodHRwZCJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIHdpdGggY29tbWFuZC1saW5lIGFzc2lzdGFudCIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiSFRUUERfQ09ORiI6ICIvZXRjL2h0dHBkL2NvbmYvaHR0cGQuY29uZiIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogImNsaS1hc3Npc3RhbnQtaW5zdGFsbGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGNvbW1hbmQtbGluZS1hc3Npc3RhbnQgaXMgaW5zdGFsbGVkIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBjb21tYW5kLWxpbmUtYXNzaXN0YW50IHBhY2thZ2UgbXVzdCBiZSBpbnN0YWxsZWQgb24gc2VydmVyYSIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogInBhY2thZ2VfaW5zdGFsbGVkIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhY2thZ2UiOiAiY29tbWFuZC1saW5lLWFzc2lzdGFudCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiY29tbWFuZC1saW5lLWFzc2lzdGFudCBwYWNrYWdlIGlzIGluc3RhbGxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiY29tbWFuZC1saW5lLWFzc2lzdGFudCBwYWNrYWdlIGlzIG5vdCBpbnN0YWxsZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlVzZSAnc3VkbyBkbmYgaW5zdGFsbCBjb21tYW5kLWxpbmUtYXNzaXN0YW50JyB0byBpbnN0YWxsIHRoZSBwYWNrYWdlIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiaHR0cGQtY29uZmlnLWZpeGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGh0dHBkLmNvbmYgc3ludGF4IGVycm9yIGlzIGZpeGVkIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkxpbmUgNDcgb2YgL2V0Yy9odHRwZC9jb25mL2h0dHBkLmNvbmYgc2hvdWxkIGhhdmUgJ0xpc3RlbicgKG5vdCAnTGlzc3RlbicpIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke0hUVFBEX0NPTkZ9IgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogInNlZCAtbiAnNDdwJyAvZXRjL2h0dHBkL2NvbmYvaHR0cGQuY29uZiB8IGdyZXAgLXEgJ15MaXN0ZW4nIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX25vdF9jb250YWlucyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7SFRUUERfQ09ORn0iLAogICAgICAgICAgInBhdHRlcm4iOiAiTGlzc3RlbiIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiaHR0cGQuY29uZiBzeW50YXggZXJyb3IgaGFzIGJlZW4gZml4ZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImh0dHBkLmNvbmYgc3RpbGwgY29udGFpbnMgdGhlIHN5bnRheCBlcnJvciAoTGlzc3RlbikiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlRoZSBlcnJvciBpcyBvbiBsaW5lIDQ3OiAnTGlzc3Rlbicgc2hvdWxkIGJlICdMaXN0ZW4nIiwKICAgICAgICAiVXNlOiBzdWRvIHNlZCAtaSAnNDdzL0xpc3N0ZW4vTGlzdGVuLycgL2V0Yy9odHRwZC9jb25mL2h0dHBkLmNvbmYiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJodHRwZC1ydW5uaW5nIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGh0dHBkIHNlcnZpY2UgaXMgcnVubmluZyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgaHR0cGQgc2VydmljZSBtdXN0IGJlIHN0YXJ0ZWQgYWZ0ZXIgZml4aW5nIHRoZSBjb25maWd1cmF0aW9uIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAic2VydmljZV9ydW5uaW5nIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInNlcnZpY2UiOiAiaHR0cGQiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImh0dHBkIHNlcnZpY2UgaXMgcnVubmluZyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiaHR0cGQgc2VydmljZSBpcyBub3QgcnVubmluZyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQWZ0ZXIgZml4aW5nIHRoZSBjb25maWcsIHJlc3RhcnQgaHR0cGQ6IHN1ZG8gc3lzdGVtY3RsIHJlc3RhcnQgaHR0cGQiLAogICAgICAgICJDaGVjayBzdGF0dXMgd2l0aDogc3VkbyBzeXN0ZW1jdGwgc3RhdHVzIGh0dHBkIgogICAgICBdCiAgICB9CiAgXQp9CkxJR0hUU1BFRURfQVNTSVNUQU5UX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvbmV0LWNvbmZpZ3VyZS5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL25ldC1jb25maWd1cmUuanNvbiIgPDwgJ05FVF9DT05GSUdVUkVfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogIm5ldC1jb25maWd1cmUiLAogICAgIm5hbWUiOiAiQ29uZmlndXJlIE5ldHdvcmtpbmcgZnJvbSB0aGUgQ29tbWFuZCBMaW5lIiwKICAgICJkZXNjcmlwdGlvbiI6ICJNYW5hZ2UgbmV0d29yayBzZXR0aW5ncyBhbmQgZGV2aWNlcyBmcm9tIHRoZSBjb21tYW5kIGxpbmUgYnkgdXNpbmcgdGhlIG5tY2xpIGNvbW1hbmQiLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDExIiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyNSBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiVmlldyBuZXR3b3JrIGNvbm5lY3Rpb25zIHdpdGggbm1jbGkgY29uIHNob3ciLAogICAgICAiQ3JlYXRlIHN0YXRpYyBJUCBjb25uZWN0aW9ucyB3aXRoIG5tY2xpIGNvbiBhZGQiLAogICAgICAiQ29uZmlndXJlIElQdjQgYWRkcmVzc2VzIG1hbnVhbGx5IiwKICAgICAgIlZlcmlmeSBuZXR3b3JrIGNvbm5lY3Rpdml0eSBiZXR3ZWVuIHN5c3RlbXMiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBhbmQgc2VydmVyYiBtYWNoaW5lcyIsCiAgICAgICJSb290IGFjY2VzcyB2aWEgc3VkbyIsCiAgICAgICJTZWNvbmRhcnkgbmV0d29yayBpbnRlcmZhY2UgKGVuczQpIGF2YWlsYWJsZSIKICAgIF0sCiAgICAidGFncyI6IFsibm1jbGkiLCAibmV0d29yayIsICJzdGF0aWMiLCAiaXAiLCAiY29ubmVjdGlvbiIsICJOZXR3b3JrTWFuYWdlciJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIEEgZm9yIG5ldHdvcmsgY29uZmlndXJhdGlvbiIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0sCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJiIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIEIgZm9yIG5ldHdvcmsgY29uZmlndXJhdGlvbiIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiU0VSVkVSQV9JUCI6ICIxNzIuMjQuMjUwLjMwIiwKICAgICAgIlNFUlZFUkJfSVAiOiAiMTcyLjI0LjI1MC40MCIsCiAgICAgICJORVRNQVNLIjogIjI0IiwKICAgICAgIkNPTk5FQ1RJT05fTkFNRSI6ICJzdGF0aWMtYWRkciIsCiAgICAgICJJTlRFUkZBQ0UiOiAiZW5zNCIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogInNlcnZlcmEtY29ubmVjdGlvbi1leGlzdHMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc3RhdGljLWFkZHIgY29ubmVjdGlvbiBleGlzdHMgb24gc2VydmVyYSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgc3RhdGljLWFkZHIgY29ubmVjdGlvbiBzaG91bGQgYmUgY29uZmlndXJlZCBvbiBzZXJ2ZXJhIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogIm5tY2xpIGNvbiBzaG93IHN0YXRpYy1hZGRyIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAnY29ubmVjdGlvbi5pZCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAic3RhdGljLWFkZHIgY29ubmVjdGlvbiBleGlzdHMgb24gc2VydmVyYSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAic3RhdGljLWFkZHIgY29ubmVjdGlvbiBub3QgZm91bmQgb24gc2VydmVyYSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIGNvbm5lY3Rpb246IG5tY2xpIGNvbiBhZGQgY29uLW5hbWUgc3RhdGljLWFkZHIgdHlwZSBldGhlcm5ldCBpZm5hbWUgZW5zNCBpcHY0Lm1ldGhvZCBtYW51YWwgaXB2NC5hZGRyZXNzZXMgMTcyLjI0LjI1MC4zMC8yNCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlcnZlcmEtaXAtY29uZmlndXJlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBzZXJ2ZXJhIGhhcyBJUCAxNzIuMjQuMjUwLjMwLzI0IG9uIGVuczQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGVuczQgaW50ZXJmYWNlIHNob3VsZCBoYXZlIHRoZSBzdGF0aWMgSVAgYWRkcmVzcyBjb25maWd1cmVkIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogImlwIGFkZHIgc2hvdyBlbnM0IDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAnMTcyLjI0LjI1MC4zMC8yNCcgfHwgbm1jbGkgLWYgSVA0LkFERFJFU1MgZGV2IHNob3cgZW5zNCAyPi9kZXYvbnVsbCB8IGdyZXAgLXEgJzE3Mi4yNC4yNTAuMzAvMjQnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogInNlcnZlcmEgZW5zNCBoYXMgSVAgMTcyLjI0LjI1MC4zMC8yNCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAic2VydmVyYSBlbnM0IGRvZXMgbm90IGhhdmUgSVAgMTcyLjI0LjI1MC4zMC8yNCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQWN0aXZhdGUgY29ubmVjdGlvbjogbm1jbGkgY29uIHVwIHN0YXRpYy1hZGRyIiwKICAgICAgICAiQ2hlY2sgSVA6IGlwIGFkZHIgc2hvdyBlbnM0IgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAic2VydmVyYS1jb25uZWN0aW9uLWFjdGl2ZSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBzdGF0aWMtYWRkciBpcyBhY3RpdmUgb24gc2VydmVyYSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgc3RhdGljLWFkZHIgY29ubmVjdGlvbiBzaG91bGQgYmUgYWN0aXZlIG9uIHRoZSBlbnM0IGRldmljZSIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJubWNsaSBjb24gc2hvdyAtLWFjdGl2ZSB8IGdyZXAgLXEgc3RhdGljLWFkZHIiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAic3RhdGljLWFkZHIgY29ubmVjdGlvbiBpcyBhY3RpdmUgb24gc2VydmVyYSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAic3RhdGljLWFkZHIgY29ubmVjdGlvbiBpcyBub3QgYWN0aXZlIG9uIHNlcnZlcmEiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkFjdGl2YXRlOiBubWNsaSBjb24gdXAgc3RhdGljLWFkZHIiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJzZXJ2ZXJiLWNvbm5lY3Rpb24tZXhpc3RzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHN0YXRpYy1hZGRyIGNvbm5lY3Rpb24gZXhpc3RzIG9uIHNlcnZlcmIiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHN0YXRpYy1hZGRyIGNvbm5lY3Rpb24gc2hvdWxkIGJlIGNvbmZpZ3VyZWQgb24gc2VydmVyYiIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYiIsCiAgICAgICAgICAiY29tbWFuZCI6ICJubWNsaSBjb24gc2hvdyBzdGF0aWMtYWRkciAyPi9kZXYvbnVsbCB8IGdyZXAgLXEgJ2Nvbm5lY3Rpb24uaWQnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogInN0YXRpYy1hZGRyIGNvbm5lY3Rpb24gZXhpc3RzIG9uIHNlcnZlcmIiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInN0YXRpYy1hZGRyIGNvbm5lY3Rpb24gbm90IGZvdW5kIG9uIHNlcnZlcmIiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNyZWF0ZSBjb25uZWN0aW9uOiBubWNsaSBjb24gYWRkIGNvbi1uYW1lIHN0YXRpYy1hZGRyIHR5cGUgZXRoZXJuZXQgaWZuYW1lIGVuczQgaXB2NC5tZXRob2QgbWFudWFsIGlwdjQuYWRkcmVzc2VzIDE3Mi4yNC4yNTAuNDAvMjQiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJzZXJ2ZXJiLWlwLWNvbmZpZ3VyZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc2VydmVyYiBoYXMgSVAgMTcyLjI0LjI1MC40MC8yNCBvbiBlbnM0IiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBlbnM0IGludGVyZmFjZSBzaG91bGQgaGF2ZSB0aGUgc3RhdGljIElQIGFkZHJlc3MgY29uZmlndXJlZCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYiIsCiAgICAgICAgICAiY29tbWFuZCI6ICJpcCBhZGRyIHNob3cgZW5zNCAyPi9kZXYvbnVsbCB8IGdyZXAgLXEgJzE3Mi4yNC4yNTAuNDAvMjQnIHx8IG5tY2xpIC1mIElQNC5BRERSRVNTIGRldiBzaG93IGVuczQgMj4vZGV2L251bGwgfCBncmVwIC1xICcxNzIuMjQuMjUwLjQwLzI0JyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJzZXJ2ZXJiIGVuczQgaGFzIElQIDE3Mi4yNC4yNTAuNDAvMjQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInNlcnZlcmIgZW5zNCBkb2VzIG5vdCBoYXZlIElQIDE3Mi4yNC4yNTAuNDAvMjQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkFjdGl2YXRlIGNvbm5lY3Rpb246IG5tY2xpIGNvbiB1cCBzdGF0aWMtYWRkciIsCiAgICAgICAgIkNoZWNrIElQOiBpcCBhZGRyIHNob3cgZW5zNCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlcnZlcmItY29ubmVjdGlvbi1hY3RpdmUiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc3RhdGljLWFkZHIgaXMgYWN0aXZlIG9uIHNlcnZlcmIiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHN0YXRpYy1hZGRyIGNvbm5lY3Rpb24gc2hvdWxkIGJlIGFjdGl2ZSBvbiB0aGUgZW5zNCBkZXZpY2UiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmIiLAogICAgICAgICAgImNvbW1hbmQiOiAibm1jbGkgY29uIHNob3cgLS1hY3RpdmUgfCBncmVwIC1xIHN0YXRpYy1hZGRyIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogInN0YXRpYy1hZGRyIGNvbm5lY3Rpb24gaXMgYWN0aXZlIG9uIHNlcnZlcmIiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInN0YXRpYy1hZGRyIGNvbm5lY3Rpb24gaXMgbm90IGFjdGl2ZSBvbiBzZXJ2ZXJiIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJBY3RpdmF0ZTogbm1jbGkgY29uIHVwIHN0YXRpYy1hZGRyIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiY29ubmVjdGl2aXR5LXRlc3QiLAogICAgICAibmFtZSI6ICJWZXJpZnkgY29ubmVjdGl2aXR5IGJldHdlZW4gc2VydmVyYSBhbmQgc2VydmVyYiIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJzZXJ2ZXJiIHNob3VsZCBiZSBhYmxlIHRvIHBpbmcgc2VydmVyYSBvbiAxNzIuMjQuMjUwLjMwIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJiIiwKICAgICAgICAgICJjb21tYW5kIjogInBpbmcgLWMxIC1XMiAxNzIuMjQuMjUwLjMwID4vZGV2L251bGwgMj4mMSIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJzZXJ2ZXJiIGNhbiBwaW5nIHNlcnZlcmEgKDE3Mi4yNC4yNTAuMzApIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJzZXJ2ZXJiIGNhbm5vdCBwaW5nIHNlcnZlcmEgLSBjaGVjayBuZXR3b3JrIGNvbmZpZ3VyYXRpb24iLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkVuc3VyZSBib3RoIGNvbm5lY3Rpb25zIGFyZSBhY3RpdmUiLAogICAgICAgICJUZXN0OiBwaW5nIC1jMyAxNzIuMjQuMjUwLjMwIgogICAgICBdCiAgICB9CiAgXQp9Ck5FVF9DT05GSUdVUkVfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9uZXQtZWRpdC5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL25ldC1lZGl0Lmpzb24iIDw8ICdORVRfRURJVF9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAibmV0LWVkaXQiLAogICAgIm5hbWUiOiAiRWRpdCBOZXR3b3JrIENvbmZpZ3VyYXRpb24gRmlsZXMiLAogICAgImRlc2NyaXB0aW9uIjogIk1vZGlmeSBuZXR3b3JrIGNvbmZpZ3VyYXRpb24gYnkgZWRpdGluZyBjb25maWd1cmF0aW9uIGZpbGVzIiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciAxMSIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMjUgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIk1vZGlmeSBjb25uZWN0aW9uIHByb2ZpbGVzIHdpdGggbm1jbGkgY29uIG1vZCIsCiAgICAgICJFZGl0IE5ldHdvcmtNYW5hZ2VyIGNvbmZpZ3VyYXRpb24gZmlsZXMgZGlyZWN0bHkiLAogICAgICAiQWRkIHNlY29uZGFyeSBJUCBhZGRyZXNzZXMgdG8gbmV0d29yayBpbnRlcmZhY2VzIiwKICAgICAgIlJlbG9hZCBhbmQgYWN0aXZhdGUgbW9kaWZpZWQgY29ubmVjdGlvbnMiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBhbmQgc2VydmVyYiBtYWNoaW5lcyIsCiAgICAgICJSb290IGFjY2VzcyB2aWEgc3VkbyIsCiAgICAgICJTZWNvbmRhcnkgbmV0d29yayBpbnRlcmZhY2UgKGVuczQpIGF2YWlsYWJsZSIKICAgIF0sCiAgICAidGFncyI6IFsibm1jbGkiLCAibmV0d29yayIsICJlZGl0IiwgImNvbmZpZ3VyYXRpb24iLCAibm1jb25uZWN0aW9uIiwgInNlY29uZGFyeS1pcCJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIEEgZm9yIG5ldHdvcmsgY29uZmlndXJhdGlvbiBlZGl0aW5nIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfSwKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmIiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTZXJ2ZXIgQiBmb3IgbmV0d29yayBjb25maWd1cmF0aW9uIGVkaXRpbmciLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHsKICAgICAgIlNFUlZFUkFfUFJJTUFSWV9JUCI6ICIxNzIuMjQuMjUwLjMwIiwKICAgICAgIlNFUlZFUkFfU0VDT05EQVJZX0lQIjogIjEwLjAuMS4xIiwKICAgICAgIlNFUlZFUkJfUFJJTUFSWV9JUCI6ICIxNzIuMjQuMjUwLjQwIiwKICAgICAgIlNFUlZFUkJfU0VDT05EQVJZX0lQIjogIjEwLjAuMS4yIiwKICAgICAgIk5FVE1BU0siOiAiMjQiLAogICAgICAiSU5URVJGQUNFIjogImVuczQiCiAgICB9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJzZXJ2ZXJhLXByaW1hcnktaXAiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc2VydmVyYSBoYXMgcHJpbWFyeSBJUCAxNzIuMjQuMjUwLjMwLzI0IiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBlbnM0IGludGVyZmFjZSBzaG91bGQgaGF2ZSB0aGUgcHJpbWFyeSBzdGF0aWMgSVAgYWRkcmVzcyIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJpcCBhZGRyIHNob3cgZW5zNCB8IGdyZXAgLXEgJzE3Mi4yNC4yNTAuMzAvMjQnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogInNlcnZlcmEgZW5zNCBoYXMgcHJpbWFyeSBJUCAxNzIuMjQuMjUwLjMwLzI0IiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJzZXJ2ZXJhIGVuczQgZG9lcyBub3QgaGF2ZSBJUCAxNzIuMjQuMjUwLjMwLzI0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJNb2RpZnkgY29ubmVjdGlvbjogbm1jbGkgY29uIG1vZCAnV2lyZWQgY29ubmVjdGlvbiAxJyBpcHY0Lm1ldGhvZCBtYW51YWwgaXB2NC5hZGRyZXNzZXMgMTcyLjI0LjI1MC4zMC8yNCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlcnZlcmEtc2Vjb25kYXJ5LWlwIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHNlcnZlcmEgaGFzIHNlY29uZGFyeSBJUCAxMC4wLjEuMS8yNCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgZW5zNCBpbnRlcmZhY2Ugc2hvdWxkIGhhdmUgdGhlIHNlY29uZGFyeSBJUCBhZGRyZXNzIiwKICAgICAgInBvaW50cyI6IDMsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogImlwIGFkZHIgc2hvdyBlbnM0IHwgZ3JlcCAtcSAnMTAuMC4xLjEvMjQnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogInNlcnZlcmEgZW5zNCBoYXMgc2Vjb25kYXJ5IElQIDEwLjAuMS4xLzI0IiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJzZXJ2ZXJhIGVuczQgZG9lcyBub3QgaGF2ZSBzZWNvbmRhcnkgSVAgMTAuMC4xLjEvMjQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkVkaXQgL2V0Yy9OZXR3b3JrTWFuYWdlci9zeXN0ZW0tY29ubmVjdGlvbnMvV2lyZWRcXCBjb25uZWN0aW9uXFwgMS5ubWNvbm5lY3Rpb24iLAogICAgICAgICJBZGQ6IGFkZHJlc3MyPTEwLjAuMS4xLzI0IiwKICAgICAgICAiVGhlbjogbm1jbGkgY29uIHJlbG9hZCAmJiBubWNsaSBjb24gdXAgJ1dpcmVkIGNvbm5lY3Rpb24gMSciCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJzZXJ2ZXJhLWNvbm5lY3Rpb24tYWN0aXZlIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IFdpcmVkIGNvbm5lY3Rpb24gMSBpcyBhY3RpdmUgb24gc2VydmVyYSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgbW9kaWZpZWQgY29ubmVjdGlvbiBzaG91bGQgYmUgYWN0aXZlIG9uIGVuczQiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAibm1jbGkgY29uIHNob3cgLS1hY3RpdmUgfCBncmVwIC1FICdXaXJlZCBjb25uZWN0aW9uIDEuKmVuczQnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIldpcmVkIGNvbm5lY3Rpb24gMSBpcyBhY3RpdmUgb24gc2VydmVyYSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiV2lyZWQgY29ubmVjdGlvbiAxIGlzIG5vdCBhY3RpdmUgb24gc2VydmVyYSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQWN0aXZhdGU6IG5tY2xpIGNvbiB1cCAnV2lyZWQgY29ubmVjdGlvbiAxJyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlcnZlcmItcHJpbWFyeS1pcCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBzZXJ2ZXJiIGhhcyBwcmltYXJ5IElQIDE3Mi4yNC4yNTAuNDAvMjQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGVuczQgaW50ZXJmYWNlIHNob3VsZCBoYXZlIHRoZSBwcmltYXJ5IHN0YXRpYyBJUCBhZGRyZXNzIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJiIiwKICAgICAgICAgICJjb21tYW5kIjogImlwIGFkZHIgc2hvdyBlbnM0IHwgZ3JlcCAtcSAnMTcyLjI0LjI1MC40MC8yNCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAic2VydmVyYiBlbnM0IGhhcyBwcmltYXJ5IElQIDE3Mi4yNC4yNTAuNDAvMjQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInNlcnZlcmIgZW5zNCBkb2VzIG5vdCBoYXZlIElQIDE3Mi4yNC4yNTAuNDAvMjQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIk1vZGlmeSBjb25uZWN0aW9uOiBubWNsaSBjb24gbW9kICdXaXJlZCBjb25uZWN0aW9uIDEnIGlwdjQubWV0aG9kIG1hbnVhbCBpcHY0LmFkZHJlc3NlcyAxNzIuMjQuMjUwLjQwLzI0IgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAic2VydmVyYi1zZWNvbmRhcnktaXAiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc2VydmVyYiBoYXMgc2Vjb25kYXJ5IElQIDEwLjAuMS4yLzI0IiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBlbnM0IGludGVyZmFjZSBzaG91bGQgaGF2ZSB0aGUgc2Vjb25kYXJ5IElQIGFkZHJlc3MiLAogICAgICAicG9pbnRzIjogMywKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmIiLAogICAgICAgICAgImNvbW1hbmQiOiAiaXAgYWRkciBzaG93IGVuczQgfCBncmVwIC1xICcxMC4wLjEuMi8yNCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAic2VydmVyYiBlbnM0IGhhcyBzZWNvbmRhcnkgSVAgMTAuMC4xLjIvMjQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInNlcnZlcmIgZW5zNCBkb2VzIG5vdCBoYXZlIHNlY29uZGFyeSBJUCAxMC4wLjEuMi8yNCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiRWRpdCAvZXRjL05ldHdvcmtNYW5hZ2VyL3N5c3RlbS1jb25uZWN0aW9ucy9XaXJlZFxcIGNvbm5lY3Rpb25cXCAxLm5tY29ubmVjdGlvbiIsCiAgICAgICAgIkFkZDogYWRkcmVzczI9MTAuMC4xLjIvMjQiLAogICAgICAgICJUaGVuOiBubWNsaSBjb24gcmVsb2FkICYmIG5tY2xpIGNvbiB1cCAnV2lyZWQgY29ubmVjdGlvbiAxJyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlcnZlcmItY29ubmVjdGlvbi1hY3RpdmUiLAogICAgICAibmFtZSI6ICJWZXJpZnkgV2lyZWQgY29ubmVjdGlvbiAxIGlzIGFjdGl2ZSBvbiBzZXJ2ZXJiIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBtb2RpZmllZCBjb25uZWN0aW9uIHNob3VsZCBiZSBhY3RpdmUgb24gZW5zNCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYiIsCiAgICAgICAgICAiY29tbWFuZCI6ICJubWNsaSBjb24gc2hvdyAtLWFjdGl2ZSB8IGdyZXAgLUUgJ1dpcmVkIGNvbm5lY3Rpb24gMS4qZW5zNCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiV2lyZWQgY29ubmVjdGlvbiAxIGlzIGFjdGl2ZSBvbiBzZXJ2ZXJiIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJXaXJlZCBjb25uZWN0aW9uIDEgaXMgbm90IGFjdGl2ZSBvbiBzZXJ2ZXJiIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJBY3RpdmF0ZTogbm1jbGkgY29uIHVwICdXaXJlZCBjb25uZWN0aW9uIDEnIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiY29ubmVjdGl2aXR5LXRlc3QiLAogICAgICAibmFtZSI6ICJWZXJpZnkgY29ubmVjdGl2aXR5IHZpYSBzZWNvbmRhcnkgbmV0d29yayIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJzZXJ2ZXJiIHNob3VsZCBiZSBhYmxlIHRvIHBpbmcgc2VydmVyYSBvbiAxMC4wLjEuMSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYiIsCiAgICAgICAgICAiY29tbWFuZCI6ICJwaW5nIC1jMSAtVzIgMTAuMC4xLjEgPi9kZXYvbnVsbCAyPiYxIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogInNlcnZlcmIgY2FuIHBpbmcgc2VydmVyYSAoMTAuMC4xLjEpIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJzZXJ2ZXJiIGNhbm5vdCBwaW5nIHNlcnZlcmEgb24gc2Vjb25kYXJ5IG5ldHdvcmsiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkVuc3VyZSBib3RoIGNvbm5lY3Rpb25zIGFyZSBhY3RpdmUgd2l0aCBzZWNvbmRhcnkgSVBzIiwKICAgICAgICAiVGVzdDogcGluZyAtYzMgMTAuMC4xLjEiCiAgICAgIF0KICAgIH0KICBdCn0KTkVUX0VESVRfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9uZXQtaG9zdG5hbWVzLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvbmV0LWhvc3RuYW1lcy5qc29uIiA8PCAnTkVUX0hPU1ROQU1FU19KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAibmV0LWhvc3RuYW1lcyIsCiAgICAibmFtZSI6ICJDb25maWd1cmUgSG9zdG5hbWVzIGFuZCBOYW1lIFJlc29sdXRpb24iLAogICAgImRlc2NyaXB0aW9uIjogIkNvbmZpZ3VyZSBhIHNlcnZlcidzIHN0YXRpYyBob3N0bmFtZSBhbmQgaXRzIG5hbWUgcmVzb2x1dGlvbiBzZXR0aW5ncyIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgMTEiLAogICAgImVzdGltYXRlZF90aW1lIjogIjIwIG1pbnV0ZXMiLAogICAgIm9iamVjdGl2ZXMiOiBbCiAgICAgICJTZXQgYSBjdXN0b21pemVkIGhvc3RuYW1lIHdpdGggaG9zdG5hbWVjdGwiLAogICAgICAiQ29uZmlndXJlIG5hbWUgcmVzb2x1dGlvbiB1c2luZyAvZXRjL2hvc3RzIiwKICAgICAgIlRlc3QgaG9zdG5hbWUgcmVzb2x1dGlvbiB3aXRoIGdldGVudCBhbmQgcGluZyIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIkFjY2VzcyB0byBzZXJ2ZXJhIG1hY2hpbmUiLAogICAgICAiUm9vdCBhY2Nlc3MgdmlhIHN1ZG8iCiAgICBdLAogICAgInRhZ3MiOiBbImhvc3RuYW1lIiwgImhvc3RuYW1lY3RsIiwgImhvc3RzIiwgImRucyIsICJuYW1lLXJlc29sdXRpb24iLCAibmV0d29yayJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIEEgZm9yIGhvc3RuYW1lIGNvbmZpZ3VyYXRpb24iLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHsKICAgICAgIlNUQVRJQ19IT1NUTkFNRSI6ICJzZXJ2ZXJhIiwKICAgICAgIkNMQVNTUk9PTV9JUCI6ICIxNzIuMjUuMjU0LjI1NCIsCiAgICAgICJDTEFTU1JPT01fRlFETiI6ICJjbGFzc3Jvb20uZXhhbXBsZS5jb20iLAogICAgICAiQ0xBU1NST09NX0FMSUFTIjogImNsYXNzIgogICAgfQogIH0sCiAgInRhc2tzIjogWwogICAgewogICAgICAiaWQiOiAic3RhdGljLWhvc3RuYW1lLXNldCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBzdGF0aWMgaG9zdG5hbWUgaXMgc2V0IHRvIHNlcnZlcmEiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIC9ldGMvaG9zdG5hbWUgZmlsZSBzaG91bGQgY29udGFpbiAnc2VydmVyYScgYXMgdGhlIHN0YXRpYyBob3N0bmFtZSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfY29udGFpbnMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIvZXRjL2hvc3RuYW1lIiwKICAgICAgICAgICJsaXRlcmFsIjogInNlcnZlcmEiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIlN0YXRpYyBob3N0bmFtZSBpcyBzZXQgdG8gc2VydmVyYSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiU3RhdGljIGhvc3RuYW1lIGlzIG5vdCBzZXQgdG8gc2VydmVyYSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiU2V0IGhvc3RuYW1lOiBob3N0bmFtZWN0bCBob3N0bmFtZSBzZXJ2ZXJhIiwKICAgICAgICAiT3I6IGhvc3RuYW1lY3RsIHNldC1ob3N0bmFtZSBzZXJ2ZXJhIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiaG9zdG5hbWUtYWN0aXZlIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGN1cnJlbnQgaG9zdG5hbWUgaXMgc2VydmVyYSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgaG9zdG5hbWUgY29tbWFuZCBzaG91bGQgcmV0dXJuIHNlcnZlcmEiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAiaG9zdG5hbWUgfCBncmVwIC1xICdec2VydmVyYSQnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkN1cnJlbnQgaG9zdG5hbWUgaXMgc2VydmVyYSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiQ3VycmVudCBob3N0bmFtZSBpcyBub3Qgc2VydmVyYSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQWZ0ZXIgc2V0dGluZyBzdGF0aWMgaG9zdG5hbWUsIGxvZyBvdXQgYW5kIGJhY2sgaW4iLAogICAgICAgICJPciByZWJvb3QgdG8gYXBwbHkgdGhlIGhvc3RuYW1lIGNoYW5nZSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImhvc3RzLWZpbGUtZW50cnkiLAogICAgICAibmFtZSI6ICJWZXJpZnkgL2V0Yy9ob3N0cyBjb250YWlucyBjbGFzcyBhbGlhcyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgL2V0Yy9ob3N0cyBmaWxlIHNob3VsZCBtYXAgdGhlIGNsYXNzIGFsaWFzIHRvIDE3Mi4yNS4yNTQuMjU0IiwKICAgICAgInBvaW50cyI6IDMsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogImdyZXAgLUUgJ14xNzJcXC4yNVxcLjI1NFxcLjI1NC4qXFxiY2xhc3NcXGInIC9ldGMvaG9zdHMiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiL2V0Yy9ob3N0cyBjb250YWlucyBjbGFzcyBhbGlhcyBmb3IgMTcyLjI1LjI1NC4yNTQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIi9ldGMvaG9zdHMgZG9lcyBub3QgY29udGFpbiBjbGFzcyBhbGlhcyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQWRkIGxpbmUgdG8gL2V0Yy9ob3N0czogMTcyLjI1LjI1NC4yNTQgY2xhc3Nyb29tLmV4YW1wbGUuY29tIGNsYXNzcm9vbSBjbGFzcyIsCiAgICAgICAgIkVuc3VyZSAnY2xhc3MnIGFwcGVhcnMgYXMgYW4gYWxpYXMgb24gdGhlIGNsYXNzcm9vbSBsaW5lIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiY2xhc3MtcmVzb2x2ZXMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgY2xhc3MgaG9zdG5hbWUgcmVzb2x2ZXMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGdldGVudCBob3N0cyBjb21tYW5kIHNob3VsZCByZXNvbHZlIHRoZSBjbGFzcyBhbGlhcyIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJnZXRlbnQgaG9zdHMgY2xhc3MgfCBncmVwIC1xICcxNzIuMjUuMjU0LjI1NCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiY2xhc3MgaG9zdG5hbWUgcmVzb2x2ZXMgdG8gMTcyLjI1LjI1NC4yNTQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImNsYXNzIGhvc3RuYW1lIGRvZXMgbm90IHJlc29sdmUgY29ycmVjdGx5IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJUZXN0IHJlc29sdXRpb246IGdldGVudCBob3N0cyBjbGFzcyIsCiAgICAgICAgIkNoZWNrIC9ldGMvaG9zdHMgZmlsZSBlbnRyeSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImNsYXNzLXBpbmciLAogICAgICAibmFtZSI6ICJWZXJpZnkgY29ubmVjdGl2aXR5IHRvIGNsYXNzIGhvc3RuYW1lIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlNob3VsZCBiZSBhYmxlIHRvIHBpbmcgdGhlIGNsYXNzIGhvc3RuYW1lIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogInBpbmcgLWMxIC1XMiBjbGFzcyA+L2Rldi9udWxsIDI+JjEiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiQ2FuIHBpbmcgY2xhc3MgaG9zdG5hbWUgc3VjY2Vzc2Z1bGx5IiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJDYW5ub3QgcGluZyBjbGFzcyBob3N0bmFtZSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiRW5zdXJlIC9ldGMvaG9zdHMgaGFzIHRoZSBjbGFzcyBhbGlhcyIsCiAgICAgICAgIkVuc3VyZSBuZXR3b3JrIGNvbm5lY3Rpdml0eSB0byAxNzIuMjUuMjU0LjI1NCIKICAgICAgXQogICAgfQogIF0KfQpORVRfSE9TVE5BTUVTX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvbmV0YmFzaWNzLXZhbGlkYXRlLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvbmV0YmFzaWNzLXZhbGlkYXRlLmpzb24iIDw8ICdORVRCQVNJQ1NfVkFMSURBVEVfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogIm5ldGJhc2ljcy12YWxpZGF0ZSIsCiAgICAibmFtZSI6ICJWYWxpZGF0ZSBOZXR3b3JrIENvbmZpZ3VyYXRpb24iLAogICAgImRlc2NyaXB0aW9uIjogIlRlc3QgYW5kIGluc3BlY3QgdGhlIGN1cnJlbnQgbmV0d29yayBjb25maWd1cmF0aW9uIGJ5IHVzaW5nIGNvbW1hbmQtbGluZSB1dGlsaXRpZXMiLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDExIiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIxNSBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiSWRlbnRpZnkgY3VycmVudCBuZXR3b3JrIGludGVyZmFjZXMgd2l0aCBpcCBsaW5rIiwKICAgICAgIkRpc3BsYXkgSVAgYWRkcmVzc2VzIHdpdGggaXAgYWRkciIsCiAgICAgICJWaWV3IHBhY2tldCBzdGF0aXN0aWNzIHdpdGggaXAgLXMgbGluayIsCiAgICAgICJFeGFtaW5lIHJvdXRpbmcgdGFibGUgd2l0aCBpcCByb3V0ZSIsCiAgICAgICJUZXN0IGNvbm5lY3Rpdml0eSB3aXRoIHBpbmcgYW5kIHRyYWNlcGF0aCIsCiAgICAgICJEaXNwbGF5IGxpc3RlbmluZyBzb2NrZXRzIHdpdGggc3MiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBtYWNoaW5lIiwKICAgICAgIk5ldHdvcmsgY29ubmVjdGl2aXR5IGNvbmZpZ3VyZWQiCiAgICBdLAogICAgInRhZ3MiOiBbImlwIiwgIm5ldHdvcmsiLCAiaW50ZXJmYWNlIiwgInJvdXRlIiwgInBpbmciLCAidHJhY2VwYXRoIiwgInNzIiwgInNvY2tldCJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIGZvciBuZXR3b3JrIGNvbmZpZ3VyYXRpb24gdmFsaWRhdGlvbiIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiR0FURVdBWSI6ICIxNzIuMjUuMjUwLjI1NCIsCiAgICAgICJORVRXT1JLIjogIjE3Mi4yNS4yNTAuMC8yNCIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogImludGVyZmFjZS11cCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBuZXR3b3JrIGludGVyZmFjZSBpcyBVUCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJBdCBsZWFzdCBvbmUgbmV0d29yayBpbnRlcmZhY2UgKGJlc2lkZXMgbG8pIHNob3VsZCBiZSBVUCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiZmF0YWwiOiB0cnVlLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJpcCBsaW5rIHNob3cgfCBncmVwIC1FICdzdGF0ZSBVUCcgfCBncmVwIC12IGxvIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIk5ldHdvcmsgaW50ZXJmYWNlIGlzIFVQIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJObyBuZXR3b3JrIGludGVyZmFjZSBpcyBVUCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ2hlY2sgaW50ZXJmYWNlczogaXAgbGluayBzaG93IgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiaXAtYWRkcmVzcy1jb25maWd1cmVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IElQIGFkZHJlc3MgaXMgY29uZmlndXJlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJBbiBJUCBhZGRyZXNzIHNob3VsZCBiZSBjb25maWd1cmVkIG9uIGEgbmV0d29yayBpbnRlcmZhY2UiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAiaXAgLWJyIGFkZHIgfCBncmVwIC12IGxvIHwgZ3JlcCAtRSAnWzAtOV0rXFwuWzAtOV0rXFwuWzAtOV0rXFwuWzAtOV0rJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJJUCBhZGRyZXNzIGlzIGNvbmZpZ3VyZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIk5vIElQIGFkZHJlc3MgY29uZmlndXJlZCBvbiBuZXR3b3JrIGludGVyZmFjZSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ2hlY2sgYWRkcmVzc2VzOiBpcCAtYnIgYWRkciIsCiAgICAgICAgIk9yOiBpcCBhZGRyIHNob3ciCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJkZWZhdWx0LXJvdXRlLWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBkZWZhdWx0IHJvdXRlIGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJBIGRlZmF1bHQgZ2F0ZXdheSByb3V0ZSBzaG91bGQgYmUgY29uZmlndXJlZCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJpcCByb3V0ZSB8IGdyZXAgLXEgJ15kZWZhdWx0JyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJEZWZhdWx0IHJvdXRlIGlzIGNvbmZpZ3VyZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIk5vIGRlZmF1bHQgcm91dGUgY29uZmlndXJlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ2hlY2sgcm91dGluZzogaXAgcm91dGUiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJnYXRld2F5LXJlYWNoYWJsZSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBnYXRld2F5IGlzIHJlYWNoYWJsZSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgZGVmYXVsdCBnYXRld2F5IHNob3VsZCByZXNwb25kIHRvIHBpbmciLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAicGluZyAtYzEgLVcyICQoaXAgcm91dGUgfCBncmVwIGRlZmF1bHQgfCBhd2sgJ3twcmludCAkM30nKSA+L2Rldi9udWxsIDI+JjEiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiR2F0ZXdheSBpcyByZWFjaGFibGUiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkNhbm5vdCByZWFjaCBkZWZhdWx0IGdhdGV3YXkiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlRlc3Qgd2l0aDogcGluZyAtYzMgPGdhdGV3YXlfaXA+IiwKICAgICAgICAiRmluZCBnYXRld2F5OiBpcCByb3V0ZSB8IGdyZXAgZGVmYXVsdCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImRucy1yZXNvbHV0aW9uLXdvcmtzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IEROUyByZXNvbHV0aW9uIHdvcmtzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlNob3VsZCBiZSBhYmxlIHRvIHJlc29sdmUgaG9zdG5hbWVzIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogImdldGVudCBob3N0cyBjbGFzc3Jvb20uZXhhbXBsZS5jb20gfHwgaG9zdCBjbGFzc3Jvb20uZXhhbXBsZS5jb20gfHwgbnNsb29rdXAgY2xhc3Nyb29tLmV4YW1wbGUuY29tIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkROUyByZXNvbHV0aW9uIGlzIHdvcmtpbmciLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkROUyByZXNvbHV0aW9uIGZhaWxlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiVGVzdCB3aXRoOiBnZXRlbnQgaG9zdHMgY2xhc3Nyb29tLmV4YW1wbGUuY29tIiwKICAgICAgICAiT3I6IGhvc3QgY2xhc3Nyb29tLmV4YW1wbGUuY29tIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAic3NoLWxpc3RlbmluZyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBTU0ggc2VydmljZSBpcyBsaXN0ZW5pbmciLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIFNTSCBzZXJ2aWNlIHNob3VsZCBiZSBsaXN0ZW5pbmcgb24gcG9ydCAyMiIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJzcyAtbHQgfCBncmVwIC1xIHNzaCIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJTU0ggc2VydmljZSBpcyBsaXN0ZW5pbmciLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIlNTSCBzZXJ2aWNlIGlzIG5vdCBsaXN0ZW5pbmciLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNoZWNrIGxpc3RlbmluZyBzb2NrZXRzOiBzcyAtbHQiLAogICAgICAgICJPcjogc3MgLXRsbnAgfCBncmVwIDoyMiIKICAgICAgXQogICAgfQogIF0KfQpORVRCQVNJQ1NfVkFMSURBVEVfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9uZnMtY2xpZW50LXNldHVwLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvbmZzLWNsaWVudC1zZXR1cC5qc29uIiA8PCAnTkZTX0NMSUVOVF9TRVRVUF9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAiY3VzdG9tLW5mcy1jbGllbnQiLAogICAgIm5hbWUiOiAiQ29uZmlndXJlIE5GUyBDbGllbnQgd2l0aCBBdXRvZnMiLAogICAgImRlc2NyaXB0aW9uIjogIkNvbmZpZ3VyZSBhdXRvbWF0aWMgTkZTIG1vdW50aW5nIHVzaW5nIGF1dG9mcyIsCiAgICAiY291cnNlIjogInJoMTM0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgMyIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMzAgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIkluc3RhbGwgcmVxdWlyZWQgTkZTIGNsaWVudCBwYWNrYWdlcyIsCiAgICAgICJDb25maWd1cmUgYXV0b2ZzIGZvciBhdXRvbWF0aWMgbW91bnRpbmciLAogICAgICAiU2V0IHVwIGluZGlyZWN0IG1hcHMgZm9yIE5GUyBzaGFyZXMiLAogICAgICAiVmVyaWZ5IE5GUyBtb3VudHMgd29yayBjb3JyZWN0bHkiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJORlMgc2VydmVyIGFscmVhZHkgY29uZmlndXJlZCBvbiBzZXJ2ZXJiIiwKICAgICAgIk5ldHdvcmsgY29ubmVjdGl2aXR5IGJldHdlZW4gaG9zdHMiCiAgICBdLAogICAgInRhZ3MiOiBbIm5mcyIsICJhdXRvZnMiLCAic3RvcmFnZSIsICJuZXR3b3JrIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJORlMgY2xpZW50IiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfSwKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmIiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJORlMgc2VydmVyIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfQogICAgXSwKICAgICJ2YXJpYWJsZXMiOiB7CiAgICAgICJORlNfU0VSVkVSIjogInNlcnZlcmIiLAogICAgICAiU0hBUkVfUEFUSCI6ICIvc2hhcmVzL2RhdGEiLAogICAgICAiTU9VTlRfUE9JTlQiOiAiL21udC9uZnMvZGF0YSIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogIm5mcy1zZXJ2ZXItcnVubmluZyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBORlMgc2VydmVyIGlzIHJ1bm5pbmcgb24gc2VydmVyYiIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgTkZTIHNlcnZlciBtdXN0IGJlIGFjdGl2ZSBvbiBzZXJ2ZXJiIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJmYXRhbCI6IHRydWUsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAic2VydmljZV9ydW5uaW5nIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmIiLAogICAgICAgICAgInNlcnZpY2UiOiAibmZzLXNlcnZlciIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiTkZTIHNlcnZlciBpcyBydW5uaW5nIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJORlMgc2VydmVyIGlzIG5vdCBydW5uaW5nIG9uIHNlcnZlcmIiCiAgICB9LAogICAgewogICAgICAiaWQiOiAibmZzLXV0aWxzLWluc3RhbGxlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBuZnMtdXRpbHMgaXMgaW5zdGFsbGVkIG9uIGNsaWVudCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJORlMgY2xpZW50IHV0aWxpdGllcyBtdXN0IGJlIGluc3RhbGxlZCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogInBhY2thZ2VfaW5zdGFsbGVkIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhY2thZ2UiOiAibmZzLXV0aWxzIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJuZnMtdXRpbHMgcGFja2FnZSBpcyBpbnN0YWxsZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIm5mcy11dGlscyBwYWNrYWdlIGlzIG5vdCBpbnN0YWxsZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkluc3RhbGwgd2l0aDogc3VkbyBkbmYgaW5zdGFsbCBuZnMtdXRpbHMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJhdXRvZnMtaW5zdGFsbGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGF1dG9mcyBpcyBpbnN0YWxsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGF1dG9mcyBwYWNrYWdlIG11c3QgYmUgaW5zdGFsbGVkIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAicGFja2FnZV9pbnN0YWxsZWQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGFja2FnZSI6ICJhdXRvZnMiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImF1dG9mcyBwYWNrYWdlIGlzIGluc3RhbGxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiYXV0b2ZzIHBhY2thZ2UgaXMgbm90IGluc3RhbGxlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiSW5zdGFsbCB3aXRoOiBzdWRvIGRuZiBpbnN0YWxsIGF1dG9mcyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImF1dG9mcy1ydW5uaW5nIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGF1dG9mcyBzZXJ2aWNlIGlzIHJ1bm5pbmciLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGF1dG9mcyBzZXJ2aWNlIG11c3QgYmUgcnVubmluZyIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogInNlcnZpY2VfcnVubmluZyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJzZXJ2aWNlIjogImF1dG9mcyIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogInNlcnZpY2VfZW5hYmxlZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJzZXJ2aWNlIjogImF1dG9mcyIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiYXV0b2ZzIHNlcnZpY2UgaXMgcnVubmluZyBhbmQgZW5hYmxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiYXV0b2ZzIHNlcnZpY2UgaXMgbm90IHJ1bm5pbmcgb3Igbm90IGVuYWJsZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlN0YXJ0OiBzdWRvIHN5c3RlbWN0bCBzdGFydCBhdXRvZnMiLAogICAgICAgICJFbmFibGU6IHN1ZG8gc3lzdGVtY3RsIGVuYWJsZSBhdXRvZnMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJtYXN0ZXItbWFwIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGF1dG8ubWFzdGVyIGNvbmZpZ3VyYXRpb24iLAogICAgICAiZGVzY3JpcHRpb24iOiAiQ2hlY2sgdGhhdCBhdXRvLm1hc3RlciBpbmNsdWRlcyB0aGUgTkZTIG1hcCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiL2V0Yy9hdXRvLm1hc3Rlci5kL25mcy5hdXRvZnMiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2NvbnRhaW5zIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiL2V0Yy9hdXRvLm1hc3Rlci5kL25mcy5hdXRvZnMiLAogICAgICAgICAgInBhdHRlcm4iOiAiL21udC9uZnMuKmF1dG9cXC5uZnMiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImF1dG8ubWFzdGVyIGNvbmZpZ3VyYXRpb24gaXMgY29ycmVjdCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiYXV0by5tYXN0ZXIgY29uZmlndXJhdGlvbiBpcyBtaXNzaW5nIG9yIGluY29ycmVjdCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIC9ldGMvYXV0by5tYXN0ZXIuZC9uZnMuYXV0b2ZzIHdpdGg6IiwKICAgICAgICAiL21udC9uZnMgIC9ldGMvYXV0by5uZnMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJpbmRpcmVjdC1tYXAiLAogICAgICAibmFtZSI6ICJWZXJpZnkgaW5kaXJlY3QgbWFwIGZpbGUiLAogICAgICAiZGVzY3JpcHRpb24iOiAiQ2hlY2sgdGhhdCB0aGUgaW5kaXJlY3QgbWFwIGZvciBORlMgc2hhcmVzIGV4aXN0cyIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiL2V0Yy9hdXRvLm5mcyIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfY29udGFpbnMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIvZXRjL2F1dG8ubmZzIiwKICAgICAgICAgICJwYXR0ZXJuIjogImRhdGEuKi1ydy4qc2VydmVyYjovc2hhcmVzL2RhdGEiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkluZGlyZWN0IG1hcCBmaWxlIGlzIGNvcnJlY3QiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkluZGlyZWN0IG1hcCBmaWxlIGlzIG1pc3Npbmcgb3IgaW5jb3JyZWN0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgL2V0Yy9hdXRvLm5mcyB3aXRoOiIsCiAgICAgICAgImRhdGEgIC1ydyxzeW5jICBzZXJ2ZXJiOi9zaGFyZXMvZGF0YSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm1vdW50LXRlc3QiLAogICAgICAibmFtZSI6ICJWZXJpZnkgTkZTIG1vdW50IHdvcmtzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkFjY2VzcyB0aGUgbW91bnQgcG9pbnQgdG8gdHJpZ2dlciBhdXRvZnMiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAibHMgL21udC9uZnMvZGF0YSAmJiBtb3VudCB8IGdyZXAgJ3NlcnZlcmI6L3NoYXJlcy9kYXRhJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMCwKICAgICAgICAgICJ0aW1lb3V0IjogMTUKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiTkZTIG1vdW50IGlzIHdvcmtpbmcgY29ycmVjdGx5IiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJORlMgbW91bnQgZmFpbGVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDaGVjayBhdXRvZnMgbG9nczogam91cm5hbGN0bCAtdSBhdXRvZnMiLAogICAgICAgICJWZXJpZnkgTkZTIGV4cG9ydCBvbiBzZXJ2ZXI6IHNob3dtb3VudCAtZSBzZXJ2ZXJiIgogICAgICBdCiAgICB9CiAgXQp9Ck5GU19DTElFTlRfU0VUVVBfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9wZXJtcy1jbGkuanNvbgogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9jdXN0b21fbGFicy9leGFtcGxlcy9wZXJtcy1jbGkuanNvbiIgPDwgJ1BFUk1TX0NMSV9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAicGVybXMtY2xpIiwKICAgICJuYW1lIjogIk1hbmFnZSBGaWxlIFBlcm1pc3Npb25zIGZyb20gdGhlIENvbW1hbmQgTGluZSIsCiAgICAiZGVzY3JpcHRpb24iOiAiQ2hhbmdlIHRoZSBwZXJtaXNzaW9ucyBhbmQgb3duZXJzaGlwIG9mIGZpbGVzIHdpdGggY29tbWFuZC1saW5lIHRvb2xzIiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciA2IiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyMCBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiQ3JlYXRlIGEgc2hhcmVkIGRpcmVjdG9yeSBmb3IgYSBncm91cCIsCiAgICAgICJDaGFuZ2UgZ3JvdXAgb3duZXJzaGlwIHdpdGggY2hvd24iLAogICAgICAiTW9kaWZ5IHBlcm1pc3Npb25zIHdpdGggY2htb2QgdXNpbmcgc3ltYm9saWMgYW5kIG9jdGFsIG1ldGhvZHMiLAogICAgICAiVmVyaWZ5IGdyb3VwIG1lbWJlcnMgY2FuIGFjY2VzcyBzaGFyZWQgcmVzb3VyY2VzIgogICAgXSwKICAgICJwcmVyZXF1aXNpdGVzIjogWwogICAgICAiQWNjZXNzIHRvIHNlcnZlcmEgbWFjaGluZSIsCiAgICAgICJjb25zdWx0YW50cyBncm91cCBleGlzdHMiLAogICAgICAiY29uc3VsdGFudDEgYW5kIGNvbnN1bHRhbnQyIHVzZXJzIGV4aXN0IgogICAgXSwKICAgICJ0YWdzIjogWyJwZXJtaXNzaW9ucyIsICJjaG1vZCIsICJjaG93biIsICJncm91cCIsICJvd25lcnNoaXAiXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7CiAgICAgICAgIm5hbWUiOiAic2VydmVyYSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlNlcnZlciBmb3IgcGVybWlzc2lvbnMgcHJhY3RpY2UiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHsKICAgICAgIlNIQVJFRF9ESVIiOiAiL2hvbWUvY29uc3VsdGFudHMiCiAgICB9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJjb25zdWx0YW50cy1ncm91cCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBjb25zdWx0YW50cyBncm91cCBleGlzdHMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGNvbnN1bHRhbnRzIGdyb3VwIG11c3QgZXhpc3QiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImZhdGFsIjogdHJ1ZSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJncm91cF9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiZ3JvdXAiOiAiY29uc3VsdGFudHMiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImNvbnN1bHRhbnRzIGdyb3VwIGV4aXN0cyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiY29uc3VsdGFudHMgZ3JvdXAgbm90IGZvdW5kIC0gcnVuICdsYWIgc3RhcnQgcGVybXMtY2xpJyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuICdsYWIgc3RhcnQgcGVybXMtY2xpJyB0byBjcmVhdGUgcHJlcmVxdWlzaXRlcyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImRpcmVjdG9yeS1leGlzdHMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgL2hvbWUvY29uc3VsdGFudHMgZGlyZWN0b3J5IGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgc2hhcmVkIGRpcmVjdG9yeSBtdXN0IGV4aXN0IiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZGlyZWN0b3J5X2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7U0hBUkVEX0RJUn0iCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIi9ob21lL2NvbnN1bHRhbnRzIGRpcmVjdG9yeSBleGlzdHMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIi9ob21lL2NvbnN1bHRhbnRzIGRpcmVjdG9yeSBub3QgZm91bmQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNyZWF0ZSBkaXJlY3Rvcnk6IHN1ZG8gbWtkaXIgL2hvbWUvY29uc3VsdGFudHMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJncm91cC1vd25lcnNoaXAiLAogICAgICAibmFtZSI6ICJWZXJpZnkgZ3JvdXAgb3duZXJzaGlwIGlzIGNvbnN1bHRhbnRzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBkaXJlY3RvcnkgZ3JvdXAgb3duZXIgbXVzdCBiZSBjb25zdWx0YW50cyIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfb3duZXIiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1NIQVJFRF9ESVJ9IiwKICAgICAgICAgICJncm91cCI6ICJjb25zdWx0YW50cyIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiR3JvdXAgb3duZXJzaGlwIGlzIGNvbnN1bHRhbnRzIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJHcm91cCBvd25lcnNoaXAgaXMgbm90IGNvbnN1bHRhbnRzIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDaGFuZ2UgZ3JvdXA6IHN1ZG8gY2hvd24gOmNvbnN1bHRhbnRzIC9ob21lL2NvbnN1bHRhbnRzIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAicGVybWlzc2lvbnMtNzcwIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGRpcmVjdG9yeSBwZXJtaXNzaW9ucyBhcmUgNzcwIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkRpcmVjdG9yeSBzaG91bGQgaGF2ZSByd3hyd3gtLS0gKDc3MCkgcGVybWlzc2lvbnMiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX21vZGUiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1NIQVJFRF9ESVJ9IiwKICAgICAgICAgICJtb2RlIjogIjc3MCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiUGVybWlzc2lvbnMgYXJlIDc3MCAocnd4cnd4LS0tKSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiUGVybWlzc2lvbnMgYXJlIG5vdCA3NzAiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkFkZCBncm91cCB3cml0ZTogc3VkbyBjaG1vZCBnK3cgL2hvbWUvY29uc3VsdGFudHMiLAogICAgICAgICJSZW1vdmUgb3RoZXJzOiBzdWRvIGNobW9kIDc3MCAvaG9tZS9jb25zdWx0YW50cyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImNvbnN1bHRhbnQxLWZpbGUiLAogICAgICAibmFtZSI6ICJWZXJpZnkgY29uc3VsdGFudDEudHh0IGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJjb25zdWx0YW50MSBzaG91bGQgaGF2ZSBjcmVhdGVkIGEgZmlsZSBpbiB0aGUgc2hhcmVkIGRpcmVjdG9yeSIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtTSEFSRURfRElSfS9jb25zdWx0YW50MS50eHQiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiY29uc3VsdGFudDEudHh0IGV4aXN0cyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiY29uc3VsdGFudDEudHh0IG5vdCBmb3VuZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQXMgY29uc3VsdGFudDE6IHRvdWNoIC9ob21lL2NvbnN1bHRhbnRzL2NvbnN1bHRhbnQxLnR4dCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImNvbnN1bHRhbnQyLWZpbGUiLAogICAgICAibmFtZSI6ICJWZXJpZnkgY29uc3VsdGFudDIudHh0IGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJjb25zdWx0YW50MiBzaG91bGQgaGF2ZSBjcmVhdGVkIGEgZmlsZSBpbiB0aGUgc2hhcmVkIGRpcmVjdG9yeSIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtTSEFSRURfRElSfS9jb25zdWx0YW50Mi50eHQiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiY29uc3VsdGFudDIudHh0IGV4aXN0cyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiY29uc3VsdGFudDIudHh0IG5vdCBmb3VuZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQXMgY29uc3VsdGFudDI6IHRvdWNoIC9ob21lL2NvbnN1bHRhbnRzL2NvbnN1bHRhbnQyLnR4dCIKICAgICAgXQogICAgfQogIF0KfQpQRVJNU19DTElfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9wZXJtcy1kZWZhdWx0Lmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvcGVybXMtZGVmYXVsdC5qc29uIiA8PCAnUEVSTVNfREVGQVVMVF9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAicGVybXMtZGVmYXVsdCIsCiAgICAibmFtZSI6ICJNYW5hZ2UgRGVmYXVsdCBQZXJtaXNzaW9ucyBhbmQgU3BlY2lhbCBQZXJtaXNzaW9ucyIsCiAgICAiZGVzY3JpcHRpb24iOiAiQ29udHJvbCBkZWZhdWx0IHBlcm1pc3Npb25zIGFuZCBjb25maWd1cmUgc3BlY2lhbCBwZXJtaXNzaW9ucyBsaWtlIHNldGdpZCBhbmQgc3RpY2t5IGJpdCIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgNiIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMjUgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIkNyZWF0ZSBhIHNoYXJlZCBkaXJlY3Rvcnkgd2l0aCBncm91cCBvd25lcnNoaXAiLAogICAgICAiQ29uZmlndXJlIHNldGdpZCBzbyBuZXcgZmlsZXMgaW5oZXJpdCBncm91cCBvd25lcnNoaXAiLAogICAgICAiQ29uZmlndXJlIHN0aWNreSBiaXQgdG8gcHJldmVudCB1c2VycyBmcm9tIGRlbGV0aW5nIG90aGVycycgZmlsZXMiLAogICAgICAiVW5kZXJzdGFuZCB1bWFzayBhbmQgaXRzIGVmZmVjdCBvbiBmaWxlIHBlcm1pc3Npb25zIgogICAgXSwKICAgICJwcmVyZXF1aXNpdGVzIjogWwogICAgICAiQWNjZXNzIHRvIHNlcnZlcmEgbWFjaGluZSIsCiAgICAgICJvcGVyYXRvcnMgZ3JvdXAgZXhpc3RzIiwKICAgICAgIm9wZXJhdG9yMSBhbmQgb3BlcmF0b3IyIHVzZXJzIGV4aXN0IgogICAgXSwKICAgICJ0YWdzIjogWyJwZXJtaXNzaW9ucyIsICJzZXRnaWQiLCAic3RpY2t5IiwgInVtYXNrIiwgInNwZWNpYWwiXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7CiAgICAgICAgIm5hbWUiOiAic2VydmVyYSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlNlcnZlciBmb3Igc3BlY2lhbCBwZXJtaXNzaW9ucyBwcmFjdGljZSIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiU0hBUkVEX0RJUiI6ICIvdG1wL29wZXJhdG9ycyIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogIm9wZXJhdG9ycy1ncm91cCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBvcGVyYXRvcnMgZ3JvdXAgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBvcGVyYXRvcnMgZ3JvdXAgbXVzdCBleGlzdCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiZmF0YWwiOiB0cnVlLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImdyb3VwX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJncm91cCI6ICJvcGVyYXRvcnMiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIm9wZXJhdG9ycyBncm91cCBleGlzdHMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIm9wZXJhdG9ycyBncm91cCBub3QgZm91bmQgLSBydW4gJ2xhYiBzdGFydCBwZXJtcy1kZWZhdWx0JyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuICdsYWIgc3RhcnQgcGVybXMtZGVmYXVsdCcgdG8gY3JlYXRlIHByZXJlcXVpc2l0ZXMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJkaXJlY3RvcnktZXhpc3RzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IC90bXAvb3BlcmF0b3JzIGRpcmVjdG9yeSBleGlzdHMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHNoYXJlZCBkaXJlY3RvcnkgbXVzdCBleGlzdCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImRpcmVjdG9yeV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1NIQVJFRF9ESVJ9IiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIi90bXAvb3BlcmF0b3JzIGRpcmVjdG9yeSBleGlzdHMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIi90bXAvb3BlcmF0b3JzIGRpcmVjdG9yeSBub3QgZm91bmQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNyZWF0ZSBkaXJlY3Rvcnk6IG1rZGlyIC90bXAvb3BlcmF0b3JzIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiZ3JvdXAtb3duZXJzaGlwIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGdyb3VwIG93bmVyc2hpcCBpcyBvcGVyYXRvcnMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGRpcmVjdG9yeSBncm91cCBvd25lciBtdXN0IGJlIG9wZXJhdG9ycyIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfb3duZXIiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1NIQVJFRF9ESVJ9IiwKICAgICAgICAgICJncm91cCI6ICJvcGVyYXRvcnMiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiR3JvdXAgb3duZXJzaGlwIGlzIG9wZXJhdG9ycyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiR3JvdXAgb3duZXJzaGlwIGlzIG5vdCBvcGVyYXRvcnMiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNoYW5nZSBncm91cDogY2hvd24gOm9wZXJhdG9ycyAvdG1wL29wZXJhdG9ycyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNldGdpZC1iaXQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc2V0Z2lkIGJpdCBpcyBzZXQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHNldGdpZCBiaXQgc2hvdWxkIGJlIHNldCBzbyBuZXcgZmlsZXMgaW5oZXJpdCBncm91cCBvd25lcnNoaXAiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIsCiAgICAgICAgICAiY29tbWFuZCI6ICJzdGF0IC1jICclYScgL3RtcC9vcGVyYXRvcnMgfCBncmVwIC1xRSAnXlsyMzY3XSciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlciI6ICJyb290IiwKICAgICAgICAgICJjb21tYW5kIjogImxzIC1sZCAvdG1wL29wZXJhdG9ycyB8IGdyZXAgLXEgJ15kLi4uLi5zJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJTZXRnaWQgYml0IGlzIHNldCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiU2V0Z2lkIGJpdCBpcyBub3Qgc2V0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJTZXQgc2V0Z2lkOiBjaG1vZCBnK3MgL3RtcC9vcGVyYXRvcnMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJzdGlja3ktYml0IiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHN0aWNreSBiaXQgaXMgc2V0IiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBzdGlja3kgYml0IHNob3VsZCBwcmV2ZW50IHVzZXJzIGZyb20gZGVsZXRpbmcgb3RoZXJzJyBmaWxlcyIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlciI6ICJyb290IiwKICAgICAgICAgICJjb21tYW5kIjogInN0YXQgLWMgJyVhJyAvdG1wL29wZXJhdG9ycyB8IGdyZXAgLXFFICdeWzEzXVswLTddezN9JCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiU3RpY2t5IGJpdCBpcyBzZXQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIlN0aWNreSBiaXQgaXMgbm90IHNldCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiU2V0IHN0aWNreSBiaXQ6IGNobW9kIDM3NzAgL3RtcC9vcGVyYXRvcnMiLAogICAgICAgICJPcjogY2htb2QgK3QgL3RtcC9vcGVyYXRvcnMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJwZXJtaXNzaW9ucy0zNzcwIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGRpcmVjdG9yeSBwZXJtaXNzaW9ucyBhcmUgMzc3MCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJEaXJlY3Rvcnkgc2hvdWxkIGhhdmUgZHJ3eHJ3cy0tVCAoMzc3MCkgcGVybWlzc2lvbnMiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX21vZGUiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1NIQVJFRF9ESVJ9IiwKICAgICAgICAgICJtb2RlIjogIjM3NzAiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiUGVybWlzc2lvbnMgYXJlIDM3NzAgKGRyd3hyd3MtLVQpIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJQZXJtaXNzaW9ucyBhcmUgbm90IDM3NzAiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlNldCBwZXJtaXNzaW9uczogY2htb2QgMzc3MCAvdG1wL29wZXJhdG9ycyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm9wcy1maWxlMSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBvcHNfZmlsZTEudHh0IGV4aXN0cyB3aXRoIG9wZXJhdG9ycyBncm91cCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJvcHNfZmlsZTEudHh0IHNob3VsZCBleGlzdCBhbmQgYmUgb3duZWQgYnkgb3BlcmF0b3JzIGdyb3VwIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1NIQVJFRF9ESVJ9L29wc19maWxlMS50eHQiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfb3duZXIiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1NIQVJFRF9ESVJ9L29wc19maWxlMS50eHQiLAogICAgICAgICAgImdyb3VwIjogIm9wZXJhdG9ycyIsCiAgICAgICAgICAidXNlciI6ICJyb290IgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJvcHNfZmlsZTEudHh0IGV4aXN0cyB3aXRoIG9wZXJhdG9ycyBncm91cCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAib3BzX2ZpbGUxLnR4dCBub3QgZm91bmQgb3Igd3JvbmcgZ3JvdXAiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNyZWF0ZSBmaWxlOiB0b3VjaCAvdG1wL29wZXJhdG9ycy9vcHNfZmlsZTEudHh0IiwKICAgICAgICAiVGhlIGZpbGUgc2hvdWxkIGluaGVyaXQgb3BlcmF0b3JzIGdyb3VwIGR1ZSB0byBzZXRnaWQiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJvcHMtZmlsZTIiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BzX2ZpbGUyLnR4dCBleGlzdHMgd2l0aCBvcGVyYXRvcnMgZ3JvdXAiLAogICAgICAiZGVzY3JpcHRpb24iOiAib3BzX2ZpbGUyLnR4dCBzaG91bGQgZXhpc3QgYW5kIGJlIG93bmVkIGJ5IG9wZXJhdG9ycyBncm91cCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtTSEFSRURfRElSfS9vcHNfZmlsZTIudHh0IiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX293bmVyIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtTSEFSRURfRElSfS9vcHNfZmlsZTIudHh0IiwKICAgICAgICAgICJncm91cCI6ICJvcGVyYXRvcnMiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAib3BzX2ZpbGUyLnR4dCBleGlzdHMgd2l0aCBvcGVyYXRvcnMgZ3JvdXAiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIm9wc19maWxlMi50eHQgbm90IGZvdW5kIG9yIHdyb25nIGdyb3VwIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgZmlsZTogdG91Y2ggL3RtcC9vcGVyYXRvcnMvb3BzX2ZpbGUyLnR4dCIKICAgICAgXQogICAgfQogIF0KfQpQRVJNU19ERUZBVUxUX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvcHJvY2Vzc2VzLWNvbnRyb2wuanNvbgogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9jdXN0b21fbGFicy9leGFtcGxlcy9wcm9jZXNzZXMtY29udHJvbC5qc29uIiA8PCAnUFJPQ0VTU0VTX0NPTlRST0xfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogInByb2Nlc3Nlcy1jb250cm9sIiwKICAgICJuYW1lIjogIkNvbnRyb2wgSm9icyBhbmQgUHJvY2Vzc2VzIiwKICAgICJkZXNjcmlwdGlvbiI6ICJDb250cm9sIGpvYnMgYW5kIHByb2Nlc3NlcyBydW5uaW5nIGluIHRoZSBzaGVsbCIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgMTAiLAogICAgImVzdGltYXRlZF90aW1lIjogIjMwIG1pbnV0ZXMiLAogICAgIm9iamVjdGl2ZXMiOiBbCiAgICAgICJDb250cm9sIGpvYnMgcnVubmluZyBpbiB0aGUgc2hlbGwiLAogICAgICAiVXNlIGJhY2tncm91bmQgYW5kIGZvcmVncm91bmQgcHJvY2Vzc2VzIgogICAgXSwKICAgICJ0YWdzIjogWyJwcm9jZXNzZXMiLCAiam9icyIsICJiYWNrZ3JvdW5kIiwgImZvcmVncm91bmQiLCAibm9odXAiXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7Im5hbWUiOiAid29ya3N0YXRpb24iLCAic3NoX3VzZXIiOiAic3R1ZGVudCJ9CiAgICBdCiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJwcm9jZXNzZXMtY29udHJvbC1jb21wbGV0ZSIsCiAgICAgICJuYW1lIjogIlByb2Nlc3MgQ29udHJvbCBDb21wbGV0ZSIsCiAgICAgICJwb2ludHMiOiAxMCwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7InR5cGUiOiAiY29tbWFuZCIsICJob3N0IjogIndvcmtzdGF0aW9uIiwgImNvbW1hbmQiOiAidHJ1ZSJ9CiAgICAgIF0KICAgIH0KICBdCn0KUFJPQ0VTU0VTX0NPTlRST0xfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9wcm9jZXNzZXMta2lsbC5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL3Byb2Nlc3Nlcy1raWxsLmpzb24iIDw8ICdQUk9DRVNTRVNfS0lMTF9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAicHJvY2Vzc2VzLWtpbGwiLAogICAgIm5hbWUiOiAiU2VuZCBTaWduYWxzIHRvIFByb2Nlc3NlcyIsCiAgICAiZGVzY3JpcHRpb24iOiAiU2VuZCBzaWduYWxzIHRvIHByb2Nlc3NlcyB0byBjb250cm9sIHRoZWlyIGFjdGl2aXR5IG9yIHRvIHRlcm1pbmF0ZSBleGVjdXRpb24iLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDkiLAogICAgImVzdGltYXRlZF90aW1lIjogIjIwIG1pbnV0ZXMiLAogICAgIm9iamVjdGl2ZXMiOiBbCiAgICAgICJTdGFydCBhbmQgc3RvcCBtdWx0aXBsZSBzaGVsbCBwcm9jZXNzZXMiLAogICAgICAiVXNlIFNJR1NUT1AgdG8gc3VzcGVuZCBhIHByb2Nlc3MiLAogICAgICAiVXNlIFNJR1RFUk0gdG8gdGVybWluYXRlIGEgcHJvY2VzcyIsCiAgICAgICJVc2UgU0lHQ09OVCB0byByZXN1bWUgYSBzdG9wcGVkIHByb2Nlc3MiLAogICAgICAiVXNlIHBraWxsIHRvIHRlcm1pbmF0ZSBtdWx0aXBsZSBwcm9jZXNzZXMgYnkgbmFtZSIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIkFjY2VzcyB0byBzZXJ2ZXJhIG1hY2hpbmUiLAogICAgICAiaW5zdGFuY2Ugc2NyaXB0IGV4aXN0cyBpbiBQQVRIIgogICAgXSwKICAgICJ0YWdzIjogWyJraWxsIiwgInNpZ25hbCIsICJwcm9jZXNzIiwgIlNJR1NUT1AiLCAiU0lHVEVSTSIsICJTSUdDT05UIiwgInBraWxsIiwgImpvYnMiXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7CiAgICAgICAgIm5hbWUiOiAic2VydmVyYSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlNlcnZlciBmb3IgcHJvY2VzcyBzaWduYWwgcHJhY3RpY2UiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHsKICAgICAgIk9VVEZJTEUiOiAiL2hvbWUvc3R1ZGVudC9pbnN0YW5jZV9vdXRmaWxlIgogICAgfQogIH0sCiAgInRhc2tzIjogWwogICAgewogICAgICAiaWQiOiAiaW5zdGFuY2Utc2NyaXB0LWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBpbnN0YW5jZSBzY3JpcHQgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBpbnN0YW5jZSBzY3JpcHQgbXVzdCBiZSBhdmFpbGFibGUgaW4gUEFUSCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiZmF0YWwiOiB0cnVlLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJ3aGljaCBpbnN0YW5jZSB8fCB0ZXN0IC14IC91c3IvbG9jYWwvYmluL2luc3RhbmNlIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImluc3RhbmNlIHNjcmlwdCBpcyBhdmFpbGFibGUiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImluc3RhbmNlIHNjcmlwdCBub3QgZm91bmQgLSBydW4gJ2xhYiBzdGFydCBwcm9jZXNzZXMta2lsbCciLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlJ1biAnbGFiIHN0YXJ0IHByb2Nlc3Nlcy1raWxsJyB0byBzZXQgdXAgdGhlIGVudmlyb25tZW50IgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAib3V0ZmlsZS1jcmVhdGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGluc3RhbmNlX291dGZpbGUgd2FzIGNyZWF0ZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG91dHB1dCBmaWxlIHNob3VsZCBleGlzdCAoaW5kaWNhdGVzIHByb2Nlc3NlcyByYW4pIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke09VVEZJTEV9IgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJpbnN0YW5jZV9vdXRmaWxlIGV4aXN0cyAocHJvY2Vzc2VzIHdlcmUgZXhlY3V0ZWQpIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJpbnN0YW5jZV9vdXRmaWxlIG5vdCBmb3VuZCAtIHJ1biBpbnN0YW5jZSBwcm9jZXNzZXMgZmlyc3QiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlN0YXJ0IHByb2Nlc3NlczogaW5zdGFuY2UgbmV0d29yayAmIiwKICAgICAgICAiaW5zdGFuY2UgaW50ZXJmYWNlICYiLAogICAgICAgICJpbnN0YW5jZSBjb25uZWN0aW9uICYiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJvdXRmaWxlLWhhcy1jb250ZW50IiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGluc3RhbmNlX291dGZpbGUgaGFzIGNvbnRlbnQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG91dHB1dCBmaWxlIHNob3VsZCBjb250YWluIHByb2Nlc3Mgb3V0cHV0IiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogInRlc3QgLXMgL2hvbWUvc3R1ZGVudC9pbnN0YW5jZV9vdXRmaWxlIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImluc3RhbmNlX291dGZpbGUgY29udGFpbnMgcHJvY2VzcyBvdXRwdXQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImluc3RhbmNlX291dGZpbGUgaXMgZW1wdHkiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkxldCBwcm9jZXNzZXMgcnVuIGZvciBhIGZldyBzZWNvbmRzIHRvIGdlbmVyYXRlIG91dHB1dCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm5vLWluc3RhbmNlLXByb2Nlc3NlcyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBhbGwgaW5zdGFuY2UgcHJvY2Vzc2VzIGFyZSB0ZXJtaW5hdGVkIiwKICAgICAgImRlc2NyaXB0aW9uIjogIk5vIGluc3RhbmNlIHByb2Nlc3NlcyBzaG91bGQgYmUgcnVubmluZyAoZmluYWwgc3RhdGUpIiwKICAgICAgInBvaW50cyI6IDMsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogIiEgcGdyZXAgLXggaW5zdGFuY2UgJiYgISBwZ3JlcCAtZiAnaW5zdGFuY2UgKG5ldHdvcmt8aW50ZXJmYWNlfGNvbm5lY3Rpb24pJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJBbGwgaW5zdGFuY2UgcHJvY2Vzc2VzIGFyZSB0ZXJtaW5hdGVkIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJTb21lIGluc3RhbmNlIHByb2Nlc3NlcyBhcmUgc3RpbGwgcnVubmluZyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiVGVybWluYXRlIGFsbDogcGtpbGwgLVNJR1RFUk0gaW5zdGFuY2UiLAogICAgICAgICJPciB1c2U6IGtpbGwgLVNJR1RFUk0gJWpvYl9udW1iZXIiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJuby10YWlsLXByb2Nlc3MiLAogICAgICAibmFtZSI6ICJWZXJpZnkgdGFpbCBwcm9jZXNzIGlzIHRlcm1pbmF0ZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiTm8gdGFpbCBwcm9jZXNzIG9uIGluc3RhbmNlX291dGZpbGUgc2hvdWxkIGJlIHJ1bm5pbmciLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIsCiAgICAgICAgICAiY29tbWFuZCI6ICIhIHBncmVwIC1mICd0YWlsLippbnN0YW5jZV9vdXRmaWxlJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJObyB0YWlsIHByb2Nlc3Mgb24gaW5zdGFuY2Vfb3V0ZmlsZSBydW5uaW5nIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJ0YWlsIHByb2Nlc3Mgb24gaW5zdGFuY2Vfb3V0ZmlsZSBpcyBzdGlsbCBydW5uaW5nIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJGaW5kIFBJRDogcHMgLWVmIHwgZ3JlcCB0YWlsIiwKICAgICAgICAiVGVybWluYXRlOiBraWxsIC1TSUdURVJNIDxQSUQ+IgogICAgICBdCiAgICB9CiAgXQp9ClBST0NFU1NFU19LSUxMX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvcHJvY2Vzc2VzLW1vbml0b3IuanNvbgogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9jdXN0b21fbGFicy9leGFtcGxlcy9wcm9jZXNzZXMtbW9uaXRvci5qc29uIiA8PCAnUFJPQ0VTU0VTX01PTklUT1JfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogInByb2Nlc3Nlcy1tb25pdG9yIiwKICAgICJuYW1lIjogIk1vbml0b3IgUHJvY2VzcyBBY3Rpdml0eSIsCiAgICAiZGVzY3JpcHRpb24iOiAiSW52ZXN0aWdhdGUsIGNvbnRyb2wsIGFuZCB0ZXJtaW5hdGUgcHJvY2Vzc2VzIHRoYXQgcnVuIG9uIGEgUmVkIEhhdCBFbnRlcnByaXNlIExpbnV4IHN5c3RlbSIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgOSIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMjAgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIkNyZWF0ZSBhIHNjcmlwdCB0byBnZW5lcmF0ZSBDUFUgbG9hZCIsCiAgICAgICJSdW4gbXVsdGlwbGUgYmFja2dyb3VuZCBwcm9jZXNzZXMiLAogICAgICAiTW9uaXRvciBwcm9jZXNzZXMgd2l0aCB0aGUgdG9wIGNvbW1hbmQiLAogICAgICAiT2JzZXJ2ZSBDUFUgdXNhZ2UgYW5kIGxvYWQgYXZlcmFnZXMiLAogICAgICAiVGVybWluYXRlIHByb2Nlc3NlcyBmcm9tIHdpdGhpbiB0b3AiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBtYWNoaW5lIgogICAgXSwKICAgICJ0YWdzIjogWyJ0b3AiLCAicHJvY2VzcyIsICJtb25pdG9yIiwgImNwdSIsICJsb2FkIiwgImJhY2tncm91bmQiXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7CiAgICAgICAgIm5hbWUiOiAic2VydmVyYSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlNlcnZlciBmb3IgcHJvY2VzcyBtb25pdG9yaW5nIHByYWN0aWNlIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfQogICAgXSwKICAgICJ2YXJpYWJsZXMiOiB7CiAgICAgICJCSU5fRElSIjogIi9ob21lL3N0dWRlbnQvYmluIiwKICAgICAgIk1PTklUT1JfU0NSSVBUIjogIi9ob21lL3N0dWRlbnQvYmluL21vbml0b3IiCiAgICB9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJiaW4tZGlyZWN0b3J5LWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSAvaG9tZS9zdHVkZW50L2JpbiBkaXJlY3RvcnkgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBiaW4gZGlyZWN0b3J5IHNob3VsZCBleGlzdCBpbiBzdHVkZW50J3MgaG9tZSIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImRpcmVjdG9yeV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke0JJTl9ESVJ9IgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICIvaG9tZS9zdHVkZW50L2JpbiBkaXJlY3RvcnkgZXhpc3RzIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICIvaG9tZS9zdHVkZW50L2JpbiBkaXJlY3Rvcnkgbm90IGZvdW5kIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgZGlyZWN0b3J5OiBta2RpciAvaG9tZS9zdHVkZW50L2JpbiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm1vbml0b3Itc2NyaXB0LWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBtb25pdG9yIHNjcmlwdCBleGlzdHMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG1vbml0b3Igc2NyaXB0IHNob3VsZCBleGlzdCBpbiAvaG9tZS9zdHVkZW50L2JpbiIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtNT05JVE9SX1NDUklQVH0iCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIm1vbml0b3Igc2NyaXB0IGV4aXN0cyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAibW9uaXRvciBzY3JpcHQgbm90IGZvdW5kIGluIC9ob21lL3N0dWRlbnQvYmluIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgdGhlIG1vbml0b3Igc2NyaXB0IHdpdGggYSB3aGlsZSBsb29wIHRoYXQgZ2VuZXJhdGVzIENQVSBsb2FkIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAibW9uaXRvci1zY3JpcHQtZXhlY3V0YWJsZSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBtb25pdG9yIHNjcmlwdCBpcyBleGVjdXRhYmxlIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBtb25pdG9yIHNjcmlwdCBzaG91bGQgaGF2ZSBleGVjdXRlIHBlcm1pc3Npb25zIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogInRlc3QgLXggL2hvbWUvc3R1ZGVudC9iaW4vbW9uaXRvciIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJtb25pdG9yIHNjcmlwdCBpcyBleGVjdXRhYmxlIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJtb25pdG9yIHNjcmlwdCBpcyBub3QgZXhlY3V0YWJsZSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiTWFrZSBleGVjdXRhYmxlOiBjaG1vZCBhK3ggL2hvbWUvc3R1ZGVudC9iaW4vbW9uaXRvciIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm1vbml0b3Itc2NyaXB0LXZhbGlkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IG1vbml0b3Igc2NyaXB0IGhhcyBjb3JyZWN0IHNoZWJhbmciLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG1vbml0b3Igc2NyaXB0IHNob3VsZCBzdGFydCB3aXRoICMhL2Jpbi9iYXNoIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogImhlYWQgLTEgL2hvbWUvc3R1ZGVudC9iaW4vbW9uaXRvciB8IGdyZXAgLXEgJ14jIS9iaW4vYmFzaCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAibW9uaXRvciBzY3JpcHQgaGFzIGNvcnJlY3Qgc2hlYmFuZyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAibW9uaXRvciBzY3JpcHQgbWlzc2luZyAjIS9iaW4vYmFzaCBzaGViYW5nIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJGaXJzdCBsaW5lIHNob3VsZCBiZTogIyEvYmluL2Jhc2giCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJuby1tb25pdG9yLXByb2Nlc3NlcyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBhbGwgbW9uaXRvciBwcm9jZXNzZXMgYXJlIHRlcm1pbmF0ZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiTm8gbW9uaXRvciBwcm9jZXNzZXMgc2hvdWxkIGJlIHJ1bm5pbmcgKGZpbmFsIHN0YXRlKSIsCiAgICAgICJwb2ludHMiOiAzLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICIhIHBncmVwIC1mICcvaG9tZS9zdHVkZW50L2Jpbi9tb25pdG9yJyAmJiAhIHBncmVwIC14IG1vbml0b3IiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiQWxsIG1vbml0b3IgcHJvY2Vzc2VzIGFyZSB0ZXJtaW5hdGVkIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJTb21lIG1vbml0b3IgcHJvY2Vzc2VzIGFyZSBzdGlsbCBydW5uaW5nIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVc2UgdG9wOiBwcmVzcyBLLCBlbnRlciBQSUQsIHByZXNzIEVudGVyIHR3aWNlIiwKICAgICAgICAiT3IgdXNlOiBwa2lsbCBtb25pdG9yIgogICAgICBdCiAgICB9CiAgXQp9ClBST0NFU1NFU19NT05JVE9SX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvc2VydmljZXMtY29udHJvbC5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL3NlcnZpY2VzLWNvbnRyb2wuanNvbiIgPDwgJ1NFUlZJQ0VTX0NPTlRST0xfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogInNlcnZpY2VzLWNvbnRyb2wiLAogICAgIm5hbWUiOiAiQ29udHJvbCBTeXN0ZW0gU2VydmljZXMiLAogICAgImRlc2NyaXB0aW9uIjogIkNvbnRyb2wgc3lzdGVtIGRhZW1vbnMgYW5kIG5ldHdvcmsgc2VydmljZXMgd2l0aCB0aGUgc3lzdGVtY3RsIGNvbW1hbmQiLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDEwIiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyMCBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiUmVzdGFydCBhbmQgcmVsb2FkIHNlcnZpY2VzIHdpdGggc3lzdGVtY3RsIiwKICAgICAgIlN0b3AgYW5kIHN0YXJ0IHNlcnZpY2VzIiwKICAgICAgIkVuYWJsZSBhbmQgZGlzYWJsZSBzZXJ2aWNlcyBmb3IgYm9vdCIsCiAgICAgICJVbmRlcnN0YW5kIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcmVzdGFydCBhbmQgcmVsb2FkIgogICAgXSwKICAgICJwcmVyZXF1aXNpdGVzIjogWwogICAgICAiQWNjZXNzIHRvIHNlcnZlcmEgbWFjaGluZSIsCiAgICAgICJSb290IGFjY2VzcyB2aWEgc3VkbyIKICAgIF0sCiAgICAidGFncyI6IFsic3lzdGVtY3RsIiwgInNlcnZpY2UiLCAicmVzdGFydCIsICJyZWxvYWQiLCAic3RvcCIsICJzdGFydCIsICJlbmFibGUiLCAiZGlzYWJsZSJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIGZvciBzZXJ2aWNlIGNvbnRyb2wgcHJhY3RpY2UiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHt9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJzc2hkLXJ1bm5pbmciLAogICAgICAibmFtZSI6ICJWZXJpZnkgc3NoZCBzZXJ2aWNlIGlzIHN0aWxsIHJ1bm5pbmciLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHNzaGQgc2VydmljZSBzaG91bGQgYmUgYWN0aXZlIGFmdGVyIHJlc3RhcnQvcmVsb2FkIG9wZXJhdGlvbnMiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImZhdGFsIjogdHJ1ZSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJzZXJ2aWNlX3J1bm5pbmciLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAic2VydmljZSI6ICJzc2hkIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJzc2hkIHNlcnZpY2UgaXMgcnVubmluZyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAic3NoZCBzZXJ2aWNlIGlzIG5vdCBydW5uaW5nIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJTdGFydCBzc2hkOiBzdWRvIHN5c3RlbWN0bCBzdGFydCBzc2hkIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAic3NoZC1lbmFibGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHNzaGQgc2VydmljZSBpcyBlbmFibGVkIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBzc2hkIHNlcnZpY2Ugc2hvdWxkIHJlbWFpbiBlbmFibGVkIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAic2VydmljZV9lbmFibGVkIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInNlcnZpY2UiOiAic3NoZCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAic3NoZCBzZXJ2aWNlIGlzIGVuYWJsZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInNzaGQgc2VydmljZSBpcyBub3QgZW5hYmxlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiRW5hYmxlIHNzaGQ6IHN1ZG8gc3lzdGVtY3RsIGVuYWJsZSBzc2hkIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiY2hyb255ZC1kaXNhYmxlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBjaHJvbnlkIHNlcnZpY2UgaXMgZGlzYWJsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGNocm9ueWQgc2VydmljZSBzaG91bGQgYmUgZGlzYWJsZWQgKGZpbmFsIHN0YXRlKSIsCiAgICAgICJwb2ludHMiOiAzLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJzeXN0ZW1jdGwgaXMtZW5hYmxlZCBjaHJvbnlkIHwgZ3JlcCAtcSBkaXNhYmxlZCIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJjaHJvbnlkIHNlcnZpY2UgaXMgZGlzYWJsZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImNocm9ueWQgc2VydmljZSBpcyBzdGlsbCBlbmFibGVkIC0gc2hvdWxkIGJlIGRpc2FibGVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJEaXNhYmxlIGNocm9ueWQ6IHN1ZG8gc3lzdGVtY3RsIGRpc2FibGUgY2hyb255ZCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImNocm9ueWQtbm90LXJ1bm5pbmciLAogICAgICAibmFtZSI6ICJWZXJpZnkgY2hyb255ZCBzZXJ2aWNlIGlzIG5vdCBydW5uaW5nIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBjaHJvbnlkIHNlcnZpY2Ugc2hvdWxkIGJlIGluYWN0aXZlIChmaW5hbCBzdGF0ZSBhZnRlciByZWJvb3QpIiwKICAgICAgInBvaW50cyI6IDMsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogIiEgc3lzdGVtY3RsIGlzLWFjdGl2ZSBjaHJvbnlkIHwgZ3JlcCAtcSAnXmFjdGl2ZSQnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImNocm9ueWQgc2VydmljZSBpcyBub3QgcnVubmluZyAoaW5hY3RpdmUpIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJjaHJvbnlkIHNlcnZpY2UgaXMgc3RpbGwgcnVubmluZyAtIHNob3VsZCBiZSBzdG9wcGVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJTdG9wIGNocm9ueWQ6IHN1ZG8gc3lzdGVtY3RsIHN0b3AgY2hyb255ZCIsCiAgICAgICAgIkFmdGVyIGRpc2FibGluZywgcmVib290IHRvIHZlcmlmeSBpdCBkb2Vzbid0IHN0YXJ0IgogICAgICBdCiAgICB9CiAgXQp9ClNFUlZJQ0VTX0NPTlRST0xfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9zZXJ2aWNlcy1pZGVudGlmeS5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL3NlcnZpY2VzLWlkZW50aWZ5Lmpzb24iIDw8ICdTRVJWSUNFU19JREVOVElGWV9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAic2VydmljZXMtaWRlbnRpZnkiLAogICAgIm5hbWUiOiAiSWRlbnRpZnkgU3lzdGVtIFByb2Nlc3NlcyB0aGF0IFN0YXJ0IEF1dG9tYXRpY2FsbHkiLAogICAgImRlc2NyaXB0aW9uIjogIkxpc3QgdGhlIGluc3RhbGxlZCBzZXJ2aWNlIHVuaXRzIGFuZCBpZGVudGlmeSB3aGljaCBzZXJ2aWNlcyBhcmUgY3VycmVudGx5IGVuYWJsZWQgYW5kIGFjdGl2ZSBvbiBhIHNlcnZlciIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgMTAiLAogICAgImVzdGltYXRlZF90aW1lIjogIjE1IG1pbnV0ZXMiLAogICAgIm9iamVjdGl2ZXMiOiBbCiAgICAgICJMaXN0IHRoZSBpbnN0YWxsZWQgc2VydmljZSB1bml0cyB3aXRoIHN5c3RlbWN0bCIsCiAgICAgICJMaXN0IHNvY2tldCB1bml0cyB3aXRoIHN5c3RlbWN0bCIsCiAgICAgICJJZGVudGlmeSBhY3RpdmUgYW5kIGVuYWJsZWQgc2VydmljZXMgb24gdGhlIHN5c3RlbSIsCiAgICAgICJDaGVjayBzZXJ2aWNlIHN0YXR1cyB3aXRoIHN5c3RlbWN0bCBzdGF0dXMiLAogICAgICAiVXNlIHN5c3RlbWN0bCBpcy1lbmFibGVkIGFuZCBpcy1hY3RpdmUgY29tbWFuZHMiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBtYWNoaW5lIgogICAgXSwKICAgICJ0YWdzIjogWyJzeXN0ZW1jdGwiLCAic2VydmljZSIsICJzb2NrZXQiLCAiZW5hYmxlZCIsICJhY3RpdmUiLCAiY2hyb255ZCIsICJzc2hkIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTZXJ2ZXIgZm9yIHNlcnZpY2UgaWRlbnRpZmljYXRpb24gcHJhY3RpY2UiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHt9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJzeXN0ZW1jdGwtYXZhaWxhYmxlIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHN5c3RlbWN0bCBjb21tYW5kIGlzIGF2YWlsYWJsZSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgc3lzdGVtY3RsIGNvbW1hbmQgbXVzdCBiZSBhdmFpbGFibGUiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImZhdGFsIjogdHJ1ZSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAid2hpY2ggc3lzdGVtY3RsIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogInN5c3RlbWN0bCBjb21tYW5kIGlzIGF2YWlsYWJsZSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAic3lzdGVtY3RsIGNvbW1hbmQgbm90IGZvdW5kIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJzeXN0ZW1jdGwgc2hvdWxkIGJlIGF2YWlsYWJsZSBvbiBhbnkgc3lzdGVtZC1iYXNlZCBzeXN0ZW0iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJjaHJvbnlkLWFjdGl2ZSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBjaHJvbnlkIHNlcnZpY2UgaXMgYWN0aXZlIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBjaHJvbnlkIE5UUCBzZXJ2aWNlIHNob3VsZCBiZSBydW5uaW5nIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAic2VydmljZV9ydW5uaW5nIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInNlcnZpY2UiOiAiY2hyb255ZCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiY2hyb255ZCBzZXJ2aWNlIGlzIGFjdGl2ZSAocnVubmluZykiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImNocm9ueWQgc2VydmljZSBpcyBub3QgcnVubmluZyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ2hlY2sgc3RhdHVzOiBzeXN0ZW1jdGwgc3RhdHVzIGNocm9ueWQiLAogICAgICAgICJDaGVjayBpZiBhY3RpdmU6IHN5c3RlbWN0bCBpcy1hY3RpdmUgY2hyb255ZCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImNocm9ueWQtZW5hYmxlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBjaHJvbnlkIHNlcnZpY2UgaXMgZW5hYmxlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgY2hyb255ZCBzZXJ2aWNlIHNob3VsZCBiZSBlbmFibGVkIHRvIHN0YXJ0IGF0IGJvb3QiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJzZXJ2aWNlX2VuYWJsZWQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAic2VydmljZSI6ICJjaHJvbnlkIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJjaHJvbnlkIHNlcnZpY2UgaXMgZW5hYmxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiY2hyb255ZCBzZXJ2aWNlIGlzIG5vdCBlbmFibGVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDaGVjayBpZiBlbmFibGVkOiBzeXN0ZW1jdGwgaXMtZW5hYmxlZCBjaHJvbnlkIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAic3NoZC1hY3RpdmUiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc3NoZCBzZXJ2aWNlIGlzIGFjdGl2ZSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgc3NoZCBzZXJ2aWNlIHNob3VsZCBiZSBydW5uaW5nIGZvciBTU0ggYWNjZXNzIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAic2VydmljZV9ydW5uaW5nIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInNlcnZpY2UiOiAic3NoZCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAic3NoZCBzZXJ2aWNlIGlzIGFjdGl2ZSAocnVubmluZykiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogInNzaGQgc2VydmljZSBpcyBub3QgcnVubmluZyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ2hlY2sgc3RhdHVzOiBzeXN0ZW1jdGwgc3RhdHVzIHNzaGQiLAogICAgICAgICJDaGVjayBpZiBhY3RpdmU6IHN5c3RlbWN0bCBpcy1hY3RpdmUgc3NoZCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNzaGQtZW5hYmxlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBzc2hkIHNlcnZpY2UgaXMgZW5hYmxlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgc3NoZCBzZXJ2aWNlIHNob3VsZCBiZSBlbmFibGVkIHRvIHN0YXJ0IGF0IGJvb3QiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJzZXJ2aWNlX2VuYWJsZWQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAic2VydmljZSI6ICJzc2hkIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJzc2hkIHNlcnZpY2UgaXMgZW5hYmxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAic3NoZCBzZXJ2aWNlIGlzIG5vdCBlbmFibGVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDaGVjayBpZiBlbmFibGVkOiBzeXN0ZW1jdGwgaXMtZW5hYmxlZCBzc2hkIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiY2hyb255ZC1wcm9jZXNzLXJ1bm5pbmciLAogICAgICAibmFtZSI6ICJWZXJpZnkgY2hyb255ZCBwcm9jZXNzIGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgY2hyb255ZCBkYWVtb24gcHJvY2VzcyBzaG91bGQgYmUgdmlzaWJsZSB3aXRoIHBzIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogInBncmVwIGNocm9ueWQiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiY2hyb255ZCBwcm9jZXNzIGlzIHJ1bm5pbmciLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImNocm9ueWQgcHJvY2VzcyBub3QgZm91bmQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkdldCBQSUQgZnJvbSBzeXN0ZW1jdGwgc3RhdHVzIGNocm9ueWQiLAogICAgICAgICJWZXJpZnkgd2l0aDogcHMgLXAgPFBJRD4iCiAgICAgIF0KICAgIH0KICBdCn0KU0VSVklDRVNfSURFTlRJRllfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9zaGVsbGlvLXJlZGlyZWN0Lmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvc2hlbGxpby1yZWRpcmVjdC5qc29uIiA8PCAnU0hFTExJT19SRURJUkVDVF9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAic2hlbGxpby1yZWRpcmVjdCIsCiAgICAibmFtZSI6ICJSZWRpcmVjdCBPdXRwdXQgdG8gRmlsZXMgYW5kIFByb2dyYW1zIiwKICAgICJkZXNjcmlwdGlvbiI6ICJTYXZlIG91dHB1dCBvciBlcnJvcnMgdG8gZmlsZXMgd2l0aCBzaGVsbCByZWRpcmVjdGlvbiwgYW5kIHByb2Nlc3MgY29tbWFuZCBvdXRwdXQgdGhyb3VnaCBwaXBlbGluZXMiLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDQiLAogICAgImVzdGltYXRlZF90aW1lIjogIjIwIG1pbnV0ZXMiLAogICAgIm9iamVjdGl2ZXMiOiBbCiAgICAgICJVc2UgcmVkaXJlY3Rpb24gdG8gc2F2ZSBzdGFuZGFyZCBvdXRwdXQgdG8gZmlsZXMiLAogICAgICAiVXNlIHJlZGlyZWN0aW9uIHRvIHNhdmUgc3RhbmRhcmQgZXJyb3IgdG8gZmlsZXMiLAogICAgICAiVXNlIHBpcGVsaW5lcyB0byBzZW5kIG91dHB1dCBmcm9tIG9uZSBjb21tYW5kIHRvIGFub3RoZXIiLAogICAgICAiVXNlIHRlZSB0byBkaXNwbGF5IG91dHB1dCBhbmQgc2F2ZSB0byBmaWxlIHNpbXVsdGFuZW91c2x5IgogICAgXSwKICAgICJwcmVyZXF1aXNpdGVzIjogWwogICAgICAiQWNjZXNzIHRvIHdvcmtzdGF0aW9uIG1hY2hpbmUiLAogICAgICAiTG9nIGZpbGVzIGluIC92YXIvb3B0L215X3dlYiBkaXJlY3RvcnkiCiAgICBdLAogICAgInRhZ3MiOiBbInJlZGlyZWN0aW9uIiwgInBpcGVzIiwgInN0ZG91dCIsICJzdGRlcnIiLCAidGVlIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogIndvcmtzdGF0aW9uIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiV29ya3N0YXRpb24gZm9yIEkvTyByZWRpcmVjdGlvbiBwcmFjdGljZSIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiSE9NRV9ESVIiOiAiL2hvbWUvc3R1ZGVudCIsCiAgICAgICJMT0dfRElSIjogIi92YXIvb3B0L215X3dlYiIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogImxvZy1maWxlcy1leGlzdCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBsb2cgZmlsZXMgZXhpc3QiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGxvZyBmaWxlcyBpbiAvdmFyL29wdC9teV93ZWIgc2hvdWxkIGV4aXN0IiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJmYXRhbCI6IHRydWUsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZGlyZWN0b3J5X2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAicGF0aCI6ICIke0xPR19ESVJ9IgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgInBhdGgiOiAiJHtMT0dfRElSfS8yMDI1MDUwNy5sb2ciCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkxvZyBmaWxlcyBleGlzdCBpbiAvdmFyL29wdC9teV93ZWIiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkxvZyBmaWxlcyBub3QgZm91bmQgLSBydW4gJ2xhYiBzdGFydCBzaGVsbGlvLXJlZGlyZWN0JyBmaXJzdCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuICdsYWIgc3RhcnQgc2hlbGxpby1yZWRpcmVjdCcgdG8gY3JlYXRlIHRoZSBsb2cgZmlsZXMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJoZWFkZXJzLWZpbGUiLAogICAgICAibmFtZSI6ICJWZXJpZnkgaGVhZGVycy50eHQgY3JlYXRlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJFeHRyYWN0IGZpcnN0IDIgbGluZXMgb2YgbG9nIGZpbGVzIHRvIH4vaGVhZGVycy50eHQiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAicGF0aCI6ICIke0hPTUVfRElSfS9oZWFkZXJzLnR4dCIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfY29udGFpbnMiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgInBhdGgiOiAiJHtIT01FX0RJUn0vaGVhZGVycy50eHQiLAogICAgICAgICAgInBhdHRlcm4iOiAibXlfd2ViLipMb2FkaW5nIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9jb250YWlucyIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAicGF0aCI6ICIke0hPTUVfRElSfS9oZWFkZXJzLnR4dCIsCiAgICAgICAgICAicGF0dGVybiI6ICJWZXJzaW9uIGZvdW5kIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJoZWFkZXJzLnR4dCBjb250YWlucyBsb2cgZmlsZSBoZWFkZXJzIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJoZWFkZXJzLnR4dCBtaXNzaW5nIG9yIGluY29tcGxldGUiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlVzZTogaGVhZCAtbiAyIC92YXIvb3B0L215X3dlYi8qID4gaGVhZGVycy50eHQiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJmb290ZXJzLWZpbGUiLAogICAgICAibmFtZSI6ICJWZXJpZnkgZm9vdGVycy50eHQgY3JlYXRlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJFeHRyYWN0IGxhc3QgNSBsaW5lcyBvZiBsb2cgZmlsZXMgdG8gfi9mb290ZXJzLnR4dCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogIndvcmtzdGF0aW9uIiwKICAgICAgICAgICJwYXRoIjogIiR7SE9NRV9ESVJ9L2Zvb3RlcnMudHh0IgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9jb250YWlucyIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAicGF0aCI6ICIke0hPTUVfRElSfS9mb290ZXJzLnR4dCIsCiAgICAgICAgICAicGF0dGVybiI6ICJzdGF0dXMiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImZvb3RlcnMudHh0IGNvbnRhaW5zIGxvZyBmaWxlIGZvb3RlcnMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImZvb3RlcnMudHh0IG1pc3Npbmcgb3IgaW5jb21wbGV0ZSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiVXNlOiB0YWlsIC1uIDUgL3Zhci9vcHQvbXlfd2ViLyogPiBmb290ZXJzLnR4dCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInJlc3VsdHMtZmlsZSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSByZXN1bHRzLnR4dCBjcmVhdGVkIGZyb20gZmluZCBjb21tYW5kIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlNlYXJjaCAvZXRjIGZvciAqLmNvbmYgZmlsZXMgYW5kIHNhdmUgdG8gfi9yZXN1bHRzLnR4dCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogIndvcmtzdGF0aW9uIiwKICAgICAgICAgICJwYXRoIjogIiR7SE9NRV9ESVJ9L3Jlc3VsdHMudHh0IgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9jb250YWlucyIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAicGF0aCI6ICIke0hPTUVfRElSfS9yZXN1bHRzLnR4dCIsCiAgICAgICAgICAicGF0dGVybiI6ICJcXC5jb25mJCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAicmVzdWx0cy50eHQgY29udGFpbnMgZmluZCBjb21tYW5kIG91dHB1dCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAicmVzdWx0cy50eHQgbWlzc2luZyBvciBpbmNvbXBsZXRlIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVc2U6IGZpbmQgL2V0YyAtbmFtZSAnKi5jb25mJyA+IHJlc3VsdHMudHh0IDI+IHNlYXJjaF9lcnJvcnMudHh0IgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAic2VhcmNoLWVycm9ycy1maWxlIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHNlYXJjaF9lcnJvcnMudHh0IGNyZWF0ZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiU2F2ZSBmaW5kIGNvbW1hbmQgZXJyb3JzIHRvIH4vc2VhcmNoX2Vycm9ycy50eHQiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAicGF0aCI6ICIke0hPTUVfRElSfS9zZWFyY2hfZXJyb3JzLnR4dCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAic2VhcmNoX2Vycm9ycy50eHQgY2FwdHVyZXMgc3RkZXJyIGZyb20gZmluZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAic2VhcmNoX2Vycm9ycy50eHQgbm90IGZvdW5kIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVc2U6IGZpbmQgL2V0YyAtbmFtZSAnKi5jb25mJyA+IHJlc3VsdHMudHh0IDI+IHNlYXJjaF9lcnJvcnMudHh0IiwKICAgICAgICAiVGhlIDI+IHJlZGlyZWN0cyBzdGFuZGFyZCBlcnJvciB0byBhIGZpbGUiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJmaW5kaW5ncy1maWxlIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGZpbmRpbmdzLnR4dCBoYXMgY29tcGxldGUgaW5mb3JtYXRpb24iLAogICAgICAiZGVzY3JpcHRpb24iOiAiZmluZGluZ3MudHh0IHNob3VsZCBjb250YWluIGVycm9yIGxvZyBpbmZvLCBsaW5lIGNvdW50cywgYW5kIGRhdGUiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJ3b3Jrc3RhdGlvbiIsCiAgICAgICAgICAicGF0aCI6ICIke0hPTUVfRElSfS9maW5kaW5ncy50eHQiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2NvbnRhaW5zIiwKICAgICAgICAgICJob3N0IjogIndvcmtzdGF0aW9uIiwKICAgICAgICAgICJwYXRoIjogIiR7SE9NRV9ESVJ9L2ZpbmRpbmdzLnR4dCIsCiAgICAgICAgICAicGF0dGVybiI6ICIyMDI1MDUwNyIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfY29udGFpbnMiLAogICAgICAgICAgImhvc3QiOiAid29ya3N0YXRpb24iLAogICAgICAgICAgInBhdGgiOiAiJHtIT01FX0RJUn0vZmluZGluZ3MudHh0IiwKICAgICAgICAgICJwYXR0ZXJuIjogInJlc3VsdHMudHh0IgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJmaW5kaW5ncy50eHQgY29udGFpbnMgY29tcGxldGUgaW5mb3JtYXRpb24iLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImZpbmRpbmdzLnR4dCBtaXNzaW5nIHJlcXVpcmVkIGNvbnRlbnQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNyZWF0ZSB3aXRoOiBlY2hvICdMb2cgZmlsZSB3aXRoIGVycm9yczogMjAyNTA1MDcubG9nJyA+IH4vZmluZGluZ3MudHh0IiwKICAgICAgICAiQXBwZW5kIGNvdW50czogd2MgLWwgcmVzdWx0cy50eHQgfCB0ZWUgLWEgZmluZGluZ3MudHh0IiwKICAgICAgICAiQXBwZW5kIGRhdGU6IGRhdGUgPj4gZmluZGluZ3MudHh0IgogICAgICBdCiAgICB9CiAgXQp9ClNIRUxMSU9fUkVESVJFQ1RfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9zb2Z0d2FyZS1kbmYuanNvbgogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9jdXN0b21fbGFicy9leGFtcGxlcy9zb2Z0d2FyZS1kbmYuanNvbiIgPDwgJ1NPRlRXQVJFX0RORl9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAic29mdHdhcmUtZG5mIiwKICAgICJuYW1lIjogIkluc3RhbGwgYW5kIFVwZGF0ZSBQYWNrYWdlcyB3aXRoIERORiIsCiAgICAiZGVzY3JpcHRpb24iOiAiRmluZCwgaW5zdGFsbCwgYW5kIHVwZGF0ZSBzb2Z0d2FyZSBwYWNrYWdlcyB3aXRoIERORiIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgNyIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMjAgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIlNlYXJjaCBmb3IgcGFja2FnZXMgd2l0aCBkbmYgc2VhcmNoIiwKICAgICAgIkluc3RhbGwgYW5kIHJlbW92ZSBwYWNrYWdlcyB3aXRoIGRuZiBpbnN0YWxsL3JlbW92ZSIsCiAgICAgICJJbnN0YWxsIGFuZCByZW1vdmUgY29tcG9uZW50IGdyb3VwcyB3aXRoIGRuZiBncm91cCIsCiAgICAgICJWaWV3IHRyYW5zYWN0aW9uIGhpc3Rvcnkgd2l0aCBkbmYgaGlzdG9yeSIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIkFjY2VzcyB0byBzZXJ2ZXJhIG1hY2hpbmUiLAogICAgICAiUm9vdCBhY2Nlc3MgdmlhIHN1ZG8iCiAgICBdLAogICAgInRhZ3MiOiBbImRuZiIsICJ5dW0iLCAicGFja2FnZSIsICJpbnN0YWxsIiwgInJlbW92ZSIsICJncm91cCJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIGZvciBETkYgcGFja2FnZSBtYW5hZ2VtZW50IHByYWN0aWNlIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfQogICAgXSwKICAgICJ2YXJpYWJsZXMiOiB7CiAgICAgICJQQUNLQUdFIjogIm5tYXAiLAogICAgICAiR1JPVVAiOiAiU2VjdXJpdHkgVG9vbHMiCiAgICB9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJubWFwLWluc3RhbGxlZC1oaXN0b3J5IiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IG5tYXAgd2FzIGluc3RhbGxlZCAoZG5mIGhpc3RvcnkpIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkRORiBoaXN0b3J5IHNob3VsZCBzaG93IG5tYXAgd2FzIGluc3RhbGxlZCBhdCBzb21lIHBvaW50IiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiLAogICAgICAgICAgImNvbW1hbmQiOiAiZG5mIGhpc3RvcnkgfCBncmVwIC1pICdpbnN0YWxsLipubWFwXFx8aW5zdGFsbCBubWFwJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJETkYgaGlzdG9yeSBzaG93cyBubWFwIGluc3RhbGxhdGlvbiIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiTm8gbm1hcCBpbnN0YWxsYXRpb24gZm91bmQgaW4gZG5mIGhpc3RvcnkiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkluc3RhbGwgbm1hcDogc3VkbyBkbmYgaW5zdGFsbCBubWFwIiwKICAgICAgICAiVmlldyBoaXN0b3J5OiBkbmYgaGlzdG9yeSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm5tYXAtcmVtb3ZlZC1oaXN0b3J5IiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IG5tYXAgd2FzIHJlbW92ZWQgKGRuZiBoaXN0b3J5KSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJETkYgaGlzdG9yeSBzaG91bGQgc2hvdyBubWFwIHdhcyByZW1vdmVkIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiLAogICAgICAgICAgImNvbW1hbmQiOiAiZG5mIGhpc3RvcnkgfCBncmVwIC1pICdyZW1vdmUuKm5tYXBcXHxyZW1vdmVkLipubWFwJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJETkYgaGlzdG9yeSBzaG93cyBubWFwIHJlbW92YWwiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIk5vIG5tYXAgcmVtb3ZhbCBmb3VuZCBpbiBkbmYgaGlzdG9yeSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUmVtb3ZlIG5tYXA6IHN1ZG8gZG5mIHJlbW92ZSBubWFwIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAibm1hcC1ub3QtaW5zdGFsbGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IG5tYXAgaXMgbm90IGN1cnJlbnRseSBpbnN0YWxsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG5tYXAgcGFja2FnZSBzaG91bGQgYmUgcmVtb3ZlZCAoZmluYWwgc3RhdGUpIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogIiEgcnBtIC1xIG5tYXAiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAibm1hcCBwYWNrYWdlIGlzIG5vdCBpbnN0YWxsZWQgKGNvcnJlY3QgZmluYWwgc3RhdGUpIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJubWFwIHBhY2thZ2UgaXMgc3RpbGwgaW5zdGFsbGVkIC0gc2hvdWxkIGJlIHJlbW92ZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlJlbW92ZSBubWFwOiBzdWRvIGRuZiByZW1vdmUgbm1hcCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlY3VyaXR5LXRvb2xzLWluc3RhbGxlZC1oaXN0b3J5IiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IFNlY3VyaXR5IFRvb2xzIGdyb3VwIHdhcyBpbnN0YWxsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiRE5GIGhpc3Rvcnkgc2hvdWxkIHNob3cgU2VjdXJpdHkgVG9vbHMgZ3JvdXAgd2FzIGluc3RhbGxlZCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlciI6ICJyb290IiwKICAgICAgICAgICJjb21tYW5kIjogImRuZiBoaXN0b3J5IHwgZ3JlcCAtaSAnZ3JvdXAgaW5zdGFsbC4qc2VjdXJpdHlcXHxpbnN0YWxsLipzZWN1cml0eSciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiRE5GIGhpc3Rvcnkgc2hvd3MgU2VjdXJpdHkgVG9vbHMgZ3JvdXAgaW5zdGFsbGF0aW9uIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJObyBTZWN1cml0eSBUb29scyBncm91cCBpbnN0YWxsYXRpb24gZm91bmQgaW4gZG5mIGhpc3RvcnkiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkluc3RhbGwgZ3JvdXA6IHN1ZG8gZG5mIGdyb3VwIGluc3RhbGwgJ1NlY3VyaXR5IFRvb2xzJyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlY3VyaXR5LXRvb2xzLXJlbW92ZWQtaGlzdG9yeSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBTZWN1cml0eSBUb29scyBncm91cCB3YXMgcmVtb3ZlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJETkYgaGlzdG9yeSBzaG91bGQgc2hvdyBTZWN1cml0eSBUb29scyBncm91cCB3YXMgcmVtb3ZlZCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlciI6ICJyb290IiwKICAgICAgICAgICJjb21tYW5kIjogImRuZiBoaXN0b3J5IHwgZ3JlcCAtaSAnZ3JvdXAgcmVtb3ZlLipzZWN1cml0eVxcfHJlbW92ZS4qc2VjdXJpdHknIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkRORiBoaXN0b3J5IHNob3dzIFNlY3VyaXR5IFRvb2xzIGdyb3VwIHJlbW92YWwiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIk5vIFNlY3VyaXR5IFRvb2xzIGdyb3VwIHJlbW92YWwgZm91bmQgaW4gZG5mIGhpc3RvcnkiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlJlbW92ZSBncm91cDogc3VkbyBkbmYgZ3JvdXAgcmVtb3ZlICdTZWN1cml0eSBUb29scyciCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJzZWN1cml0eS10b29scy1ub3QtaW5zdGFsbGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IFNlY3VyaXR5IFRvb2xzIGdyb3VwIGlzIG5vdCBpbnN0YWxsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIFNlY3VyaXR5IFRvb2xzIGdyb3VwIHNob3VsZCBiZSByZW1vdmVkIChmaW5hbCBzdGF0ZSkiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIsCiAgICAgICAgICAiY29tbWFuZCI6ICIhIGRuZiBncm91cCBsaXN0IC0taW5zdGFsbGVkIDI+L2Rldi9udWxsIHwgZ3JlcCAtaSAnc2VjdXJpdHkgdG9vbHMnIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIlNlY3VyaXR5IFRvb2xzIGdyb3VwIGlzIG5vdCBpbnN0YWxsZWQgKGNvcnJlY3QgZmluYWwgc3RhdGUpIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJTZWN1cml0eSBUb29scyBncm91cCBpcyBzdGlsbCBpbnN0YWxsZWQgLSBzaG91bGQgYmUgcmVtb3ZlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUmVtb3ZlIGdyb3VwOiBzdWRvIGRuZiBncm91cCByZW1vdmUgJ1NlY3VyaXR5IFRvb2xzJyIKICAgICAgXQogICAgfQogIF0KfQpTT0ZUV0FSRV9ETkZfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9zb2Z0d2FyZS1yZXBvLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvc29mdHdhcmUtcmVwby5qc29uIiA8PCAnU09GVFdBUkVfUkVQT19KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAic29mdHdhcmUtcmVwbyIsCiAgICAibmFtZSI6ICJFbmFibGUgYSBETkYgU29mdHdhcmUgUmVwb3NpdG9yeSIsCiAgICAiZGVzY3JpcHRpb24iOiAiQ29uZmlndXJlIGEgc2VydmVyIHRvIGdldCBwYWNrYWdlcyBmcm9tIGEgcmVtb3RlIERORiByZXBvc2l0b3J5LCBhbmQgdXBkYXRlIG9yIGluc3RhbGwgYSBwYWNrYWdlIGZyb20gdGhhdCByZXBvc2l0b3J5IiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciA3IiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyNSBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiQWRkIGEgY3VzdG9tIERORiByZXBvc2l0b3J5IHdpdGggZG5mIGNvbmZpZy1tYW5hZ2VyIiwKICAgICAgIkNvbmZpZ3VyZSBHUEcgY2hlY2tpbmcgZm9yIHJlcG9zaXRvcmllcyIsCiAgICAgICJFbmFibGUgYW5kIGRpc2FibGUgcmVwb3NpdG9yaWVzIiwKICAgICAgIkNyZWF0ZSByZXBvc2l0b3J5IGNvbmZpZ3VyYXRpb24gZmlsZXMgbWFudWFsbHkiLAogICAgICAiVXBkYXRlIHBhY2thZ2VzIGZyb20gYW4gZXJyYXRhIHJlcG9zaXRvcnkiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBtYWNoaW5lIiwKICAgICAgIlJvb3QgYWNjZXNzIHZpYSBzdWRvIiwKICAgICAgIk5ldHdvcmsgYWNjZXNzIHRvIHJlcG8uZXhhbXBsZS5jb20iCiAgICBdLAogICAgInRhZ3MiOiBbImRuZiIsICJyZXBvc2l0b3J5IiwgInJlcG8iLCAiY29uZmlnLW1hbmFnZXIiLCAiZ3BnY2hlY2siLCAiZXJyYXRhIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTZXJ2ZXIgZm9yIHJlcG9zaXRvcnkgY29uZmlndXJhdGlvbiBwcmFjdGljZSIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiQ1VTVE9NX1JFUE9fRklMRSI6ICIvZXRjL3l1bS5yZXBvcy5kL3JlcG8uZXhhbXBsZS5jb21fcmhlbDEwLjBfeDg2XzY0X3JoY3NhLXByYWN0aWNlX3JodC5yZXBvIiwKICAgICAgIkVSUkFUQV9SRVBPX0ZJTEUiOiAiL2V0Yy95dW0ucmVwb3MuZC9lcnJhdGEucmVwbyIsCiAgICAgICJQQUNLQUdFIjogInJodC1zeXN0ZW0iCiAgICB9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJjdXN0b20tcmVwby1leGlzdHMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgY3VzdG9tIHJlcG9zaXRvcnkgZmlsZSBleGlzdHMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGN1c3RvbSByZXBvc2l0b3J5IGZpbGUgc2hvdWxkIGV4aXN0IGluIC9ldGMveXVtLnJlcG9zLmQvIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke0NVU1RPTV9SRVBPX0ZJTEV9IgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJDdXN0b20gcmVwb3NpdG9yeSBmaWxlIGV4aXN0cyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiQ3VzdG9tIHJlcG9zaXRvcnkgZmlsZSBub3QgZm91bmQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkFkZCByZXBvOiBkbmYgY29uZmlnLW1hbmFnZXIgLS1hZGQtcmVwbyAnaHR0cDovL3JlcG8uZXhhbXBsZS5jb20vcmhlbDEwLjAveDg2XzY0L3JoY3NhLXByYWN0aWNlL3JodCciCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJjdXN0b20tcmVwby1ncGdjaGVjayIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBjdXN0b20gcmVwb3NpdG9yeSBoYXMgZ3BnY2hlY2s9MCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJHUEcgY2hlY2tpbmcgc2hvdWxkIGJlIGRpc2FibGVkIGZvciB0aGUgY3VzdG9tIHJlcG9zaXRvcnkiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2NvbnRhaW5zIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtDVVNUT01fUkVQT19GSUxFfSIsCiAgICAgICAgICAibGl0ZXJhbCI6ICJncGdjaGVjaz0wIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJHUEcgY2hlY2tpbmcgaXMgZGlzYWJsZWQgZm9yIGN1c3RvbSByZXBvc2l0b3J5IiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJncGdjaGVjaz0wIG5vdCBmb3VuZCBpbiBjdXN0b20gcmVwb3NpdG9yeSBmaWxlIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJFZGl0IHRoZSByZXBvIGZpbGUgYW5kIGFkZDogZ3BnY2hlY2s9MCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImN1c3RvbS1yZXBvLWRpc2FibGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGN1c3RvbSByZXBvc2l0b3J5IGlzIGRpc2FibGVkIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBjdXN0b20gcGFja2FnZXMgcmVwb3NpdG9yeSBzaG91bGQgYmUgZGlzYWJsZWQiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAiZ3JlcCAtRSAnXmVuYWJsZWRcXHMqPVxccyowJyAvZXRjL3l1bS5yZXBvcy5kL3JlcG8uZXhhbXBsZS5jb21fcmhlbDEwLjBfeDg2XzY0X3JoY3NhLXByYWN0aWNlX3JodC5yZXBvIHx8IGdyZXAgLUUgJ15lbmFibGVkPTAnIC9ldGMveXVtLnJlcG9zLmQvcmVwby5leGFtcGxlLmNvbV9yaGVsMTAuMF94ODZfNjRfcmhjc2EtcHJhY3RpY2Vfcmh0LnJlcG8iLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiQ3VzdG9tIHJlcG9zaXRvcnkgaXMgZGlzYWJsZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkN1c3RvbSByZXBvc2l0b3J5IGlzIG5vdCBkaXNhYmxlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiRGlzYWJsZSByZXBvOiBkbmYgY29uZmlnLW1hbmFnZXIgLS1kaXNhYmxlIHJlcG8uZXhhbXBsZS5jb21fcmhlbDEwLjBfeDg2XzY0X3JoY3NhLXByYWN0aWNlX3JodCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImVycmF0YS1yZXBvLWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBlcnJhdGEgcmVwb3NpdG9yeSBmaWxlIGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgZXJyYXRhIHJlcG9zaXRvcnkgZmlsZSBzaG91bGQgZXhpc3QgYXQgL2V0Yy95dW0ucmVwb3MuZC9lcnJhdGEucmVwbyIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtFUlJBVEFfUkVQT19GSUxFfSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiRXJyYXRhIHJlcG9zaXRvcnkgZmlsZSBleGlzdHMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkVycmF0YSByZXBvc2l0b3J5IGZpbGUgbm90IGZvdW5kIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgL2V0Yy95dW0ucmVwb3MuZC9lcnJhdGEucmVwbyB3aXRoIFtlcnJhdGFdIHNlY3Rpb24iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJlcnJhdGEtcmVwby1iYXNldXJsIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGVycmF0YSByZXBvc2l0b3J5IGJhc2V1cmwiLAogICAgICAiZGVzY3JpcHRpb24iOiAiRXJyYXRhIHJlcG9zaXRvcnkgc2hvdWxkIGhhdmUgY29ycmVjdCBiYXNldXJsIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9jb250YWlucyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7RVJSQVRBX1JFUE9fRklMRX0iLAogICAgICAgICAgImxpdGVyYWwiOiAiYmFzZXVybD1odHRwOi8vcmVwby5leGFtcGxlLmNvbS9yaGVsMTAuMC94ODZfNjQvcmhjc2EtcHJhY3RpY2UvZXJyYXRhIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJFcnJhdGEgcmVwb3NpdG9yeSBoYXMgY29ycmVjdCBiYXNldXJsIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJFcnJhdGEgcmVwb3NpdG9yeSBiYXNldXJsIGlzIGluY29ycmVjdCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiU2V0IGJhc2V1cmw9aHR0cDovL3JlcG8uZXhhbXBsZS5jb20vcmhlbDEwLjAveDg2XzY0L3JoY3NhLXByYWN0aWNlL2VycmF0YSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImVycmF0YS1yZXBvLWVuYWJsZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgZXJyYXRhIHJlcG9zaXRvcnkgaXMgZW5hYmxlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJFcnJhdGEgcmVwb3NpdG9yeSBzaG91bGQgYmUgZW5hYmxlZCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfY29udGFpbnMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke0VSUkFUQV9SRVBPX0ZJTEV9IiwKICAgICAgICAgICJsaXRlcmFsIjogImVuYWJsZWQ9MSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiRXJyYXRhIHJlcG9zaXRvcnkgaXMgZW5hYmxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiRXJyYXRhIHJlcG9zaXRvcnkgaXMgbm90IGVuYWJsZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkFkZCBlbmFibGVkPTEgdG8gZXJyYXRhLnJlcG8iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJlcnJhdGEtcmVwby1ncGdjaGVjayIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBlcnJhdGEgcmVwb3NpdG9yeSBoYXMgZ3BnY2hlY2s9MCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJHUEcgY2hlY2tpbmcgc2hvdWxkIGJlIGRpc2FibGVkIGZvciB0aGUgZXJyYXRhIHJlcG9zaXRvcnkiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2NvbnRhaW5zIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtFUlJBVEFfUkVQT19GSUxFfSIsCiAgICAgICAgICAibGl0ZXJhbCI6ICJncGdjaGVjaz0wIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJHUEcgY2hlY2tpbmcgaXMgZGlzYWJsZWQgZm9yIGVycmF0YSByZXBvc2l0b3J5IiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJncGdjaGVjaz0wIG5vdCBmb3VuZCBpbiBlcnJhdGEgcmVwb3NpdG9yeSBmaWxlIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJBZGQgZ3BnY2hlY2s9MCB0byBlcnJhdGEucmVwbyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInJodC1zeXN0ZW0taW5zdGFsbGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHJodC1zeXN0ZW0gcGFja2FnZSBpcyBpbnN0YWxsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHJodC1zeXN0ZW0gcGFja2FnZSBzaG91bGQgYmUgaW5zdGFsbGVkIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAicGFja2FnZV9pbnN0YWxsZWQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGFja2FnZSI6ICIke1BBQ0tBR0V9IgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJyaHQtc3lzdGVtIHBhY2thZ2UgaXMgaW5zdGFsbGVkIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJyaHQtc3lzdGVtIHBhY2thZ2UgaXMgbm90IGluc3RhbGxlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiSW5zdGFsbDogZG5mIGluc3RhbGwgcmh0LXN5c3RlbSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInJodC1zeXN0ZW0tdXBkYXRlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSByaHQtc3lzdGVtIGlzIHVwZGF0ZWQgdG8gdmVyc2lvbiAxLjAuMC0yIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSByaHQtc3lzdGVtIHBhY2thZ2Ugc2hvdWxkIGJlIHVwZGF0ZWQgZnJvbSBlcnJhdGEiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAicnBtIC1xIHJodC1zeXN0ZW0gfCBncmVwIC1xICcxLjAuMC0yJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJyaHQtc3lzdGVtIGlzIHVwZGF0ZWQgdG8gdmVyc2lvbiAxLjAuMC0yIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJyaHQtc3lzdGVtIGlzIG5vdCB2ZXJzaW9uIDEuMC4wLTIgLSBydW4gZG5mIHVwZGF0ZSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiVXBkYXRlIHBhY2thZ2U6IGRuZiB1cGRhdGUgcmh0LXN5c3RlbSIsCiAgICAgICAgIk9yIHVwZGF0ZSBhbGw6IGRuZiB1cGRhdGUiCiAgICAgIF0KICAgIH0KICBdCn0KU09GVFdBUkVfUkVQT19KU09OX0VPRgoKICAgICMgQ3JlYXRlIGN1c3RvbV9sYWJzL2V4YW1wbGVzL3NvZnR3YXJlLXJwbS5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL3NvZnR3YXJlLXJwbS5qc29uIiA8PCAnU09GVFdBUkVfUlBNX0pTT05fRU9GJwp7CiAgInZlcnNpb24iOiAiMS4wIiwKICAibWV0YWRhdGEiOiB7CiAgICAic2x1ZyI6ICJzb2Z0d2FyZS1ycG0iLAogICAgIm5hbWUiOiAiSW52ZXN0aWdhdGUgYW4gUlBNIFNvZnR3YXJlIFBhY2thZ2UiLAogICAgImRlc2NyaXB0aW9uIjogIkdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCBhIHRoaXJkLXBhcnR5IHBhY2thZ2UsIGV4dHJhY3QgZmlsZXMgZm9yIGluc3BlY3Rpb24sIGFuZCBpbnN0YWxsIGl0IiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciA3IiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyMCBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiSW5zcGVjdCBSUE0gcGFja2FnZSBpbmZvcm1hdGlvbiB3aXRoIHJwbSAtcSAtcCIsCiAgICAgICJMaXN0IGZpbGVzIGluIGEgcGFja2FnZSB3aXRoIHJwbSAtcSAtcCAtbCIsCiAgICAgICJWaWV3IHBhY2thZ2Ugc2NyaXB0cyB3aXRoIHJwbSAtcSAtcCAtLXNjcmlwdHMiLAogICAgICAiRXh0cmFjdCBwYWNrYWdlIGNvbnRlbnRzIHdpdGggcnBtMmNwaW8gYW5kIGNwaW8iLAogICAgICAiSW5zdGFsbCBhIGxvY2FsIFJQTSBwYWNrYWdlIHdpdGggcnBtIC1pdmgiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBtYWNoaW5lIiwKICAgICAgInJoY3NhLXNjcmlwdC0xLjAuMC0xLm5vYXJjaC5ycG0gaW4gaG9tZSBkaXJlY3RvcnkiCiAgICBdLAogICAgInRhZ3MiOiBbInJwbSIsICJwYWNrYWdlIiwgImluc3RhbGwiLCAiY3BpbyIsICJleHRyYWN0Il0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTZXJ2ZXIgZm9yIFJQTSBwYWNrYWdlIHByYWN0aWNlIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfQogICAgXSwKICAgICJ2YXJpYWJsZXMiOiB7CiAgICAgICJSUE1fRklMRSI6ICIvaG9tZS9zdHVkZW50L3JoY3NhLXNjcmlwdC0xLjAuMC0xLm5vYXJjaC5ycG0iLAogICAgICAiUEtHX05BTUUiOiAicmhjc2Etc2NyaXB0IgogICAgfQogIH0sCiAgInRhc2tzIjogWwogICAgewogICAgICAiaWQiOiAicnBtLWZpbGUtZXhpc3RzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IFJQTSBmaWxlIGV4aXN0cyBpbiBob21lIGRpcmVjdG9yeSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgcmhjc2Etc2NyaXB0IFJQTSBmaWxlIHNob3VsZCBleGlzdCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiZmF0YWwiOiB0cnVlLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtSUE1fRklMRX0iCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIlJQTSBmaWxlIGV4aXN0cyBpbiBob21lIGRpcmVjdG9yeSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiUlBNIGZpbGUgbm90IGZvdW5kIC0gcnVuICdsYWIgc3RhcnQgc29mdHdhcmUtcnBtJyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUnVuICdsYWIgc3RhcnQgc29mdHdhcmUtcnBtJyB0byBjb3B5IHRoZSBSUE0gZmlsZSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImV4dHJhY3RlZC1maWxlcyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBleHRyYWN0ZWQgZmlsZXMgZXhpc3QiLAogICAgICAiZGVzY3JpcHRpb24iOiAiRmlsZXMgZXh0cmFjdGVkIGZyb20gUlBNIHNob3VsZCBleGlzdCBpbiB+L29wdC9yaGNzYS1zY3JpcHQvIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZGlyZWN0b3J5X2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIi9ob21lL3N0dWRlbnQvb3B0L3JoY3NhLXNjcmlwdCIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiL2hvbWUvc3R1ZGVudC9vcHQvcmhjc2Etc2NyaXB0L215bW90ZCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiRXh0cmFjdGVkIGZpbGVzIGV4aXN0IGluIH4vb3B0L3JoY3NhLXNjcmlwdC8iLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkV4dHJhY3RlZCBmaWxlcyBub3QgZm91bmQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkV4dHJhY3Qgd2l0aDogcnBtMmNwaW8gcmhjc2Etc2NyaXB0LTEuMC4wLTEubm9hcmNoLnJwbSB8IGNwaW8gLWlkdiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInBhY2thZ2UtaW5zdGFsbGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHJoY3NhLXNjcmlwdCBwYWNrYWdlIGlzIGluc3RhbGxlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgcmhjc2Etc2NyaXB0IHBhY2thZ2Ugc2hvdWxkIGJlIGluc3RhbGxlZCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogInBhY2thZ2VfaW5zdGFsbGVkIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhY2thZ2UiOiAiJHtQS0dfTkFNRX0iCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogInJoY3NhLXNjcmlwdCBwYWNrYWdlIGlzIGluc3RhbGxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAicmhjc2Etc2NyaXB0IHBhY2thZ2UgaXMgbm90IGluc3RhbGxlZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiSW5zdGFsbCB3aXRoOiBzdWRvIHJwbSAtaXZoIHJoY3NhLXNjcmlwdC0xLjAuMC0xLm5vYXJjaC5ycG0iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJteW1vdGQtaW5zdGFsbGVkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IC9vcHQvcmhjc2Etc2NyaXB0L215bW90ZCBleGlzdHMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG15bW90ZCBmaWxlIHNob3VsZCBiZSBpbnN0YWxsZWQgYnkgdGhlIHBhY2thZ2UiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIi9vcHQvcmhjc2Etc2NyaXB0L215bW90ZCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiL29wdC9yaGNzYS1zY3JpcHQvbXltb3RkIGluc3RhbGxlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiL29wdC9yaGNzYS1zY3JpcHQvbXltb3RkIG5vdCBmb3VuZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiVGhpcyBmaWxlIGlzIGNyZWF0ZWQgd2hlbiB0aGUgcGFja2FnZSBpcyBpbnN0YWxsZWQiCiAgICAgIF0KICAgIH0KICBdCn0KU09GVFdBUkVfUlBNX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvc3NoLWhvc3RrZXlzLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvc3NoLWhvc3RrZXlzLmpzb24iIDw8ICdTU0hfSE9TVEtFWVNfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogInNzaC1ob3N0a2V5cyIsCiAgICAibmFtZSI6ICJNYW5hZ2UgU1NIIEhvc3QgS2V5cyIsCiAgICAiZGVzY3JpcHRpb24iOiAiUHJlY29uZmlndXJlIGNsaWVudCBzeXN0ZW1zIHdpdGggU1NIIGhvc3Qga2V5cyBvZiB0cnVzdGVkIHNlcnZlcnMiLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDEyIiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyNSBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiVmVyaWZ5IGZpbmdlcnByaW50cyBvZiBTU0ggaG9zdCBrZXlzIGJlZm9yZSBsb2dnaW5nIGluIiwKICAgICAgIlJlZ2VuZXJhdGUgaG9zdCBrZXkgcGFpcnMgb24gU1NIIHNlcnZlcnMiLAogICAgICAiUHJlcG9wdWxhdGUgYSBzeXN0ZW0td2lkZSBrbm93biBob3N0cyBmaWxlIgogICAgXSwKICAgICJwcmVyZXF1aXNpdGVzIjogWwogICAgICAiQWNjZXNzIHRvIHNlcnZlcmEgYW5kIHNlcnZlcmIgbWFjaGluZXMiLAogICAgICAiUm9vdCBhY2Nlc3MgdmlhIHN1ZG8iLAogICAgICAib3BlcmF0b3IxIGFuZCBvcGVyYXRvcjIgdXNlcnMgZXhpc3Qgb24gc2VydmVyYSIKICAgIF0sCiAgICAidGFncyI6IFsic3NoIiwgImhvc3RrZXlzIiwgImtub3duX2hvc3RzIiwgInNzaC1rZXlnZW4iLCAic3NoLWtleXNjYW4iLCAic2VjdXJpdHkiXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7CiAgICAgICAgIm5hbWUiOiAic2VydmVyYSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlNTSCBjbGllbnQgc3lzdGVtIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfSwKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmIiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTU0ggc2VydmVyIHdpdGggcmVnZW5lcmF0ZWQgaG9zdCBrZXlzIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfQogICAgXSwKICAgICJ2YXJpYWJsZXMiOiB7CiAgICAgICJPUEVSQVRPUjEiOiAib3BlcmF0b3IxIiwKICAgICAgIk9QRVJBVE9SMiI6ICJvcGVyYXRvcjIiLAogICAgICAiU1lTVEVNX0tOT1dOX0hPU1RTIjogIi9ldGMvc3NoL3NzaF9rbm93bl9ob3N0cyIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogInNlcnZlcmItaG9zdGtleXMtZXhpc3QiLAogICAgICAibmFtZSI6ICJWZXJpZnkgU1NIIGhvc3Qga2V5cyBleGlzdCBvbiBzZXJ2ZXJiIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBzZXJ2ZXJiIG1hY2hpbmUgc2hvdWxkIGhhdmUgU1NIIGhvc3Qga2V5IHBhaXJzIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYiIsCiAgICAgICAgICAicGF0aCI6ICIvZXRjL3NzaC9zc2hfaG9zdF9lZDI1NTE5X2tleS5wdWIiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJiIiwKICAgICAgICAgICJwYXRoIjogIi9ldGMvc3NoL3NzaF9ob3N0X3JzYV9rZXkucHViIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJTU0ggaG9zdCBrZXlzIGV4aXN0IG9uIHNlcnZlcmIiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIlNTSCBob3N0IGtleXMgYXJlIG1pc3Npbmcgb24gc2VydmVyYiIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiUmVnZW5lcmF0ZSBrZXlzOiBybSAtZiAvZXRjL3NzaC9zc2hfaG9zdF8qICYmIHN5c3RlbWN0bCByZXN0YXJ0IHNzaGQiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJvcGVyYXRvcjEta25vd24taG9zdHMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BlcmF0b3IxIGhhcyBzZXJ2ZXJiIGluIGtub3duX2hvc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBvcGVyYXRvcjEgdXNlciBvbiBzZXJ2ZXJhIHNob3VsZCBoYXZlIHNlcnZlcmIgaW4gdGhlaXIga25vd25faG9zdHMgZmlsZSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJncmVwIC1xIHNlcnZlcmIgL2hvbWUvb3BlcmF0b3IxLy5zc2gva25vd25faG9zdHMgMj4vZGV2L251bGwiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAib3BlcmF0b3IxIGhhcyBzZXJ2ZXJiIGluIGtub3duX2hvc3RzIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJvcGVyYXRvcjEgZG9lcyBub3QgaGF2ZSBzZXJ2ZXJiIGluIGtub3duX2hvc3RzIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJBcyBvcGVyYXRvcjEsIFNTSCB0byBzZXJ2ZXJiIGFuZCBhY2NlcHQgdGhlIGhvc3Qga2V5IiwKICAgICAgICAiT3IgdXNlOiBzc2gta2V5c2NhbiAtdCBlZDI1NTE5IHNlcnZlcmIgPj4gfi8uc3NoL2tub3duX2hvc3RzIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAic3lzdGVtLWtub3duLWhvc3RzLWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBzeXN0ZW0td2lkZSBrbm93bl9ob3N0cyBmaWxlIGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgL2V0Yy9zc2gvc3NoX2tub3duX2hvc3RzIGZpbGUgc2hvdWxkIGV4aXN0IG9uIHNlcnZlcmEiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIi9ldGMvc3NoL3NzaF9rbm93bl9ob3N0cyIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiL2V0Yy9zc2gvc3NoX2tub3duX2hvc3RzIGV4aXN0cyBvbiBzZXJ2ZXJhIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICIvZXRjL3NzaC9zc2hfa25vd25faG9zdHMgZG9lcyBub3QgZXhpc3Qgb24gc2VydmVyYSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIGZpbGU6IHN1ZG8gc3NoLWtleXNjYW4gLXQgZWQyNTUxOSBzZXJ2ZXJiID4+IC9ldGMvc3NoL3NzaF9rbm93bl9ob3N0cyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInN5c3RlbS1rbm93bi1ob3N0cy1zZXJ2ZXJiIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHN5c3RlbS13aWRlIGtub3duX2hvc3RzIGNvbnRhaW5zIHNlcnZlcmIiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHN5c3RlbS13aWRlIGtub3duX2hvc3RzIGZpbGUgc2hvdWxkIGNvbnRhaW4gc2VydmVyYidzIGhvc3Qga2V5IiwKICAgICAgInBvaW50cyI6IDMsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogImdyZXAgLXEgJ3NlcnZlcmIuKnNzaC1lZDI1NTE5JyAvZXRjL3NzaC9zc2hfa25vd25faG9zdHMiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiU3lzdGVtLXdpZGUga25vd25faG9zdHMgY29udGFpbnMgc2VydmVyYiBFRDI1NTE5IGtleSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiU3lzdGVtLXdpZGUga25vd25faG9zdHMgZG9lcyBub3QgY29udGFpbiBzZXJ2ZXJiIGtleSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQWRkIGtleTogc3VkbyBiYXNoIC1jICdzc2gta2V5c2NhbiAtdCBlZDI1NTE5IHNlcnZlcmIgPj4gL2V0Yy9zc2gvc3NoX2tub3duX2hvc3RzJyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm9wZXJhdG9yMi1zc2gtd29ya3MiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BlcmF0b3IyIGNhbiBTU0ggdG8gc2VydmVyYiIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgb3BlcmF0b3IyIHVzZXIgc2hvdWxkIGJlIGFibGUgdG8gY29ubmVjdCB0byBzZXJ2ZXJiIHVzaW5nIHN5c3RlbS13aWRlIGtub3duX2hvc3RzIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogInN1IC0gb3BlcmF0b3IyIC1jICdzc2ggLW8gQmF0Y2hNb2RlPXllcyAtbyBTdHJpY3RIb3N0S2V5Q2hlY2tpbmc9eWVzIC1vIENvbm5lY3RUaW1lb3V0PTUgc3R1ZGVudEBzZXJ2ZXJiIGhvc3RuYW1lIDI+L2Rldi9udWxsJyB8fCBzdSAtIG9wZXJhdG9yMiAtYyAnc3NoIC1vIFN0cmljdEhvc3RLZXlDaGVja2luZz1ubyAtbyBDb25uZWN0VGltZW91dD01IHN0dWRlbnRAc2VydmVyYiBob3N0bmFtZSAyPiYxJyB8IGdyZXAgLXEgc2VydmVyYiIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJvcGVyYXRvcjIgY2FuIFNTSCB0byBzZXJ2ZXJiIChob3N0IGtleSB0cnVzdGVkKSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAib3BlcmF0b3IyIGNhbm5vdCBTU0ggdG8gc2VydmVyYiIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiRW5zdXJlIC9ldGMvc3NoL3NzaF9rbm93bl9ob3N0cyBoYXMgc2VydmVyYidzIGtleSIsCiAgICAgICAgIlRlc3Q6IHN1IC0gb3BlcmF0b3IyIC1jICdzc2ggc3R1ZGVudEBzZXJ2ZXJiIGhvc3RuYW1lJyIKICAgICAgXQogICAgfQogIF0KfQpTU0hfSE9TVEtFWVNfSlNPTl9FT0YKCiAgICAjIENyZWF0ZSBjdXN0b21fbGFicy9leGFtcGxlcy9zc2gta2V5YXV0aC5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL3NzaC1rZXlhdXRoLmpzb24iIDw8ICdTU0hfS0VZQVVUSF9KU09OX0VPRicKewogICJ2ZXJzaW9uIjogIjEuMCIsCiAgIm1ldGFkYXRhIjogewogICAgInNsdWciOiAic3NoLWtleWF1dGgiLAogICAgIm5hbWUiOiAiQ29uZmlndXJlIFNTSCBLZXktYmFzZWQgQXV0aGVudGljYXRpb24iLAogICAgImRlc2NyaXB0aW9uIjogIkVuYWJsZSBzZWN1cmUgcmVtb3RlIGFjY2VzcyBieSBjb25maWd1cmluZyBrZXktYmFzZWQgYXV0aGVudGljYXRpb24iLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDEyIiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyNSBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiR2VuZXJhdGUgYW4gU1NIIGtleSBwYWlyIHdpdGhvdXQgcGFzc3BocmFzZSBwcm90ZWN0aW9uIiwKICAgICAgIkdlbmVyYXRlIGFuIFNTSCBrZXkgcGFpciB3aXRoIHBhc3NwaHJhc2UgcHJvdGVjdGlvbiIsCiAgICAgICJDb25maWd1cmUgc3NoLWNvcHktaWQgdG8gc2VuZCBwdWJsaWMga2V5cyB0byByZW1vdGUgaG9zdHMiLAogICAgICAiVXNlIHNzaC1hZ2VudCBmb3IgcGFzc3BocmFzZSBtYW5hZ2VtZW50IgogICAgXSwKICAgICJwcmVyZXF1aXNpdGVzIjogWwogICAgICAiQWNjZXNzIHRvIHNlcnZlcmEgYW5kIHNlcnZlcmIgbWFjaGluZXMiLAogICAgICAib3BlcmF0b3IxIHVzZXIgZXhpc3RzIG9uIGJvdGggc3lzdGVtcyIKICAgIF0sCiAgICAidGFncyI6IFsic3NoIiwgInNzaC1rZXlnZW4iLCAic3NoLWNvcHktaWQiLCAic3NoLWFnZW50IiwgImtleS1iYXNlZC1hdXRoIiwgInNlY3VyaXR5Il0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTU0ggY2xpZW50IHdpdGggb3BlcmF0b3IxIHVzZXIiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9LAogICAgICB7CiAgICAgICAgIm5hbWUiOiAic2VydmVyYiIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlNTSCBzZXJ2ZXIgYWNjZXB0aW5nIGtleS1iYXNlZCBhdXRoIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfQogICAgXSwKICAgICJ2YXJpYWJsZXMiOiB7CiAgICAgICJPUEVSQVRPUl9VU0VSIjogIm9wZXJhdG9yMSIsCiAgICAgICJERUZBVUxUX0tFWSI6ICJpZF9lZDI1NTE5IiwKICAgICAgIlBST1RFQ1RFRF9LRVkiOiAicHJvdGVjdGVkLWtleSIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogImRlZmF1bHQta2V5LWV4aXN0cyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBkZWZhdWx0IFNTSCBrZXkgcGFpciBleGlzdHMgZm9yIG9wZXJhdG9yMSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgb3BlcmF0b3IxIHVzZXIgb24gc2VydmVyYSBzaG91bGQgaGF2ZSBhbiB1bnByb3RlY3RlZCBTU0gga2V5IHBhaXIiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIi9ob21lL29wZXJhdG9yMS8uc3NoL2lkX2VkMjU1MTkiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIi9ob21lL29wZXJhdG9yMS8uc3NoL2lkX2VkMjU1MTkucHViIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJEZWZhdWx0IFNTSCBrZXkgcGFpciBleGlzdHMgZm9yIG9wZXJhdG9yMSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiRGVmYXVsdCBTU0gga2V5IHBhaXIgbm90IGZvdW5kIGZvciBvcGVyYXRvcjEiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkFzIG9wZXJhdG9yMTogc3NoLWtleWdlbiAoYWNjZXB0IGRlZmF1bHRzLCBlbXB0eSBwYXNzcGhyYXNlKSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInByb3RlY3RlZC1rZXktZXhpc3RzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHBhc3NwaHJhc2UtcHJvdGVjdGVkIGtleSBwYWlyIGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgb3BlcmF0b3IxIHVzZXIgc2hvdWxkIGhhdmUgYSBwYXNzcGhyYXNlLXByb3RlY3RlZCBrZXkgbmFtZWQgcHJvdGVjdGVkLWtleSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiL2hvbWUvb3BlcmF0b3IxLy5zc2gvcHJvdGVjdGVkLWtleSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiL2hvbWUvb3BlcmF0b3IxLy5zc2gvcHJvdGVjdGVkLWtleS5wdWIiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIlByb3RlY3RlZCBrZXkgcGFpciBleGlzdHMgZm9yIG9wZXJhdG9yMSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiUHJvdGVjdGVkIGtleSBwYWlyIG5vdCBmb3VuZCBmb3Igb3BlcmF0b3IxIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJBcyBvcGVyYXRvcjE6IHNzaC1rZXlnZW4gLWYgfi8uc3NoL3Byb3RlY3RlZC1rZXkiLAogICAgICAgICJFbnRlciBhIHBhc3NwaHJhc2Ugd2hlbiBwcm9tcHRlZCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlcnZlcmItYXV0aG9yaXplZC1rZXlzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IG9wZXJhdG9yMSBvbiBzZXJ2ZXJiIGhhcyBhdXRob3JpemVkX2tleXMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG9wZXJhdG9yMSB1c2VyIG9uIHNlcnZlcmIgc2hvdWxkIGhhdmUgYW4gYXV0aG9yaXplZF9rZXlzIGZpbGUiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJiIiwKICAgICAgICAgICJwYXRoIjogIi9ob21lL29wZXJhdG9yMS8uc3NoL2F1dGhvcml6ZWRfa2V5cyIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiYXV0aG9yaXplZF9rZXlzIGZpbGUgZXhpc3RzIG9uIHNlcnZlcmIiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImF1dGhvcml6ZWRfa2V5cyBmaWxlIG5vdCBmb3VuZCBvbiBzZXJ2ZXJiIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJGcm9tIHNlcnZlcmEgYXMgb3BlcmF0b3IxOiBzc2gtY29weS1pZCBvcGVyYXRvcjFAc2VydmVyYiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImRlZmF1bHQta2V5LWF1dGhvcml6ZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgZGVmYXVsdCBwdWJsaWMga2V5IGlzIGluIGF1dGhvcml6ZWRfa2V5cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgZGVmYXVsdCBwdWJsaWMga2V5IHNob3VsZCBiZSBhdXRob3JpemVkIG9uIHNlcnZlcmIiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmIiLAogICAgICAgICAgImNvbW1hbmQiOiAiZ3JlcCAtcSAnb3BlcmF0b3IxQHNlcnZlcmEnIC9ob21lL29wZXJhdG9yMS8uc3NoL2F1dGhvcml6ZWRfa2V5cyAyPi9kZXYvbnVsbCB8fCBncmVwIC1jICdzc2gtZWQyNTUxOScgL2hvbWUvb3BlcmF0b3IxLy5zc2gvYXV0aG9yaXplZF9rZXlzIHwgZ3JlcCAtcSAnWzEtOV0nIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkRlZmF1bHQgcHVibGljIGtleSBpcyBhdXRob3JpemVkIG9uIHNlcnZlcmIiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkRlZmF1bHQgcHVibGljIGtleSBub3QgZm91bmQgaW4gYXV0aG9yaXplZF9rZXlzIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJGcm9tIHNlcnZlcmEgYXMgb3BlcmF0b3IxOiBzc2gtY29weS1pZCBvcGVyYXRvcjFAc2VydmVyYiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNzaC1rZXktYXV0aC13b3JrcyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBTU0gga2V5IGF1dGhlbnRpY2F0aW9uIHdvcmtzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIm9wZXJhdG9yMSBzaG91bGQgYmUgYWJsZSB0byBTU0ggZnJvbSBzZXJ2ZXJhIHRvIHNlcnZlcmIgdXNpbmcga2V5LWJhc2VkIGF1dGgiLAogICAgICAicG9pbnRzIjogMywKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIsCiAgICAgICAgICAiY29tbWFuZCI6ICJzdSAtIG9wZXJhdG9yMSAtYyAnc3NoIC1vIEJhdGNoTW9kZT15ZXMgLW8gU3RyaWN0SG9zdEtleUNoZWNraW5nPW5vIC1vIENvbm5lY3RUaW1lb3V0PTUgb3BlcmF0b3IxQHNlcnZlcmIgaG9zdG5hbWUnIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSBzZXJ2ZXJiIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIlNTSCBrZXktYmFzZWQgYXV0aGVudGljYXRpb24gd29ya3MiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIlNTSCBrZXktYmFzZWQgYXV0aGVudGljYXRpb24gZmFpbGVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJFbnN1cmUgcHVibGljIGtleSBpcyBjb3BpZWQ6IHNzaC1jb3B5LWlkIG9wZXJhdG9yMUBzZXJ2ZXJiIiwKICAgICAgICAiVGVzdDogc3NoIG9wZXJhdG9yMUBzZXJ2ZXJiIGhvc3RuYW1lIgogICAgICBdCiAgICB9CiAgXQp9ClNTSF9LRVlBVVRIX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvdXNlci1tYW5hZ2VtZW50Lmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvdXNlci1tYW5hZ2VtZW50Lmpzb24iIDw8ICdVU0VSX01BTkFHRU1FTlRfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogInVzZXItbWFuYWdlbWVudCIsCiAgICAibmFtZSI6ICJMaW51eCBVc2VyIGFuZCBHcm91cCBNYW5hZ2VtZW50IiwKICAgICJkZXNjcmlwdGlvbiI6ICJDcmVhdGUgdXNlcnMsIGdyb3VwcywgYW5kIGNvbmZpZ3VyZSBwZXJtaXNzaW9ucyIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgNiIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMjUgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIkNyZWF0ZSBzeXN0ZW0gZ3JvdXBzIiwKICAgICAgIkNyZWF0ZSB1c2VyIGFjY291bnRzIHdpdGggc3BlY2lmaWMgcHJvcGVydGllcyIsCiAgICAgICJDb25maWd1cmUgZ3JvdXAgbWVtYmVyc2hpcHMiLAogICAgICAiU2V0IHVwIHNoYXJlZCBkaXJlY3RvcmllcyB3aXRoIHByb3BlciBwZXJtaXNzaW9ucyIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIlVuZGVyc3RhbmRpbmcgb2YgTGludXggdXNlcnMgYW5kIGdyb3VwcyIsCiAgICAgICJCYXNpYyBwZXJtaXNzaW9uIGNvbmNlcHRzIgogICAgXSwKICAgICJ0YWdzIjogWyJ1c2VycyIsICJncm91cHMiLCAicGVybWlzc2lvbnMiLCAic2VjdXJpdHkiXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7CiAgICAgICAgIm5hbWUiOiAic2VydmVyYSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlNlcnZlciBmb3IgdXNlciBtYW5hZ2VtZW50IHByYWN0aWNlIiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIKICAgICAgfQogICAgXSwKICAgICJ2YXJpYWJsZXMiOiB7CiAgICAgICJQUk9KRUNUX0RJUiI6ICIvb3B0L3Byb2plY3QiLAogICAgICAiR1JPVVBfTkFNRSI6ICJkZXZlbG9wZXJzIgogICAgfQogIH0sCiAgInRhc2tzIjogWwogICAgewogICAgICAiaWQiOiAiY3JlYXRlLWdyb3VwIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5ICdkZXZlbG9wZXJzJyBncm91cCBleGlzdHMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiQ3JlYXRlIGEgZ3JvdXAgbmFtZWQgJ2RldmVsb3BlcnMnIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJmYXRhbCI6IHRydWUsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZ3JvdXBfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImdyb3VwIjogImRldmVsb3BlcnMiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkdyb3VwICdkZXZlbG9wZXJzJyBleGlzdHMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkdyb3VwICdkZXZlbG9wZXJzJyBkb2VzIG5vdCBleGlzdCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiVXNlICdzdWRvIGdyb3VwYWRkIGRldmVsb3BlcnMnIHRvIGNyZWF0ZSB0aGUgZ3JvdXAiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJjcmVhdGUtdXNlci1hbGljZSIsCiAgICAgICJuYW1lIjogIlZlcmlmeSB1c2VyICdhbGljZScgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkNyZWF0ZSB1c2VyIGFsaWNlIHdpdGggcHJvcGVyIGNvbmZpZ3VyYXRpb24iLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJ1c2VyX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VybmFtZSI6ICJhbGljZSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogInVzZXJfaW5fZ3JvdXAiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlcm5hbWUiOiAiYWxpY2UiLAogICAgICAgICAgImdyb3VwIjogImRldmVsb3BlcnMiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIlVzZXIgJ2FsaWNlJyBjb25maWd1cmVkIGNvcnJlY3RseSIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiVXNlciAnYWxpY2UnIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIHVzZXI6IHN1ZG8gdXNlcmFkZCBhbGljZSIsCiAgICAgICAgIkFkZCB0byBncm91cDogc3VkbyB1c2VybW9kIC1hRyBkZXZlbG9wZXJzIGFsaWNlIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiY3JlYXRlLXVzZXItYm9iIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHVzZXIgJ2JvYicgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIkNyZWF0ZSB1c2VyIGJvYiB3aXRoIHByb3BlciBjb25maWd1cmF0aW9uIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAidXNlcl9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlcm5hbWUiOiAiYm9iIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAidXNlcl9pbl9ncm91cCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VybmFtZSI6ICJib2IiLAogICAgICAgICAgImdyb3VwIjogImRldmVsb3BlcnMiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIlVzZXIgJ2JvYicgY29uZmlndXJlZCBjb3JyZWN0bHkiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIlVzZXIgJ2JvYicgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgdXNlcjogc3VkbyB1c2VyYWRkIGJvYiIsCiAgICAgICAgIkFkZCB0byBncm91cDogc3VkbyB1c2VybW9kIC1hRyBkZXZlbG9wZXJzIGJvYiIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInByb2plY3QtZGlyZWN0b3J5IiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IHByb2plY3QgZGlyZWN0b3J5IGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJDcmVhdGUgdGhlIHNoYXJlZCBwcm9qZWN0IGRpcmVjdG9yeSIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImRpcmVjdG9yeV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1BST0pFQ1RfRElSfSIsCiAgICAgICAgICAidXNlciI6ICJyb290IgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJQcm9qZWN0IGRpcmVjdG9yeSBleGlzdHMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIlByb2plY3QgZGlyZWN0b3J5IGRvZXMgbm90IGV4aXN0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVc2UgJ3N1ZG8gbWtkaXIgLXAgL29wdC9wcm9qZWN0JyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImRpcmVjdG9yeS1vd25lcnNoaXAiLAogICAgICAibmFtZSI6ICJWZXJpZnkgcHJvamVjdCBkaXJlY3Rvcnkgb3duZXJzaGlwIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlNldCBjb3JyZWN0IG93bmVyc2hpcCBvbiBwcm9qZWN0IGRpcmVjdG9yeSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfb3duZXIiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1BST0pFQ1RfRElSfSIsCiAgICAgICAgICAib3duZXIiOiAicm9vdCIsCiAgICAgICAgICAiZ3JvdXAiOiAiZGV2ZWxvcGVycyIsCiAgICAgICAgICAidXNlciI6ICJyb290IgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJEaXJlY3Rvcnkgb3duZXJzaGlwIGlzIGNvcnJlY3QiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkRpcmVjdG9yeSBvd25lcnNoaXAgaXMgaW5jb3JyZWN0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVc2UgJ3N1ZG8gY2hvd24gcm9vdDpkZXZlbG9wZXJzIC9vcHQvcHJvamVjdCciCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJkaXJlY3RvcnktcGVybWlzc2lvbnMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgcHJvamVjdCBkaXJlY3RvcnkgcGVybWlzc2lvbnMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiU2V0IHBlcm1pc3Npb25zIHRvIGFsbG93IGdyb3VwIHJlYWQvd3JpdGUgd2l0aCBzZXRnaWQiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX21vZGUiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIke1BST0pFQ1RfRElSfSIsCiAgICAgICAgICAibW9kZSI6ICIyNzcwIiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkRpcmVjdG9yeSBwZXJtaXNzaW9ucyBhcmUgY29ycmVjdCAoMjc3MCkiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkRpcmVjdG9yeSBwZXJtaXNzaW9ucyBhcmUgaW5jb3JyZWN0IiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVc2UgJ3N1ZG8gY2htb2QgMjc3MCAvb3B0L3Byb2plY3QnIiwKICAgICAgICAiVGhlIDIgZW5hYmxlcyBzZXRnaWQgc28gbmV3IGZpbGVzIGluaGVyaXQgdGhlIGdyb3VwIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAidGVzdC1maWxlIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGdyb3VwIG1lbWJlcnMgY2FuIGNyZWF0ZSBmaWxlcyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJGaWxlcyBjcmVhdGVkIGluIHRoZSBkaXJlY3Rvcnkgc2hvdWxkIGJlIGdyb3VwLXdyaXRhYmxlIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiLAogICAgICAgICAgImNvbW1hbmQiOiAic3UgLSBhbGljZSAtYyAndG91Y2ggL29wdC9wcm9qZWN0L3Rlc3QtYWxpY2UudHh0JyAmJiB0ZXN0IC1mIC9vcHQvcHJvamVjdC90ZXN0LWFsaWNlLnR4dCIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJHcm91cCBtZW1iZXJzIGNhbiBjcmVhdGUgZmlsZXMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIkdyb3VwIG1lbWJlcnMgY2Fubm90IGNyZWF0ZSBmaWxlcyBpbiB0aGUgZGlyZWN0b3J5IgogICAgfQogIF0sCiAgImNsZWFudXAiOiB7CiAgICAiZW5hYmxlZCI6IGZhbHNlLAogICAgImNvbW1hbmRzIjogWwogICAgICB7CiAgICAgICAgImNvbW1hbmQiOiAicm0gLWYgL29wdC9wcm9qZWN0L3Rlc3QtKi50eHQiLAogICAgICAgICJpZ25vcmVfZXJyb3JzIjogdHJ1ZQogICAgICB9CiAgICBdCiAgfQp9ClVTRVJfTUFOQUdFTUVOVF9KU09OX0VPRgoKICAgICMgQ3JlYXRlIGN1c3RvbV9sYWJzL2V4YW1wbGVzL3VzZXJzLWdyb3VwLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvdXNlcnMtZ3JvdXAuanNvbiIgPDwgJ1VTRVJTX0dST1VQX0pTT05fRU9GJwp7CiAgInZlcnNpb24iOiAiMS4wIiwKICAibWV0YWRhdGEiOiB7CiAgICAic2x1ZyI6ICJ1c2Vycy1ncm91cCIsCiAgICAibmFtZSI6ICJNYW5hZ2UgTG9jYWwgR3JvdXAgQWNjb3VudHMiLAogICAgImRlc2NyaXB0aW9uIjogIkNyZWF0ZSwgbW9kaWZ5LCBhbmQgZGVsZXRlIGxvY2FsIGdyb3VwIGFjY291bnRzIiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciA1IiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyMCBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiQ3JlYXRlIHN1cHBsZW1lbnRhcnkgZ3JvdXBzIHdpdGggZ3JvdXBhZGQiLAogICAgICAiQWRkIHVzZXJzIHRvIGdyb3VwcyB3aXRoIHVzZXJtb2QgLWFHIiwKICAgICAgIkNvbmZpZ3VyZSBTdWRvIGFjY2VzcyBmb3IgYSBncm91cCIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIkFjY2VzcyB0byBzZXJ2ZXJhIG1hY2hpbmUiLAogICAgICAib3BlcmF0b3IxLCBvcGVyYXRvcjIsIG9wZXJhdG9yMyB1c2VycyBleGlzdCIsCiAgICAgICJzeXNhZG1pbjEsIHN5c2FkbWluMiwgc3lzYWRtaW4zIHVzZXJzIGV4aXN0IgogICAgXSwKICAgICJ0YWdzIjogWyJncm91cHMiLCAiZ3JvdXBhZGQiLCAidXNlcm1vZCIsICJzdWRvIiwgInN1cHBsZW1lbnRhcnkiXQogIH0sCiAgImVudmlyb25tZW50IjogewogICAgImhvc3RzIjogWwogICAgICB7CiAgICAgICAgIm5hbWUiOiAic2VydmVyYSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlNlcnZlciBmb3IgZ3JvdXAgbWFuYWdlbWVudCBwcmFjdGljZSIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiT1BFUkFUT1JTX0dJRCI6ICIzMDAwMCIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogIm9wZXJhdG9ycy1ncm91cCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBvcGVyYXRvcnMgZ3JvdXAgZXhpc3RzIHdpdGggR0lEIDMwMDAwIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBvcGVyYXRvcnMgZ3JvdXAgc2hvdWxkIGV4aXN0IHdpdGggR0lEIDMwMDAwIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZ3JvdXBfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImdyb3VwIjogIm9wZXJhdG9ycyIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAiY29tbWFuZCI6ICJnZXRlbnQgZ3JvdXAgb3BlcmF0b3JzIHwgZ3JlcCAtcSAnOjMwMDAwOiciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAib3BlcmF0b3JzIGdyb3VwIGV4aXN0cyB3aXRoIEdJRCAzMDAwMCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAib3BlcmF0b3JzIGdyb3VwIG1pc3Npbmcgb3IgaGFzIHdyb25nIEdJRCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIGdyb3VwOiBzdWRvIGdyb3VwYWRkIC1nIDMwMDAwIG9wZXJhdG9ycyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImFkbWluLWdyb3VwIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGFkbWluIGdyb3VwIGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgYWRtaW4gZ3JvdXAgc2hvdWxkIGV4aXN0IiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZ3JvdXBfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImdyb3VwIjogImFkbWluIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJhZG1pbiBncm91cCBleGlzdHMiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogImFkbWluIGdyb3VwIG5vdCBmb3VuZCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIGdyb3VwOiBzdWRvIGdyb3VwYWRkIGFkbWluIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAib3BlcmF0b3JzLW1lbWJlcnMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BlcmF0b3IgdXNlcnMgYXJlIGluIG9wZXJhdG9ycyBncm91cCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJvcGVyYXRvcjEsIG9wZXJhdG9yMiwgb3BlcmF0b3IzIHNob3VsZCBiZSBtZW1iZXJzIG9mIG9wZXJhdG9ycyBncm91cCIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogInVzZXJfaW5fZ3JvdXAiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlcm5hbWUiOiAib3BlcmF0b3IxIiwKICAgICAgICAgICJncm91cCI6ICJvcGVyYXRvcnMiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJ1c2VyX2luX2dyb3VwIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXJuYW1lIjogIm9wZXJhdG9yMiIsCiAgICAgICAgICAiZ3JvdXAiOiAib3BlcmF0b3JzIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAidXNlcl9pbl9ncm91cCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VybmFtZSI6ICJvcGVyYXRvcjMiLAogICAgICAgICAgImdyb3VwIjogIm9wZXJhdG9ycyIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiQWxsIG9wZXJhdG9yIHVzZXJzIGFyZSBpbiBvcGVyYXRvcnMgZ3JvdXAiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIk9uZSBvciBtb3JlIG9wZXJhdG9yIHVzZXJzIG5vdCBpbiBvcGVyYXRvcnMgZ3JvdXAiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkFkZCB0byBncm91cDogc3VkbyB1c2VybW9kIC1hRyBvcGVyYXRvcnMgb3BlcmF0b3IxIiwKICAgICAgICAiUmVwZWF0IGZvciBvcGVyYXRvcjIgYW5kIG9wZXJhdG9yMyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogImFkbWluLW1lbWJlcnMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc3lzYWRtaW4gdXNlcnMgYXJlIGluIGFkbWluIGdyb3VwIiwKICAgICAgImRlc2NyaXB0aW9uIjogInN5c2FkbWluMSwgc3lzYWRtaW4yLCBzeXNhZG1pbjMgc2hvdWxkIGJlIG1lbWJlcnMgb2YgYWRtaW4gZ3JvdXAiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJ1c2VyX2luX2dyb3VwIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXJuYW1lIjogInN5c2FkbWluMSIsCiAgICAgICAgICAiZ3JvdXAiOiAiYWRtaW4iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJ1c2VyX2luX2dyb3VwIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXJuYW1lIjogInN5c2FkbWluMiIsCiAgICAgICAgICAiZ3JvdXAiOiAiYWRtaW4iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJ1c2VyX2luX2dyb3VwIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXJuYW1lIjogInN5c2FkbWluMyIsCiAgICAgICAgICAiZ3JvdXAiOiAiYWRtaW4iCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkFsbCBzeXNhZG1pbiB1c2VycyBhcmUgaW4gYWRtaW4gZ3JvdXAiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIk9uZSBvciBtb3JlIHN5c2FkbWluIHVzZXJzIG5vdCBpbiBhZG1pbiBncm91cCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQWRkIHRvIGdyb3VwOiBzdWRvIHVzZXJtb2QgLWFHIGFkbWluIHN5c2FkbWluMSIsCiAgICAgICAgIlJlcGVhdCBmb3Igc3lzYWRtaW4yIGFuZCBzeXNhZG1pbjMiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJhZG1pbi1zdWRvZXJzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGFkbWluIGdyb3VwIGhhcyBzdWRvIHByaXZpbGVnZXMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiL2V0Yy9zdWRvZXJzLmQvYWRtaW4gc2hvdWxkIGdyYW50IHN1ZG8gdG8gJWFkbWluIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiZmlsZV9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicGF0aCI6ICIvZXRjL3N1ZG9lcnMuZC9hZG1pbiIsCiAgICAgICAgICAidXNlciI6ICJyb290IgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiLAogICAgICAgICAgImNvbW1hbmQiOiAiZ3JlcCAtcSAnJWFkbWluLipBTEw9KEFMTCkuKkFMTCcgL2V0Yy9zdWRvZXJzLmQvYWRtaW4iLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiYWRtaW4gZ3JvdXAgaGFzIGZ1bGwgc3VkbyBwcml2aWxlZ2VzIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJhZG1pbiBzdWRvZXJzIGNvbmZpZ3VyYXRpb24gbWlzc2luZyBvciBpbmNvcnJlY3QiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNyZWF0ZSBmaWxlOiBlY2hvICclYWRtaW4gQUxMPShBTEwpIEFMTCcgfCBzdWRvIHRlZSAvZXRjL3N1ZG9lcnMuZC9hZG1pbiIsCiAgICAgICAgIlNldCBwZXJtaXNzaW9uczogc3VkbyBjaG1vZCAwNDQwIC9ldGMvc3Vkb2Vycy5kL2FkbWluIgogICAgICBdCiAgICB9CiAgXQp9ClVTRVJTX0dST1VQX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvdXNlcnMtcGFzc3dvcmQuanNvbgogICAgY2F0ID4gIiRJTlNUQUxMX0RJUi9jdXN0b21fbGFicy9leGFtcGxlcy91c2Vycy1wYXNzd29yZC5qc29uIiA8PCAnVVNFUlNfUEFTU1dPUkRfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogInVzZXJzLXBhc3N3b3JkIiwKICAgICJuYW1lIjogIk1hbmFnZSBVc2VyIFBhc3N3b3JkcyIsCiAgICAiZGVzY3JpcHRpb24iOiAiU2V0IHBhc3N3b3JkIG1hbmFnZW1lbnQgcG9saWN5IGZvciB1c2VycywgYW5kIG1hbnVhbGx5IGxvY2sgYW5kIHVubG9jayB1c2VyIGFjY291bnRzIiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciA1IiwKICAgICJlc3RpbWF0ZWRfdGltZSI6ICIyMCBtaW51dGVzIiwKICAgICJvYmplY3RpdmVzIjogWwogICAgICAiTG9jayBhbmQgdW5sb2NrIHVzZXIgYWNjb3VudHMgd2l0aCB1c2VybW9kIC1MLy1VIiwKICAgICAgIkZvcmNlIHBhc3N3b3JkIGNoYW5nZSBvbiBmaXJzdCBsb2dpbiB3aXRoIGNoYWdlIC1kIDAiLAogICAgICAiU2V0IHBhc3N3b3JkIGV4cGlyYXRpb24gd2l0aCBjaGFnZSAtTSIsCiAgICAgICJTZXQgYWNjb3VudCBleHBpcmF0aW9uIHdpdGggY2hhZ2UgLUUiLAogICAgICAiQ29uZmlndXJlIGRlZmF1bHQgcGFzc3dvcmQgYWdpbmcgaW4gL2V0Yy9sb2dpbi5kZWZzIgogICAgXSwKICAgICJwcmVyZXF1aXNpdGVzIjogWwogICAgICAiQWNjZXNzIHRvIHNlcnZlcmEgbWFjaGluZSIsCiAgICAgICJvcGVyYXRvcjEgdXNlciBleGlzdHMiCiAgICBdLAogICAgInRhZ3MiOiBbInBhc3N3b3JkIiwgImNoYWdlIiwgInVzZXJtb2QiLCAibG9jayIsICJleHBpcmF0aW9uIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTZXJ2ZXIgZm9yIHBhc3N3b3JkIG1hbmFnZW1lbnQgcHJhY3RpY2UiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHt9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJvcGVyYXRvcjEtdW5sb2NrZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BlcmF0b3IxIGFjY291bnQgaXMgdW5sb2NrZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAib3BlcmF0b3IxIHNob3VsZCBiZSBhYmxlIHRvIGxvZyBpbiAobm90IGxvY2tlZCkiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIsCiAgICAgICAgICAiY29tbWFuZCI6ICJwYXNzd2QgLVMgb3BlcmF0b3IxIHwgZ3JlcCAtdiAnIEwgJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJvcGVyYXRvcjEgYWNjb3VudCBpcyB1bmxvY2tlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAib3BlcmF0b3IxIGFjY291bnQgaXMgc3RpbGwgbG9ja2VkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVbmxvY2sgYWNjb3VudDogc3VkbyB1c2VybW9kIC1VIG9wZXJhdG9yMSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInBhc3N3b3JkLW1heC1hZ2UiLAogICAgICAibmFtZSI6ICJWZXJpZnkgcGFzc3dvcmQgZXhwaXJlcyBldmVyeSA5MCBkYXlzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIm9wZXJhdG9yMSBtYXggcGFzc3dvcmQgYWdlIHNob3VsZCBiZSA5MCBkYXlzIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiLAogICAgICAgICAgImNvbW1hbmQiOiAiY2hhZ2UgLWwgb3BlcmF0b3IxIHwgZ3JlcCAnTWF4aW11bSBudW1iZXIgb2YgZGF5cycgfCBncmVwIC1xICc5MCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiUGFzc3dvcmQgbWF4IGFnZSBzZXQgdG8gOTAgZGF5cyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiUGFzc3dvcmQgbWF4IGFnZSBpcyBub3QgOTAgZGF5cyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiU2V0IG1heCBhZ2U6IHN1ZG8gY2hhZ2UgLU0gOTAgb3BlcmF0b3IxIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiYWNjb3VudC1leHBpcnkiLAogICAgICAibmFtZSI6ICJWZXJpZnkgYWNjb3VudCBoYXMgZXhwaXJhdGlvbiBkYXRlIiwKICAgICAgImRlc2NyaXB0aW9uIjogIm9wZXJhdG9yMSBhY2NvdW50IHNob3VsZCBoYXZlIGFuIGV4cGlyYXRpb24gZGF0ZSBzZXQgKG5vdCAnbmV2ZXInKSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlciI6ICJyb290IiwKICAgICAgICAgICJjb21tYW5kIjogImNoYWdlIC1sIG9wZXJhdG9yMSB8IGdyZXAgJ0FjY291bnQgZXhwaXJlcycgfCBncmVwIC12ICduZXZlciciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiQWNjb3VudCBleHBpcmF0aW9uIGRhdGUgaXMgc2V0IiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJBY2NvdW50IGV4cGlyYXRpb24gaXMgc2V0IHRvICduZXZlciciLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkdldCBkYXRlIDE4MCBkYXlzIGZyb20gbm93OiBkYXRlIC1kICcrMTgwIGRheXMnICslRiIsCiAgICAgICAgIlNldCBleHBpcnk6IHN1ZG8gY2hhZ2UgLUUgWVlZWS1NTS1ERCBvcGVyYXRvcjEiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJsb2dpbi1kZWZzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IFBBU1NfTUFYX0RBWVMgc2V0IHRvIDE4MCBpbiBsb2dpbi5kZWZzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIi9ldGMvbG9naW4uZGVmcyBzaG91bGQgaGF2ZSBQQVNTX01BWF9EQVlTIDE4MCBmb3IgbmV3IHVzZXJzIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogImdyZXAgLUUgJ15QQVNTX01BWF9EQVlTW1s6c3BhY2U6XV0rMTgwJyAvZXRjL2xvZ2luLmRlZnMiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiUEFTU19NQVhfREFZUyBzZXQgdG8gMTgwIGluIC9ldGMvbG9naW4uZGVmcyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiUEFTU19NQVhfREFZUyBub3Qgc2V0IHRvIDE4MCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiRWRpdCAvZXRjL2xvZ2luLmRlZnMgd2l0aDogc3VkbyB2aW0gL2V0Yy9sb2dpbi5kZWZzIiwKICAgICAgICAiQ2hhbmdlIFBBU1NfTUFYX0RBWVMgdG8gMTgwIgogICAgICBdCiAgICB9CiAgXQp9ClVTRVJTX1BBU1NXT1JEX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvdXNlcnMtc3VwZXJ1c2VyLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvdXNlcnMtc3VwZXJ1c2VyLmpzb24iIDw8ICdVU0VSU19TVVBFUlVTRVJfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogInVzZXJzLXN1cGVydXNlciIsCiAgICAibmFtZSI6ICJHYWluIFN1cGVydXNlciBBY2Nlc3MiLAogICAgImRlc2NyaXB0aW9uIjogIlN3aXRjaCB0byB0aGUgc3VwZXJ1c2VyIGFjY291bnQgYW5kIGdyYW50IG90aGVyIHVzZXJzIHN1cGVydXNlciBhY2Nlc3MgdXNpbmcgU3VkbyIsCiAgICAiY291cnNlIjogInJoMTI0IiwKICAgICJjaGFwdGVyIjogIkNoYXB0ZXIgNSIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMjAgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIlVzZSBTdWRvIHRvIHN3aXRjaCB0byB0aGUgcm9vdCB1c2VyIiwKICAgICAgIkFjY2VzcyBpbnRlcmFjdGl2ZSBzaGVsbCBhcyByb290IHdpdGhvdXQga25vd2luZyByb290IHBhc3N3b3JkIiwKICAgICAgIlZlcmlmeSBiZWhhdmlvciBvZiBzdSBjb21tYW5kIHdpdGggYW5kIHdpdGhvdXQgbG9naW4gc2hlbGwiLAogICAgICAiVXNlIFN1ZG8gcHJpdmlsZWdlcyBhcyBhIHJlZ3VsYXIgdXNlciB0byBtYW5hZ2UgcmVzdHJpY3RlZCBmaWxlcyIKICAgIF0sCiAgICAicHJlcmVxdWlzaXRlcyI6IFsKICAgICAgIkFjY2VzcyB0byBzZXJ2ZXJhIG1hY2hpbmUiLAogICAgICAib3BlcmF0b3IxIHVzZXIgYWNjb3VudCIKICAgIF0sCiAgICAidGFncyI6IFsic3VkbyIsICJzdSIsICJyb290IiwgInN1cGVydXNlciIsICJwcml2aWxlZ2VzIl0KICB9LAogICJlbnZpcm9ubWVudCI6IHsKICAgICJob3N0cyI6IFsKICAgICAgewogICAgICAgICJuYW1lIjogInNlcnZlcmEiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJTZXJ2ZXIgZm9yIHN1cGVydXNlciBwcmFjdGljZSIsCiAgICAgICAgInNzaF91c2VyIjogInN0dWRlbnQiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiU1VET0VSU19GSUxFIjogIi9ldGMvc3Vkb2Vycy5kL29wZXJhdG9yMSIKICAgIH0KICB9LAogICJ0YXNrcyI6IFsKICAgIHsKICAgICAgImlkIjogInN0dWRlbnQtaW4td2hlZWwiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc3R1ZGVudCB1c2VyIGlzIGluIHdoZWVsIGdyb3VwIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBzdHVkZW50IHVzZXIgbXVzdCBiZSBpbiB0aGUgd2hlZWwgZ3JvdXAgZm9yIHN1ZG8gYWNjZXNzIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJmYXRhbCI6IHRydWUsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAidXNlcl9pbl9ncm91cCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VybmFtZSI6ICJzdHVkZW50IiwKICAgICAgICAgICJncm91cCI6ICJ3aGVlbCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAic3R1ZGVudCB1c2VyIGlzIGluIHdoZWVsIGdyb3VwIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJzdHVkZW50IHVzZXIgaXMgbm90IGluIHdoZWVsIGdyb3VwIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJBZGQgdG8gd2hlZWwgZ3JvdXA6IHN1ZG8gdXNlcm1vZCAtYUcgd2hlZWwgc3R1ZGVudCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm9wZXJhdG9yMS1leGlzdHMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BlcmF0b3IxIHVzZXIgZXhpc3RzIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBvcGVyYXRvcjEgdXNlciBhY2NvdW50IG11c3QgZXhpc3QiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJ1c2VyX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VybmFtZSI6ICJvcGVyYXRvcjEiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIm9wZXJhdG9yMSB1c2VyIGV4aXN0cyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAib3BlcmF0b3IxIHVzZXIgbm90IGZvdW5kIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgdXNlcjogc3VkbyB1c2VyYWRkIG9wZXJhdG9yMSIsCiAgICAgICAgIlNldCBwYXNzd29yZDogc3VkbyBwYXNzd2Qgb3BlcmF0b3IxIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAib3BlcmF0b3IxLXN1ZG9lcnMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BlcmF0b3IxIHN1ZG9lcnMgY29uZmlndXJhdGlvbiIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJvcGVyYXRvcjEgbXVzdCBoYXZlIHN1ZG8gcHJpdmlsZWdlcyBkZWZpbmVkIGluIC9ldGMvc3Vkb2Vycy5kL29wZXJhdG9yMSIsCiAgICAgICJwb2ludHMiOiAyLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpbGVfZXhpc3RzIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtTVURPRVJTX0ZJTEV9IiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIsCiAgICAgICAgICAiY29tbWFuZCI6ICJncmVwIC1xICdvcGVyYXRvcjEuKkFMTD0oQUxMKS4qQUxMJyAvZXRjL3N1ZG9lcnMuZC9vcGVyYXRvcjEiLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAib3BlcmF0b3IxIGhhcyBmdWxsIHN1ZG8gcHJpdmlsZWdlcyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAib3BlcmF0b3IxIHN1ZG9lcnMgY29uZmlndXJhdGlvbiBtaXNzaW5nIG9yIGluY29ycmVjdCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIGZpbGU6IHN1ZG8gdmlzdWRvIC1mIC9ldGMvc3Vkb2Vycy5kL29wZXJhdG9yMSIsCiAgICAgICAgIkFkZCBsaW5lOiBvcGVyYXRvcjEgQUxMPShBTEwpIEFMTCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInN1ZG9lcnMtcGVybWlzc2lvbnMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgc3Vkb2VycyBmaWxlIGhhcyBjb3JyZWN0IHBlcm1pc3Npb25zIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBzdWRvZXJzIGZpbGUgbXVzdCBoYXZlIG1vZGUgMDQ0MCBvciAwNDAwIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VyIjogInJvb3QiLAogICAgICAgICAgImNvbW1hbmQiOiAic3RhdCAtYyAnJWEnIC9ldGMvc3Vkb2Vycy5kL29wZXJhdG9yMSB8IGdyZXAgLXFFICdeNFswNF0wJCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAic3Vkb2VycyBmaWxlIGhhcyBjb3JyZWN0IHBlcm1pc3Npb25zIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJzdWRvZXJzIGZpbGUgcGVybWlzc2lvbnMgaW5jb3JyZWN0IChzaG91bGQgYmUgMDQ0MCBvciAwNDAwKSIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiRml4IHBlcm1pc3Npb25zOiBzdWRvIGNobW9kIDA0NDAgL2V0Yy9zdWRvZXJzLmQvb3BlcmF0b3IxIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAib3BlcmF0b3IxLWNhbi1zdWRvIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IG9wZXJhdG9yMSBjYW4gdXNlIHN1ZG8iLAogICAgICAiZGVzY3JpcHRpb24iOiAib3BlcmF0b3IxIHNob3VsZCBiZSBhYmxlIHRvIHJ1biBjb21tYW5kcyB3aXRoIHN1ZG8iLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInVzZXIiOiAicm9vdCIsCiAgICAgICAgICAiY29tbWFuZCI6ICJzdWRvIC1sbCAtVSBvcGVyYXRvcjEgMj4mMSB8IGdyZXAgLXEgJ0FMTCciLAogICAgICAgICAgImV4cGVjdGVkX2V4aXRfY29kZSI6IDAKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAib3BlcmF0b3IxIGNhbiB1c2Ugc3VkbyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAib3BlcmF0b3IxIGNhbm5vdCB1c2Ugc3VkbyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiRW5zdXJlIC9ldGMvc3Vkb2Vycy5kL29wZXJhdG9yMSBjb250YWluczogb3BlcmF0b3IxIEFMTD0oQUxMKSBBTEwiCiAgICAgIF0KICAgIH0KICBdCn0KVVNFUlNfU1VQRVJVU0VSX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvdXNlcnMtdXNlci5qc29uCiAgICBjYXQgPiAiJElOU1RBTExfRElSL2N1c3RvbV9sYWJzL2V4YW1wbGVzL3VzZXJzLXVzZXIuanNvbiIgPDwgJ1VTRVJTX1VTRVJfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogInVzZXJzLXVzZXIiLAogICAgIm5hbWUiOiAiTWFuYWdlIExvY2FsIFVzZXIgQWNjb3VudHMiLAogICAgImRlc2NyaXB0aW9uIjogIkNyZWF0ZSwgbW9kaWZ5LCBhbmQgZGVsZXRlIGxvY2FsIHVzZXIgYWNjb3VudHMiLAogICAgImNvdXJzZSI6ICJyaDEyNCIsCiAgICAiY2hhcHRlciI6ICJDaGFwdGVyIDUiLAogICAgImVzdGltYXRlZF90aW1lIjogIjE1IG1pbnV0ZXMiLAogICAgIm9iamVjdGl2ZXMiOiBbCiAgICAgICJDcmVhdGUgdXNlciBhY2NvdW50cyB3aXRoIHVzZXJhZGQiLAogICAgICAiU2V0IHVzZXIgcGFzc3dvcmRzIHdpdGggcGFzc3dkIiwKICAgICAgIk1vZGlmeSB1c2VyIGFjY291bnRzIHdpdGggdXNlcm1vZCIsCiAgICAgICJEZWxldGUgdXNlciBhY2NvdW50cyB3aXRoIHVzZXJkZWwiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJBY2Nlc3MgdG8gc2VydmVyYSBtYWNoaW5lIiwKICAgICAgIlJvb3Qgb3Igc3VkbyBhY2Nlc3MiCiAgICBdLAogICAgInRhZ3MiOiBbInVzZXJzIiwgInVzZXJhZGQiLCAidXNlcm1vZCIsICJ1c2VyZGVsIiwgInBhc3N3ZCJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2VydmVyIGZvciB1c2VyIG1hbmFnZW1lbnQgcHJhY3RpY2UiLAogICAgICAgICJzc2hfdXNlciI6ICJzdHVkZW50IgogICAgICB9CiAgICBdLAogICAgInZhcmlhYmxlcyI6IHt9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJvcGVyYXRvcjEtZXhpc3RzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IG9wZXJhdG9yMSB1c2VyIGV4aXN0cyB3aXRoIGNvcnJlY3QgY29tbWVudCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJvcGVyYXRvcjEgdXNlciBzaG91bGQgZXhpc3Qgd2l0aCBjb21tZW50ICdPcGVyYXRvciBPbmUnIiwKICAgICAgInBvaW50cyI6IDIsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAidXNlcl9leGlzdHMiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAidXNlcm5hbWUiOiAib3BlcmF0b3IxIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogImdldGVudCBwYXNzd2Qgb3BlcmF0b3IxIHwgZ3JlcCAtcSAnT3BlcmF0b3IgT25lJyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICJvcGVyYXRvcjEgZXhpc3RzIHdpdGggY29tbWVudCAnT3BlcmF0b3IgT25lJyIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAib3BlcmF0b3IxIG1pc3Npbmcgb3IgY29tbWVudCBpbmNvcnJlY3QiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIkNyZWF0ZSB1c2VyOiBzdWRvIHVzZXJhZGQgb3BlcmF0b3IxIiwKICAgICAgICAiU2V0IHBhc3N3b3JkOiBzdWRvIHBhc3N3ZCBvcGVyYXRvcjEiLAogICAgICAgICJTZXQgY29tbWVudDogc3VkbyB1c2VybW9kIC1jICdPcGVyYXRvciBPbmUnIG9wZXJhdG9yMSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm9wZXJhdG9yMi1leGlzdHMiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BlcmF0b3IyIHVzZXIgZXhpc3RzIHdpdGggY29ycmVjdCBjb21tZW50IiwKICAgICAgImRlc2NyaXB0aW9uIjogIm9wZXJhdG9yMiB1c2VyIHNob3VsZCBleGlzdCB3aXRoIGNvbW1lbnQgJ09wZXJhdG9yIFR3byciLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJ1c2VyX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJ1c2VybmFtZSI6ICJvcGVyYXRvcjIiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAiZ2V0ZW50IHBhc3N3ZCBvcGVyYXRvcjIgfCBncmVwIC1xICdPcGVyYXRvciBUd28nIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIm9wZXJhdG9yMiBleGlzdHMgd2l0aCBjb21tZW50ICdPcGVyYXRvciBUd28nIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJvcGVyYXRvcjIgbWlzc2luZyBvciBjb21tZW50IGluY29ycmVjdCIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiQ3JlYXRlIHVzZXI6IHN1ZG8gdXNlcmFkZCBvcGVyYXRvcjIiLAogICAgICAgICJTZXQgcGFzc3dvcmQ6IHN1ZG8gcGFzc3dkIG9wZXJhdG9yMiIsCiAgICAgICAgIlNldCBjb21tZW50OiBzdWRvIHVzZXJtb2QgLWMgJ09wZXJhdG9yIFR3bycgb3BlcmF0b3IyIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAib3BlcmF0b3IzLWRlbGV0ZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BlcmF0b3IzIHVzZXIgaXMgZGVsZXRlZCIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJvcGVyYXRvcjMgdXNlciBzaG91bGQgbm90IGV4aXN0ICh3YXMgZGVsZXRlZCB3aXRoIHVzZXJkZWwgLXIpIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJjb21tYW5kIjogIiEgaWQgb3BlcmF0b3IzIDI+L2Rldi9udWxsIiwKICAgICAgICAgICJleHBlY3RlZF9leGl0X2NvZGUiOiAwCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIm9wZXJhdG9yMyB1c2VyIGhhcyBiZWVuIGRlbGV0ZWQiLAogICAgICAiZmFpbHVyZV9tZXNzYWdlIjogIm9wZXJhdG9yMyB1c2VyIHN0aWxsIGV4aXN0cyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiRGVsZXRlIHVzZXIgd2l0aCBob21lIGRpcmVjdG9yeTogc3VkbyB1c2VyZGVsIC1yIG9wZXJhdG9yMyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogIm9wZXJhdG9yMy1ob21lLWRlbGV0ZWQiLAogICAgICAibmFtZSI6ICJWZXJpZnkgb3BlcmF0b3IzIGhvbWUgZGlyZWN0b3J5IGlzIGRlbGV0ZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiL2hvbWUvb3BlcmF0b3IzIHNob3VsZCBub3QgZXhpc3QiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgImNvbW1hbmQiOiAidGVzdCAhIC1kIC9ob21lL29wZXJhdG9yMyIsCiAgICAgICAgICAiZXhwZWN0ZWRfZXhpdF9jb2RlIjogMAogICAgICAgIH0KICAgICAgXSwKICAgICAgInN1Y2Nlc3NfbWVzc2FnZSI6ICIvaG9tZS9vcGVyYXRvcjMgaGFzIGJlZW4gcmVtb3ZlZCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiL2hvbWUvb3BlcmF0b3IzIHN0aWxsIGV4aXN0cyIsCiAgICAgICJoaW50cyI6IFsKICAgICAgICAiVXNlIHVzZXJkZWwgLXIgdG8gcmVtb3ZlIHVzZXIgYW5kIGhvbWUgZGlyZWN0b3J5IiwKICAgICAgICAiT3IgbWFudWFsbHk6IHN1ZG8gcm0gLXJmIC9ob21lL29wZXJhdG9yMyIKICAgICAgXQogICAgfQogIF0KfQpVU0VSU19VU0VSX0pTT05fRU9GCgogICAgIyBDcmVhdGUgY3VzdG9tX2xhYnMvZXhhbXBsZXMvd2Vic2VydmVyLXNldHVwLmpzb24KICAgIGNhdCA+ICIkSU5TVEFMTF9ESVIvY3VzdG9tX2xhYnMvZXhhbXBsZXMvd2Vic2VydmVyLXNldHVwLmpzb24iIDw8ICdXRUJTRVJWRVJfU0VUVVBfSlNPTl9FT0YnCnsKICAidmVyc2lvbiI6ICIxLjAiLAogICJtZXRhZGF0YSI6IHsKICAgICJzbHVnIjogIndlYnNlcnZlci1zZXR1cCIsCiAgICAibmFtZSI6ICJDb25maWd1cmUgYSBCYXNpYyBXZWIgU2VydmVyIiwKICAgICJkZXNjcmlwdGlvbiI6ICJJbnN0YWxsIGFuZCBjb25maWd1cmUgQXBhY2hlIEhUVFAgU2VydmVyIHdpdGggYSBjdXN0b20gaG9tZSBwYWdlIiwKICAgICJjb3Vyc2UiOiAicmgxMjQiLAogICAgImNoYXB0ZXIiOiAiQ2hhcHRlciAxMCIsCiAgICAiZXN0aW1hdGVkX3RpbWUiOiAiMjAgbWludXRlcyIsCiAgICAib2JqZWN0aXZlcyI6IFsKICAgICAgIkluc3RhbGwgdGhlIEFwYWNoZSBIVFRQIFNlcnZlciBwYWNrYWdlIiwKICAgICAgIkNvbmZpZ3VyZSBhbmQgZW5hYmxlIHRoZSBodHRwZCBzZXJ2aWNlIiwKICAgICAgIkNyZWF0ZSBhIGN1c3RvbSBpbmRleC5odG1sIHBhZ2UiLAogICAgICAiQ29uZmlndXJlIHRoZSBmaXJld2FsbCB0byBhbGxvdyBIVFRQIHRyYWZmaWMiCiAgICBdLAogICAgInByZXJlcXVpc2l0ZXMiOiBbCiAgICAgICJCYXNpYyBMaW51eCBjb21tYW5kIGxpbmUgc2tpbGxzIiwKICAgICAgIlVuZGVyc3RhbmRpbmcgb2Ygc3lzdGVtZCBzZXJ2aWNlcyIKICAgIF0sCiAgICAidGFncyI6IFsid2ViIiwgImFwYWNoZSIsICJodHRwZCIsICJmaXJld2FsbCJdCiAgfSwKICAiZW52aXJvbm1lbnQiOiB7CiAgICAiaG9zdHMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJzZXJ2ZXJhIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiV2ViIHNlcnZlciBob3N0IiwKICAgICAgICAic3NoX3VzZXIiOiAic3R1ZGVudCIsCiAgICAgICAgInNzaF9rZXkiOiAifi8uc3NoL2xhYl9yc2EiCiAgICAgIH0KICAgIF0sCiAgICAidmFyaWFibGVzIjogewogICAgICAiV0VCX1JPT1QiOiAiL3Zhci93d3cvaHRtbCIsCiAgICAgICJTRVJWSUNFX05BTUUiOiAiaHR0cGQiCiAgICB9CiAgfSwKICAidGFza3MiOiBbCiAgICB7CiAgICAgICJpZCI6ICJpbnN0YWxsLWh0dHBkIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGh0dHBkIHBhY2thZ2UgaXMgaW5zdGFsbGVkIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBBcGFjaGUgSFRUUCBTZXJ2ZXIgcGFja2FnZSBtdXN0IGJlIGluc3RhbGxlZCIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogInBhY2thZ2VfaW5zdGFsbGVkIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhY2thZ2UiOiAiaHR0cGQiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImh0dHBkIHBhY2thZ2UgaXMgaW5zdGFsbGVkIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJodHRwZCBwYWNrYWdlIGlzIG5vdCBpbnN0YWxsZWQiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlVzZSAnc3VkbyBkbmYgaW5zdGFsbCBodHRwZCcgdG8gaW5zdGFsbCB0aGUgcGFja2FnZSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlcnZpY2UtcnVubmluZyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBodHRwZCBzZXJ2aWNlIGlzIHJ1bm5pbmciLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGh0dHBkIHNlcnZpY2UgbXVzdCBiZSBzdGFydGVkIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAic2VydmljZV9ydW5uaW5nIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInNlcnZpY2UiOiAiaHR0cGQiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogImh0dHBkIHNlcnZpY2UgaXMgYWN0aXZlIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJodHRwZCBzZXJ2aWNlIGlzIG5vdCBydW5uaW5nIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVc2UgJ3N1ZG8gc3lzdGVtY3RsIHN0YXJ0IGh0dHBkJyB0byBzdGFydCB0aGUgc2VydmljZSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImlkIjogInNlcnZpY2UtZW5hYmxlZCIsCiAgICAgICJuYW1lIjogIlZlcmlmeSBodHRwZCBzZXJ2aWNlIGlzIGVuYWJsZWQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGh0dHBkIHNlcnZpY2UgbXVzdCBiZSBlbmFibGVkIHRvIHN0YXJ0IGF0IGJvb3QiLAogICAgICAicG9pbnRzIjogMSwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJzZXJ2aWNlX2VuYWJsZWQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAic2VydmljZSI6ICJodHRwZCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiaHR0cGQgc2VydmljZSBpcyBlbmFibGVkIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJodHRwZCBzZXJ2aWNlIGlzIG5vdCBlbmFibGVkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJVc2UgJ3N1ZG8gc3lzdGVtY3RsIGVuYWJsZSBodHRwZCcgdG8gZW5hYmxlIHRoZSBzZXJ2aWNlIgogICAgICBdCiAgICB9LAogICAgewogICAgICAiaWQiOiAiaW5kZXgtZXhpc3RzIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGN1c3RvbSBpbmRleC5odG1sIGV4aXN0cyIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJBIGN1c3RvbSBpbmRleC5odG1sIGZpbGUgbXVzdCBleGlzdCBpbiB0aGUgd2ViIHJvb3QiLAogICAgICAicG9pbnRzIjogMiwKICAgICAgImNoZWNrcyI6IFsKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2V4aXN0cyIsCiAgICAgICAgICAiaG9zdCI6ICJzZXJ2ZXJhIiwKICAgICAgICAgICJwYXRoIjogIiR7V0VCX1JPT1R9L2luZGV4Lmh0bWwiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAidHlwZSI6ICJmaWxlX2NvbnRhaW5zIiwKICAgICAgICAgICJob3N0IjogInNlcnZlcmEiLAogICAgICAgICAgInBhdGgiOiAiJHtXRUJfUk9PVH0vaW5kZXguaHRtbCIsCiAgICAgICAgICAicGF0dGVybiI6ICI8aHRtbHw8IURPQ1RZUEUiCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkN1c3RvbSBpbmRleC5odG1sIGZvdW5kIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJpbmRleC5odG1sIG5vdCBmb3VuZCBvciBpbnZhbGlkIiwKICAgICAgImhpbnRzIjogWwogICAgICAgICJDcmVhdGUgL3Zhci93d3cvaHRtbC9pbmRleC5odG1sIHdpdGggdmFsaWQgSFRNTCBjb250ZW50IiwKICAgICAgICAiRW5zdXJlIHRoZSBmaWxlIGNvbnRhaW5zIHByb3BlciBIVE1MIHRhZ3MiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJmaXJld2FsbC1odHRwIiwKICAgICAgIm5hbWUiOiAiVmVyaWZ5IGZpcmV3YWxsIGFsbG93cyBIVFRQIHRyYWZmaWMiLAogICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGZpcmV3YWxsIG11c3QgYWxsb3cgSFRUUCAocG9ydCA4MCkgdHJhZmZpYyIsCiAgICAgICJwb2ludHMiOiAxLAogICAgICAiY2hlY2tzIjogWwogICAgICAgIHsKICAgICAgICAgICJ0eXBlIjogImZpcmV3YWxsX3BvcnQiLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicG9ydCI6ICI4MC90Y3AiLAogICAgICAgICAgInpvbmUiOiAicHVibGljIiwKICAgICAgICAgICJwZXJtYW5lbnQiOiB0cnVlCiAgICAgICAgfQogICAgICBdLAogICAgICAic3VjY2Vzc19tZXNzYWdlIjogIkhUVFAgcG9ydCBpcyBvcGVuIGluIGZpcmV3YWxsIiwKICAgICAgImZhaWx1cmVfbWVzc2FnZSI6ICJIVFRQIHBvcnQgaXMgbm90IG9wZW4gaW4gZmlyZXdhbGwiLAogICAgICAiaGludHMiOiBbCiAgICAgICAgIlVzZSAnc3VkbyBmaXJld2FsbC1jbWQgLS1wZXJtYW5lbnQgLS1hZGQtc2VydmljZT1odHRwJyIsCiAgICAgICAgIkRvbid0IGZvcmdldCB0byByZWxvYWQ6ICdzdWRvIGZpcmV3YWxsLWNtZCAtLXJlbG9hZCciCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJpZCI6ICJwb3J0LWxpc3RlbmluZyIsCiAgICAgICJuYW1lIjogIlZlcmlmeSB3ZWIgc2VydmVyIGlzIGxpc3RlbmluZyBvbiBwb3J0IDgwIiwKICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSB3ZWIgc2VydmVyIG11c3QgYmUgbGlzdGVuaW5nIG9uIFRDUCBwb3J0IDgwIiwKICAgICAgInBvaW50cyI6IDEsCiAgICAgICJjaGVja3MiOiBbCiAgICAgICAgewogICAgICAgICAgInR5cGUiOiAicG9ydF9saXN0ZW5pbmciLAogICAgICAgICAgImhvc3QiOiAic2VydmVyYSIsCiAgICAgICAgICAicG9ydCI6IDgwLAogICAgICAgICAgInByb3RvY29sIjogInRjcCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJzdWNjZXNzX21lc3NhZ2UiOiAiV2ViIHNlcnZlciBpcyBsaXN0ZW5pbmcgb24gcG9ydCA4MCIsCiAgICAgICJmYWlsdXJlX21lc3NhZ2UiOiAiV2ViIHNlcnZlciBpcyBub3QgbGlzdGVuaW5nIG9uIHBvcnQgODAiCiAgICB9CiAgXQp9CldFQlNFUlZFUl9TRVRVUF9KU09OX0VPRgoKICAgIHByaW50X3N1Y2Nlc3MgIkZpbGVzIGluc3RhbGxlZCIKfQoKIyBDb25maWd1cmUgc2hlbGwgYWxpYXMKY29uZmlndXJlX2FsaWFzKCkgewogICAgcHJpbnRfc3RlcCAiQ29uZmlndXJpbmcgc2hlbGwgYWxpYXMuLi4iCgogICAgQUxJQVNfTElORT0iYWxpYXMgbGFiPSckSU5TVEFMTF9ESVIvbGFiLXhhcGknIgoKICAgIGlmIFsgLW4gIiRaU0hfVkVSU0lPTiIgXSB8fCBbIC1mICIkSE9NRS8uenNocmMiIF07IHRoZW4KICAgICAgICBTSEVMTF9SQz0iJEhPTUUvLnpzaHJjIgogICAgZWxzZQogICAgICAgIFNIRUxMX1JDPSIkSE9NRS8uYmFzaHJjIgogICAgZmkKCiAgICBpZiBncmVwIC1xICJsYWIteGFwaSIgIiRTSEVMTF9SQyIgMj4vZGV2L251bGw7IHRoZW4KICAgICAgICBwcmludF93YXJuaW5nICJSZW1vdmluZyBleGlzdGluZyBsYWIteGFwaSBhbGlhcyBmcm9tICRTSEVMTF9SQyIKICAgICAgICBncmVwIC12ICJsYWIteGFwaSIgIiRTSEVMTF9SQyIgPiAiJFNIRUxMX1JDLnRtcCIgJiYgbXYgIiRTSEVMTF9SQy50bXAiICIkU0hFTExfUkMiCiAgICBmaQoKICAgIGVjaG8gIiIgPj4gIiRTSEVMTF9SQyIKICAgIGVjaG8gIiMgbGFiLXhhcGkgd3JhcHBlciBmb3IgeEFQSSBncmFkZSByZXBvcnRpbmciID4+ICIkU0hFTExfUkMiCiAgICBlY2hvICIkQUxJQVNfTElORSIgPj4gIiRTSEVMTF9SQyIKCiAgICBwcmludF9zdWNjZXNzICJBbGlhcyBhZGRlZCB0byAkU0hFTExfUkMiCn0KCiMgTWFpbiBpbnN0YWxsYXRpb24KbWFpbigpIHsKICAgIGVjaG8gIiIKICAgIGVjaG8gIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iCiAgICBlY2hvICIgIGxhYi14YXBpIEluc3RhbGxlciIKICAgIGVjaG8gIiAgeEFQSSBHcmFkZSBSZXBvcnRpbmcgZm9yIExhYiBDb21tYW5kIgogICAgZWNobyAiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIKICAgIGVjaG8gIiIKCiAgICBjaGVja19wcmVyZXFzCiAgICBpbnN0YWxsX2ZpbGVzCiAgICBjb25maWd1cmVfYWxpYXMKCiAgICBlY2hvICIiCiAgICBlY2hvICI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IgogICAgZWNobyAtZSAiJHtHUkVFTn1JbnN0YWxsYXRpb24gY29tcGxldGUhJHtOQ30iCiAgICBlY2hvICI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IgogICAgZWNobyAiIgogICAgZWNobyAiV2hlbiB5b3UgZmlyc3QgcnVuICdsYWIgc3RhcnQgPHNsdWc+JywgeW91J2xsIGJlIHByb21wdGVkIgogICAgZWNobyAidG8gZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzIGZvciBncmFkZSByZXBvcnRpbmcuIgogICAgZWNobyAiIgogICAgZWNobyAiQWRkaXRpb25hbCBjb25maWd1cmF0aW9uOiIKICAgIGVjaG8gIiAgICBsYWIgeGFwaS1jb25maWcgc2hvdyAgICAgICMgVmlldyBjdXJyZW50IGNvbmZpZyIKICAgIGVjaG8gIiAgICBsYWIgeGFwaS1jb25maWcgbHJzICAgICAgICMgQ29uZmlndXJlIExSUyBlbmRwb2ludCIKICAgIGVjaG8gIiAgICBsYWIgeGFwaS1jb25maWcgaGVscCAgICAgICMgU2hvdyBhbGwgb3B0aW9ucyIKICAgIGVjaG8gIiIKICAgIGVjaG8gIlVwZGF0ZXM6IgogICAgZWNobyAiICAgIGxhYiB1cGRhdGUgICAgICAgICAgICAgICAgIyBDaGVjayBmb3IgYW5kIGluc3RhbGwgdXBkYXRlcyIKICAgIGVjaG8gIiAgICBsYWIgdmVyc2lvbiAgICAgICAgICAgICAgICMgU2hvdyBpbnN0YWxsZWQgdmVyc2lvbiIKICAgIGVjaG8gIiIKICAgIGVjaG8gIkN1c3RvbSBsYWJzOiIKICAgIGVjaG8gIiAgICBsYWIgY3VzdG9tLWxhYnMgbGlzdCAgICAgICMgTGlzdCBhdmFpbGFibGUgY3VzdG9tIGxhYnMiCiAgICBlY2hvICIgICAgbGFiIGN1c3RvbS1sYWJzIGdyYWRlIDxzbHVnPiAgIyBHcmFkZSBhIGN1c3RvbSBsYWIiCiAgICBlY2hvICIiCiAgICBlY2hvICJTQ09STSBwYWNrYWdlczoiCiAgICBlY2hvICIgICAgbGFiIHNjb3JtLXBhY2thZ2UgICAgICAgICAjIEdlbmVyYXRlIFNDT1JNIHBhY2thZ2UgKGludGVyYWN0aXZlKSIKICAgIGVjaG8gIiAgICBsYWIgc2Nvcm0tcGFja2FnZSBsaXN0ICAgICMgTGlzdCBhdmFpbGFibGUgbGFicyBmb3IgcGFja2FnaW5nIgogICAgZWNobyAiIgoKICAgICMgQWN0aXZhdGUgdGhlIGFsaWFzCiAgICBpZiBbIC1mICIkU0hFTExfUkMiIF07IHRoZW4KICAgICAgICBpZiBbIC10IDAgXTsgdGhlbgogICAgICAgICAgICAjIFJ1bm5pbmcgaW50ZXJhY3RpdmVseSAobm90IHBpcGVkKSwgY2FuIHNvdXJjZSBkaXJlY3RseQogICAgICAgICAgICBwcmludF9zdGVwICJBY3RpdmF0aW5nIGxhYiBhbGlhcy4uLiIKICAgICAgICAgICAgc291cmNlICIkU0hFTExfUkMiCiAgICAgICAgICAgIHByaW50X3N1Y2Nlc3MgIkFsaWFzIGFjdGl2YXRlZCEgWW91IGNhbiBub3cgdXNlICdsYWInIGNvbW1hbmQuIgogICAgICAgIGVsc2UKICAgICAgICAgICAgIyBSdW5uaW5nIHZpYSBwaXBlIChjdXJsIHwgYmFzaCksIG5lZWQgdG8gdGVsbCB1c2VyIHRvIHJlbG9hZAogICAgICAgICAgICBlY2hvICIiCiAgICAgICAgICAgIGVjaG8gLWUgIiR7WUVMTE9XfVRvIGFjdGl2YXRlIHRoZSAnbGFiJyBjb21tYW5kLCBydW46JHtOQ30iCiAgICAgICAgICAgIGVjaG8gIiIKICAgICAgICAgICAgZWNobyAtZSAiICAgICR7QkxVRX1zb3VyY2Ugfi8uYmFzaHJjJHtOQ30iCiAgICAgICAgICAgIGVjaG8gIiIKICAgICAgICAgICAgZWNobyAiT3Igb3BlbiBhIG5ldyB0ZXJtaW5hbC4iCiAgICAgICAgZmkKICAgIGZpCn0KCm1haW4gIiRAIgo="
$_x0a "$(echo "$_x0p" | $_x0b $_x0c)"
